2004-11-18 23:41  jackjansen

	* src/player_macosx/mypreferences.mm: Fix (hack?) to make the
	  preferences dialog show the correct defaults when no previous
	  settings have been made.

2004-11-18 15:19  keesblom

	* configure.in: Added a test for QT_THREAD_SUPPORT to make posting
	  QEvents thread-safe

2004-11-18 14:13  keesblom

	* src/player_unix/qt_logger.cpp: Forgot to remove call to
	  QTextEdit->append(..), causing Async reply errors

2004-11-18 11:52  jackjansen

	* src/: player_mfc/AmbulantPlayer.cpp, player_mfc/AmbulantPlayer.h,
	  player_mfc/AmbulantPlayer.rc, player_mfc/resource.h,
	  AmbulantWin32Installer/AmbulantWiseInstaller.wse: - Added Help to
	  the Help menu - Added helpfile to the installer - Added desktop
	  shortcut to the player (on Dicks request)

2004-11-17 17:50  keesblom

	* src/: libambulant/gui/SDL/sdl.cpp,
	  libambulant/gui/SDL/sdl_audio.cpp,
	  libambulant/gui/qt/qt_video_renderer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_gui.h, player_unix/qt_logger.cpp,
	  player_unix/qt_logger.h, player_unix/qt_mainloop.cpp: Added
	  mechanism to send QCustomEvent's to the main event loop.  This is
	  now used for show_message and logging in a window Async reply
	  errors from X are still observed, however, these are likely
	  related to video.

2004-11-17 16:52  jackjansen

	* Documentation/user-htmlhelp/: AmbulantPlayerHelp.chm,
	  AmbulantPlayerHelp.hhc, AmbulantPlayerHelp.hhk,
	  AmbulantPlayerHelp.hhp: A first stab at creating Windows help.

2004-11-17 16:08  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/player_unix/qt_logger.cpp: [no log message]

2004-11-17 15:53  jackjansen

	* Extras/bindist-readme.txt: Remove outdated file.

2004-11-17 15:53  jackjansen

	* Extras/readme.txt: Removed outdated file.

2004-11-17 15:50  jackjansen

	* Makefile.am, configure.in, Documentation/Makefile.am,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_gui.h: - Install the manpage - Install the
	  documentation (into $pkgdatadir) - Enable viewing the
	  documentation from the player - When looking for the welcome
	  document also look in $pkgdatadir.

2004-11-17 15:05  jackjansen

	* Documentation/user/feedback.html, Documentation/user/intro.html,
	  src/player_macosx/Info.plist, src/player_macosx/Makefile.am,
	  src/player_macosx/genappleindex.sh: Finished first draft of the
	  help files.  Added help book to the Mac player.

2004-11-17 13:09  koelimoe

	* src/player_unix/qt_logger.cpp: sorry

2004-11-17 12:19  koelimoe

	* src/libambulant/gui/SDL/sdl_audio.cpp: fixed null pointer bug

2004-11-17 12:15  koelimoe

	* include/ambulant/net/databuffer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_logger.cpp: fixed (i think :-) ) the uncoupled
	  get_read_ptr/readdone bug. In the process i fixed some errors
	  that valgrind reported aswell. Please report if one of the
	  assertion i put in place to detect this  fail. (It's still
	  possible that the arts sound renderer shows the same problem, so
	  i'll check this)

2004-11-17 00:17  jackjansen

	* Documentation/user/: ambulant.gif, ambulantsmall.gif,
	  developer.html, feedback.html, index.html, intro.html,
	  playback.html, preferences.html: Starting on the Help file.
	  Unfinished.

2004-11-15 17:16  keesblom

	* src/: libambulant/gui/qt/qt_fill.cpp,
	  libambulant/net/databuffer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_gui.h, player_unix/qt_mainloop.cpp,
	  player_unix/qt_mainloop.h: Merged with Jack's locality additions.

2004-11-15 15:07  jackjansen

	* src/: player_macosx/MyAppDelegate.mm,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  plugins/artsplugin.cpp, plugins/plugin.cpp,
	  plugins/xercesplugin.cpp: Workaround (hack) to forestall spurious
	  error message when using the xerces parser: we allow factories to
	  be NULL (and the plugins cater for this), and early during
	  startup we register plugins, but only parser plugins.

2004-11-15 15:06  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: Make sure
	  get_read_pointer()/readdone() and get_write_pointer()/pushdata()
	  calls are matched.

2004-11-15 13:24  jackjansen

	* po/: ambulant.pot, en.gmo, en.po, nl.gmo, nl.po: More
	  translations.

2004-11-15 11:51  jackjansen

	* src/player_unix/: qt_gui.cpp, qt_gui.h: Revamped UI to be more in
	  line with Mac/Windows.

2004-11-15 11:50  jackjansen

	* src/libambulant/lib/parser_factory.cpp: Don't give an error if
	  the default parser happens to be the one the user asked for.

2004-11-15 11:00  koelimoe

	* src/libambulant/net/databuffer.cpp: removed a small bug where the
	  player crashed if databuffer.pushdata was called with 0 as
	  argument.

2004-11-15 10:48  jackjansen

	* src/player_mfc/MmView.cpp: Fixed ifdef for l10n

2004-11-15 10:46  jackjansen

	* src/player_unix/qt_gui.cpp: - Fixed ifdefs for gettext support -
	  Allow localisations to live in ~/.ambulant/locale - Got
	  localization to work.

2004-11-12 16:13  jackjansen

	* po/: ambulant.pot, en.gmo, en.po, nl.gmo, nl.po: Started on
	  translating Unix gui.

2004-11-12 16:08  jackjansen

	* src/player_unix/qt_gui.cpp: Tweak.

2004-11-12 16:04  koelimoe

	* src/player_unix/qt_mainloop.cpp: made a warn a debug , i don't
	  think it should popup

2004-11-12 15:59  koelimoe

	* src/libambulant/net/datasource.cpp: This "fix" casued the player
	  to lock , so i removed it again CVS
	  ----------------------------------------------------------------------

2004-11-12 15:55  jackjansen

	* src/player_unix/qt_gui.cpp: Fixed typo.

2004-11-12 15:49  jackjansen

	* src/player_unix/: qt_gui.cpp, qt_logger.cpp, qt_mainloop.cpp,
	  qt_settings.cpp, unix_preferences.cpp: Started on
	  internationalizing unix gui.

2004-11-12 15:15  jackjansen

	* src/player_wince/AmbulantPlayerView.cpp: Fixed wince player wrt.
	  show_message.

2004-11-12 14:46  koelimoe

	* include/ambulant/net/databuffer.h,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp: an ugly but temp. fix for the
	  buffer being moved away while still reading.

2004-11-12 14:45  jackjansen

	* po/remove-potcdate.sin: This file was omitted in the initial
	  checkin, but it's part of the gettext infrastructure.

2004-11-12 14:33  jackjansen

	* src/libambulant/: gui/dx/dx_player.cpp,
	  libambulant_win32-noxerces.vcproj, lib/tree_builder.cpp: - Use
	  the parser_factory on windows too - Re-enabled building the debug
	  version

2004-11-12 13:47  keesblom

	* src/: libambulant/gui/qt/qt_factory.cpp,
	  libambulant/gui/qt/qt_renderer.cpp, player_unix/qt_logger.cpp:
	  Fixed a line causing core-dump

2004-11-11 16:47  jackjansen

	* include/ambulant/net/posix_datasource.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_dsvideo.mm,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_renderer.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/lib/document.cpp, src/libambulant/lib/gpaths.cpp,
	  src/libambulant/lib/parselets.cpp,
	  src/libambulant/lib/parser_factory.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/libambulant/net/url.cpp, src/libambulant/smil2/animate_a.cpp,
	  src/libambulant/smil2/animate_n.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/smil_time.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/transition.cpp: Fiddled many error
	  messages.

2004-11-11 16:40  jackjansen

	* src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Added
	  xerces and other dll's.

2004-11-11 16:34  jackjansen

	* third_party_packages/copy_tpp_win32.bat: Copy xerces libs, if
	  they are available.

2004-11-11 16:29  keesblom

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/qt_logger.cpp, src/player_unix/qt_logger.h,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h,
	  src/player_unix/unix_preferences.cpp: Changed show_message() and
	  logger in a window to use ONE GUI thread to get rid of X11
	  unexpected async reply errors

2004-11-11 16:17  koelimoe

	* src/libambulant/: common/region.cpp, net/databuffer.cpp:
	  Minor changeS, celean up of some assertions

2004-11-11 16:08  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: failed attempt to fix
	  the problem with the disappearing buffer

2004-11-11 16:02  koelimoe

	* src/libambulant/common/renderer.cpp: fix m_src can be zero here

2004-11-11 11:00  jackjansen

	* src/player_unix/qt_logger.cpp: Show relevant error/warning icon
	  in dialogs.

2004-11-10 15:14  koelimoe

	* src/libambulant/common/plugin_engine.cpp: removed the
	  system("printenv"); call that was still there

2004-11-10 15:12  koelimoe

	* src/player_unix/: qt_logger.cpp, qt_settings.cpp: added a lable
	  to the plugin_dir preference menu

2004-11-10 15:11  koelimoe

	* src/player_unix/qt_settings.h:  added a lable to the plugin_dir
	  preference menu

2004-11-10 15:10  koelimoe

	* src/player_unix/qt_logger.h:	the show_message missed an argument

2004-11-10 15:09  koelimoe

	* src/libambulant/common/plugin_engine.cpp: tweak

2004-11-10 15:09  koelimoe

	* include/ambulant/lib/xerces_parser.h: itweak

2004-11-10 15:08  koelimoe

	* src/libambulant/: net/ffmpeg_datasource.cpp,
	  smil2/smil_player.cpp: Changed warn to debug. These where very
	  geeky msgs so i don't think these should end up on the user
	  screen anyway

2004-11-10 12:34  koelimoe

	* bin/win32/AmbulantPlayer.exe,
	  include/ambulant/lib/xerces_parser.h,
	  src/Ambulant-win32-noxerces.sln, src/Ambulant-win32.sln,
	  src/libambulant/libambulant_win32-noxerces.vcproj,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_mfc/AmbulantPlayer-noxerces.vcproj: Added the xerces
	  parser to the wndows player.	although the windows player doesn't
	  uses the factory construction for this .

2004-11-09 16:53  jackjansen

	* src/player_macosx/: MyAppDelegate.mm, mainloop.cpp: Fix
	  difference between WITH_XERCES and WITH_XERCES_BUILTIN

2004-11-09 16:51  jackjansen

	* src/libambulant/common/plugin_engine.cpp: A few more logging
	  statements to enable us to see what goes on.

2004-11-09 15:24  jackjansen

	* src/player_unix/: Makefile.am, qt_mainloop.cpp: Distinction
	  between WITH_XERCES and WITH_XERCES_BUILTIN made.

2004-11-09 14:48  jackjansen

	* src/player_macosx/MyAppDelegate.mm: Added level parameter to
	  show_message().

2004-11-09 14:37  jackjansen

	* include/ambulant/lib/logger.h, src/libambulant/lib/logger.cpp,
	  src/player_mfc/MmView.cpp,
	  include/ambulant/lib/win32/win32_asb.h,
	  src/libambulant/lib/win32/win32_asb.cpp: Added a level parameter
	  to show_message.

2004-11-08 14:11  jackjansen

	* include/ambulant/lib/parser_factory.h,
	  src/libambulant/lib/parser_factory.cpp: Give a warning message
	  when we use a different parser than the user requersted.

2004-11-08 14:04  jackjansen

	* src/libambulant/common/region.cpp: Got rid of the error dialog
	  for renderer_done.

2004-11-08 11:50  jackjansen

	* src/player_mfc/: AmbulantPlayer.rc, PreferencesDlg.cpp,
	  PreferencesDlg.h, mypreferences.cpp, resource.h: Fixed
	  preferences.

2004-11-02 17:00  keesblom

	* include/ambulant/gui/qt/qt_fill.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/qt_logger.cpp, src/player_unix/qt_logger.h,
	  src/player_unix/qt_mainloop.cpp: Implemented "brush"

2004-11-02 16:30  koelimoe

	* src/player_unix/: qt_settings.cpp, qt_settings.h: Whaile at added
	  also plugin preferences to qt_Settings

2004-11-02 15:49  koelimoe

	* src/player_unix/qt_settings.cpp: tweaking

2004-11-02 15:34  koelimoe

	* src/player_unix/: qt_settings.cpp, qt_settings.h,
	  unix_preferences.cpp: Changed the settings window so it uses the
	  new validation_scheme instead of the do_validation.

2004-11-01 16:35  jackjansen

	* configure.in, src/libambulant/Makefile.am,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_macosx/Makefile.am, src/plugins/Makefile.am: Added
	  --with-xerces-plugin, which governs whether xerces support will
	  be builtin in the main library or through a plugin. This idiom is
	  probablyresuabel for other tools too (sdl, ffmpeg, etc).

2004-11-01 15:54  koelimoe

	* Documentation/man1/ambulantplayer.1: first draft on a man page

2004-11-01 14:00  jackjansen

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_macosx/Makefile.am,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/mypreferences.mm,
	  src/player_macosx/English.lproj/MainMenu.nib/info.nib,
	  src/player_macosx/English.lproj/MainMenu.nib/keyedobjects.nib,
	  src/player_macosx/English.lproj/MainMenu.nib/objects.nib,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Various MacOS fixes: - Fixed preferences to do validation
	  correctly, and use correct terms.  - Include gettext localization
	  in the app bundle - Include plugins in the app bundle - Add the
	  missing slash in plugin dirs

2004-11-01 13:21  jackjansen

	* src/libambulant/Makefile.am: The variable name is INCLTDL, not
	  LTDLINCL.

2004-10-31 17:45  jackjansen

	* src/: libambulant/common/plugin_engine.cpp,
	  player_macosx/Makefile.am: Started on putting the plugins inside
	  the app framework (macosx) and in other platform-dependent
	  locations.

	  Unfinished and untested.

2004-10-31 00:11  jackjansen

	* configure.in: Added --with[out]-ltdl-plugins. By default they are
	  enabled under unix.

2004-10-29 17:06  koelimoe

	* libltdl/Makefile.in, libltdl/aclocal.m4, libltdl/configure,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_unix/qt_mainloop.cpp: preferences are now int
	  plugin_engine

2004-10-29 16:50  jackjansen

	* third_party_packages/readme.txt: Added a note on where to find
	  the xerces library after building.

2004-10-29 13:55  jackjansen

	* include/ambulant/gui/dg/dg_area.h,
	  include/ambulant/gui/dg/dg_audio.h,
	  include/ambulant/gui/dg/dg_brush.h,
	  include/ambulant/gui/dg/dg_img.h,
	  include/ambulant/gui/dg/dg_text.h,
	  src/libambulant/gui/dg/dg_audio.cpp,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/player_mfc/mypreferences.cpp: Tweaks, mainly for the seek()
	  method.

2004-10-29 11:50  jackjansen

	* Makefile.am, configure.in, Documentation/API/Doxyfile,
	  include/ambulant/version.h,
	  include/ambulant/common/preferences.h,
	  include/ambulant/config/config.h,
	  include/ambulant/config/platform/win32.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/lib/abstract_mtsync.h,
	  include/ambulant/lib/logger.h, include/ambulant/lib/mtsync.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  include/ambulant/lib/win32/win32_mtsync.h,
	  include/ambulant/net/databuffer.h, include/ambulant/net/url.h,
	  include/ambulant/smil2/test_attrs.h, libltdl/COPYING.LIB,
	  libltdl/Makefile.am, libltdl/Makefile.in, libltdl/README,
	  libltdl/acinclude.m4, libltdl/aclocal.m4, libltdl/config-h.in,
	  libltdl/config.guess, libltdl/config.sub, libltdl/configure,
	  libltdl/configure.ac, libltdl/install-sh, libltdl/ltdl.c,
	  libltdl/ltdl.h, libltdl/ltmain.sh, libltdl/missing,
	  libltdl/mkinstalldirs, m4/libtool.m4, m4/ltdl.m4,
	  src/Ambulant-win32.sln, src/libambulant/Makefile.am,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/libambulant_wince.vcp,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/gui/dg/dg_image_renderer.cpp,
	  src/libambulant/gui/dg/dg_mp3_decoder.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dx/dx_image_renderer.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/net/url.cpp,
	  src/player_mfc/AmbulantPlayer.vcproj, src/player_mfc/MmView.cpp,
	  src/player_unix/Makefile.am,
	  src/player_wince/AmbulantPlayerView.cpp, src/plugins/Makefile.am:
	  Merging exp_jack_ltdl branch.

2004-10-29 11:02  jackjansen

	* include/ambulant/lib/abstract_mtsync.h: Include config.h

2004-10-29 10:48  jackjansen

	* include/ambulant/gui/dg/dg_player.h,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/player_wince/AmbulantPlayerView.cpp,
	  src/libambulant/libambulant_wince.vcp,
	  src/libambulant/common/plugin_engine.cpp: Got things to compile
	  again for WinCE.

2004-10-29 10:10  jackjansen

	* src/plugins/plugin.cpp: Added a seek method.

2004-10-28 23:51  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/gui/none/none_area.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/player_macosx/MyAppDelegate.mm: Defensive programming: - Got
	  rid of playable_imp::seek(): playables not implementing seek
	  should   add a dummy method themselves. renderer_playable_dsall
	  does this.  - Don't call renderer_done() unless show() has been
	  called.  - Fixed a few error messages.

2004-10-28 16:56  koelimoe

	* src/plugins/: Makefile.am, xercesplugin.cpp: slight improvement
	  on the xerces linking, but still not there

2004-10-28 16:39  jackjansen

	* include/ambulant/lib/abstract_mtsync.h,
	  include/ambulant/lib/logger.h, include/ambulant/lib/mtsync.h,
	  src/player_mfc/AmbulantPlayer.vcproj, src/player_mfc/MmView.cpp,
	  include/ambulant/config/config.h,
	  src/libambulant/gui/dx/dx_player.cpp,
	  include/ambulant/common/preferences.h,
	  include/ambulant/gui/dx/dx_player.h,
	  src/libambulant/libambulant_win32.vcproj,
	  include/ambulant/smil2/test_attrs.h, src/libambulant/net/url.cpp,
	  include/ambulant/version.h, include/ambulant/net/url.h,
	  include/ambulant/config/platform/win32.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  include/ambulant/lib/win32/win32_mtsync.h: Mass checkin: added
	  __declspec(dllimport) and did all the other magic to make
	  ambulant work with the player engine in a DLL on windows.

2004-10-28 13:08  koelimoe

	* src/: player_macosx/mypreferences.mm,
	  player_mfc/mypreferences.cpp: added plugin preferences to the
	  windows mypreferences and fixed the forgoten mac osx parts

2004-10-28 13:07  koelimoe

	* src/plugins/: Makefile.am, xercesplugin.cpp: a xerces_plugin.

2004-10-28 10:50  koelimoe

	* include/ambulant/common/playable.h,
	  include/ambulant/lib/parser_factory.h,
	  src/libambulant/lib/parser_factory.cpp,
	  src/libambulant/lib/tree_builder.cpp: we make things better ;-)

2004-10-27 16:13  keesblom

	* src/: libambulant/common/plugin_engine.cpp,
	  libambulant/gui/qt/qt_video_renderer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_logger.cpp, player_unix/qt_logger.h: Disabled
	  qt_logger, because it often gets into an X-server error "async
	  reply". There is a solution, which only works with
	  QT_THREAD_SUPPORT which we don't have. Therefore the bug report
	  remains open.

2004-10-27 11:41  koelimoe

	* src/player_macosx/mypreferences.mm: added plugin preferenecs

2004-10-26 17:00  jackjansen

	* src/Ambulant-win32.sln, include/ambulant/net/databuffer.h,
	  src/libambulant/gui/dg/dg_image_renderer.cpp,
	  src/player_mfc/AmbulantPlayer.vcproj,
	  src/libambulant/gui/dg/dg_mp3_decoder.cpp,
	  src/libambulant/gui/dx/dx_image_renderer.cpp,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/lib/expat_parser.cpp: Turns out there wasn't a
	  DLL-based player yet. Started on this. Turns out it is more work
	  than expected because there are some calls from the library back
	  to the main program. Aside from these everything seems to build.

2004-10-26 16:19  koelimoe

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_unix/unix_preferences.cpp: added plugin stuff to the
	  preferences. (waiting for Jack ot add the preferences to the
	  plugin stuff )

2004-10-26 15:45  jackjansen

	* src/libambulant/: gui/dg/dg_player.cpp, libambulant_win32.vcproj,
	  common/plugin_engine.cpp, gui/dx/dx_player.cpp: Started on
	  putting the plugin engine into the windows player.

2004-10-26 15:42  koelimoe

	* src/plugins/Makefile.am: plugins get installed in
	  $PREFIX/lib/ambulant

2004-10-26 13:04  koelimoe

	* src/player_unix/qt_mainloop.cpp: oops

2004-10-26 12:49  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/player_unix/qt_mainloop.cpp: fixed: arts works now also as a
	  sound renderer for video

2004-10-26 11:48  koelimoe

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/plugins/artsplugin.cpp: fixed most of the broken arts stuff.

2004-10-25 18:00  keesblom

	* src/player_unix/: qt_gui.cpp, qt_logger.cpp: Implemented
	  showmessage in qt_logger

2004-10-25 16:58  keesblom

	* src/player_unix/: Makefile.am, qt_gui.cpp, qt_gui.h,
	  qt_mainloop.h, unix_preferences.cpp, unix_preferences.h: Merged
	  the sane2004 branch with the main trunk. Compiles and works with
	  Fedora, does not compile with Zaurus, because of ltdl.

2004-10-25 16:55  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/plugins/artsplugin.cpp: cleaned up the arts stuff (arts
	  broken :-) )

2004-10-25 16:04  jackjansen

	* m4/libtool.m4: ltdl.m4 requires newer libtool.m4

2004-10-25 16:01  jackjansen

	* Makefile.am, configure.in, libltdl/COPYING.LIB,
	  libltdl/Makefile.am, libltdl/Makefile.in, libltdl/README,
	  libltdl/acinclude.m4, libltdl/aclocal.m4, libltdl/config-h.in,
	  libltdl/config.guess, libltdl/config.sub, libltdl/configure,
	  libltdl/configure.ac, libltdl/install-sh, libltdl/ltdl.c,
	  libltdl/ltdl.h, libltdl/ltmain.sh, libltdl/missing,
	  libltdl/mkinstalldirs, m4/ltdl.m4: - Switched to an included
	  libltdl - Switched to a newer libltdl (with full OSX support)

2004-10-25 15:16  jackjansen

	* configure.in, Documentation/API/Doxyfile, m4/ltdl.m4,
	  src/libambulant/Makefile.am, src/player_unix/Makefile.am: Use
	  standard defines/includes to get ltdl support.

2004-10-25 15:16  jackjansen

	* src/libambulant/common/plugin_engine.cpp: Temporary hack to allow
	  different plugin dirs.

2004-10-25 15:16  jackjansen

	* src/plugins/Makefile.am: Got rid of the -shared flag: it breaks
	  things on OSX and I don't think it does anything necessary on
	  Linux (or does it?).

2004-10-25 15:05  jackjansen

	* po/Makefile.in.in: iGot rid of POMAKEFILEDEPS.

2004-10-25 13:18  koelimoe

	* src/: libambulant/libambulant_win32-noxerces.vcproj,
	  libambulant/libambulant_win32.vcproj,
	  player_mfc/AmbulantPlayer.vcproj: the noxerces project files

2004-10-25 11:53  koelimoe

	* src/: Ambulant-win32-noxerces.sln,
	  libambulant/libambulant_win32-noxerces.vcproj,
	  player_mfc/AmbulantPlayer-noxerces.vcproj: project files to build
	  the player without xerces

2004-10-25 11:49  koelimoe

	* third_party_packages/readme.txt: added info about xerces for
	  windows to the readme

2004-10-22 11:05  koelimoe

	* src/player_unix/: qt_logger.cpp, qt_logger.h: removed the strange
	  ,... in show_message

2004-10-21 16:57  keesblom

	* src/: libambulant/gui/SDL/sdl_audio.cpp, player_unix/Makefile.am,
	  player_unix/qt_gui.cpp, player_unix/qt_gui.h: Added some dummy
	  code in slot functions necessary for qpe (fileselector)

2004-10-21 16:13  jackjansen

	* include/ambulant/common/plugin_engine.h, src/plugins/plugin.cpp:
	  Got plugins to work on MacOSX.

2004-10-21 14:50  jackjansen

	* src/: libambulant/libambulant_wince.vcp,
	  player_wince/AmbulantPlayerView.cpp: Updated ShowMessage.

2004-10-20 23:41  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Remove debug.

2004-10-20 23:41  jackjansen

	* src/player_macosx/mainloop.cpp: - Enable xerces parser.  - Enable
	  plugin loading (which doesn't work:-)

2004-10-20 23:40  jackjansen

	* src/player_macosx/Makefile.am: Strip only local symbols.

2004-10-20 23:39  jackjansen

	* src/player_macosx/MyAppDelegate.mm: Disable logging window
	  (reverting to stderr logging) if AMBULANT_NOGGER_NOWINDOW is set.

2004-10-20 23:38  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  xerces support.

2004-10-20 23:37  jackjansen

	* src/plugins/plugin.cpp: Added two debug statements to see how
	  loading the pluugin goes.

2004-10-20 23:37  jackjansen

	* third_party_packages/readme.txt: Added a note about using native
	  transport with Xerces on OSX.

2004-10-20 16:57  koelimoe

	* include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/parser_factory.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/parser_factory.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp: added parser preference to
	  the parser factory.

2004-10-20 16:51  koelimoe

	* third_party_packages/readme.txt: added some mising info about the
	  xerces parser

2004-10-19 16:36  koelimoe

	* Extras/Welcome/Welcome.smil, bin/win32/AmbulantPlayer.exe,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_mfc/AmbulantPlayer.vcproj: added xerces support, but
	  put it in the fridge until parser_factory supports the parser
	  preferences.

2004-10-15 16:56  jackjansen

	* configure.in, Documentation/Design/Makefile,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/lib/logger.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/lib/logger.cpp,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_mfc/AmbulantPlayer.cpp,
	  src/player_mfc/AmbulantPlayer.h,
	  src/player_mfc/AmbulantPlayer.rc,
	  src/player_mfc/AmbulantPlayer.vcproj,
	  src/player_mfc/LogWindow.cpp, src/player_mfc/LogWindow.h,
	  src/player_mfc/MmView.cpp, src/player_mfc/MmView.h,
	  src/player_mfc/resource.h: Merge branch
	  experimental-jack-win-logger: - Added log window on Windows -
	  Simplified ShowDialog interface.

2004-10-15 16:28  jackjansen

	* Documentation/misc/README-Distribution: Added a note about
	  updating NEWS and ChangeLog.

2004-10-15 16:11  jackjansen

	* src/player_mfc/: AmbulantPlayer.rc, MmView.cpp: Finished:
	  disabled resizing, which MFC doesn't seem to handle (at least,
	  not easily).

2004-10-15 15:55  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.h,
	  LogWindow.cpp, LogWindow.h, MmView.cpp, MmView.h: Almost there:
	  the window works, but the text field doesn't resize.

2004-10-15 15:55  koelimoe

	* include/ambulant/common/playable.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_logger.cpp, src/player_unix/qt_logger.h:
	  switched off the qt_logger.

2004-10-15 15:14  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.rc,
	  LogWindow.cpp, LogWindow.h: Interaction is getting there (no
	  thanks to VC++'s builtin help)

2004-10-15 14:50  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.rc,
	  LogWindow.cpp, LogWindow.h, MmView.cpp: Tweaks.

2004-10-15 14:34  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.h,
	  AmbulantPlayer.rc, AmbulantPlayer.vcproj, LogWindow.cpp,
	  LogWindow.h, MmView.cpp, resource.h: Starting on log window.

2004-10-14 23:59  jackjansen

	* configure.in: Configure failed if expat was in /usr/local (sigh).
	  Fixed.

2004-10-14 16:56  jackjansen

	* src/libambulant/lib/logger.cpp, include/ambulant/lib/logger.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  src/player_mfc/MmView.cpp: Started on using new interface for
	  show_message. Unforuntately it crashes:-)

2004-10-14 16:11  jackjansen

	* include/ambulant/lib/win32/win32_error.h,
	  src/libambulant/gui/dx/dx_audio_player.cpp,
	  src/libambulant/lib/win32/win32_error.cpp: Add win_trace_error(),
	  and use that to show error messages that seem to appear always
	  (such as the IMedia error for audio on Win2K).

2004-10-14 15:40  jackjansen

	* src/libambulant/libambulant_win32.vcproj: Parser_factory added.

2004-10-14 15:39  jackjansen

	* bin/win32/libexpat.dll, lib/win32/libexpat.lib,
	  lib/win32/libjpeg.lib, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib,
	  third_party_packages/third_party_packages.sln: Oops - some of the
	  static libraries got replaced by dynamic libraries. Fixed.

2004-10-14 15:11  jackjansen

	* src/libambulant/libambulant_win32.vcproj: For some reason
	  (different VC++ version??!?) an unrelated checkin by Daniel
	  caused an rc-file to be added to the build. And this file doesn't
	  exist, of course... Removed.

2004-10-14 14:55  jackjansen

	* src/libambulant/gui/: dg/dg_player.cpp, dx/dx_player.cpp: Added
	  factories argument to parser call. untested.

2004-10-12 17:06  koelimoe

	* include/ambulant/common/playable.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: quick hack to fix
	  the bug that caused the player to open a huge amount of playables

2004-10-09 07:54  keesblom

	* src/player_unix/qt_gui.cpp: Added path for Welcome document.
	  /home/zaurus/Documents Installer for Zaurus must still be adapted
	  to put Welcome doc in the right place.

2004-10-08 18:16  keesblom

	* aclocal.m4, include/ambulant/common/plugin_engine.h,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h: Added
	  FileSelector for Zaurus.

2004-10-08 17:04  jackjansen

	* Documentation/Design/text/: Makefile, diagrams.txt,
	  head_html.txt, head_latex.txt, objects.html, objects.txt,
	  objects_tail.txt, organisation.html, organisation.txt,
	  organisation_tail.txt, overall.html, overall.txt,
	  overall_tail.txt, remarks.txt, style.tex, timeline.html,
	  timeline.txt, timeline_tail.txt, walkthrough.html,
	  walkthrough.txt, walkthrough_tail.txt: Merging branch
	  exp_jack_pdfdocs: generate the design documentation as PDF.

2004-10-08 17:02  jackjansen

	* Documentation/Design/text/head_latex.txt: Final tweaks to make
	  Dick happy.

2004-10-08 16:44  jackjansen

	* Documentation/Design/text/: diagrams.txt, head_latex.txt: Final
	  tweaks. It's not pretty but it works.

2004-10-08 16:25  jackjansen

	* Documentation/Design/text/: Makefile, diagrams.txt,
	  head_latex.txt, objects.html, organisation.html, overall.html,
	  timeline.html, walkthrough.html: Tweaks.

2004-10-08 14:58  jackjansen

	* Documentation/Design/text/: Makefile, diagrams.txt,
	  head_html.txt, head_latex.txt, objects.txt, objects_tail.txt,
	  organisation.txt, organisation_tail.txt, overall.txt,
	  overall_tail.txt, remarks.txt, style.tex, timeline.txt,
	  timeline_tail.txt, walkthrough.txt, walkthrough_tail.txt: iPDF
	  output is getting there, only figures are still too wide.

2004-10-08 11:56  jackjansen

	* Documentation/Design/text/: Makefile, overall.html, overall.txt,
	  style.tex, walkthrough.txt: First stab at PDF documentation
	  generation.

2004-10-06 13:27  jackjansen

	* configure.in: Use preprocessor construct to determine expat
	  version, so it also works for cross-compiling.

2004-10-05 18:23  keesblom

	* src/: libambulant/common/plugin_engine.cpp,
	  player_unix/unix_preferences.cpp, player_unix/unix_preferences.h:
	  Added #ifdef WITH_PLUGINS to disable plugins This is necessary
	  for the Zaurus.  Made it cross-compile for the Zaurus.  Makefiles
	  still contains unwanted refs like: /usr/lib/libltdl.so -ldl but
	  removing these by hand made it compile and play.

2004-10-05 18:14  keesblom

	* include/ambulant/: version.h, common/plugin_engine.h: Changed
	  version number to 1.0.2 for the hopefully stable conference
	  branch This branch will be used for ACB Multimedia 2004 as well.
	  Added temporary #define WITH_PLUGINS to be controlled from
	  configure later This is necessary for the Zaurus.

2004-10-05 18:10  keesblom

	* src/libambulant/common/plugin_engine.cpp: Added #ifdef
	  WITH_PLUGINS to disable plugins

2004-10-05 18:06  keesblom

	* include/ambulant/: version.h, common/plugin_engine.h: Changed
	  version number to 1.0.3 for the (unstable) development branch
	  Added temporary #define WITH_PLUGINS to be controlled from
	  configure later

2004-10-04 16:30  jackjansen

	* src/player_macosx/mainloop.cpp: Adapted for p[arser factory.

2004-10-04 16:30  jackjansen

	* src/player_macosx/Makefile.am: The icons weren't copied. Fixed.

2004-10-04 16:30  jackjansen

	* configure.in: m4/Makefile added. Not sure why this needs to be
	  rebuilt, though...

2004-10-04 10:55  jackjansen

	* src/libambulant/lib/tree_builder.cpp: Removed a turd.

2004-10-04 10:55  jackjansen

	* configure.in: Fixed typo in expat test.

2004-10-02 22:04  jackjansen

	* configure.in: If no --with-expat option is given then first see
	  whether there's a pre-installed expat that is good enough (>=
	  1.95.7).

	  Untested.

2004-10-02 21:45  jackjansen

	* configure.in: On debian Qt is installed in /usr, and QTDIR isn't
	  set. Cater for this situation.

	  Untested.

2004-09-29 14:26  koelimoe

	* aclocal.m4, src/Makefile.am, src/libambulant/common/region.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_mainloop.cpp: Version stable enough (eeuuuh)
	  for Sane 2004

2004-09-28 12:48  koelimoe

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/factory.h,
	  include/ambulant/common/parser_factory.h,
	  include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/document.h,
	  include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/parser_factory.h,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/parser_factory.cpp,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/parser_factory.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_unix/qt_mainloop.cpp: moved the parser factory to the
	  right dirs and added the parser_factory to the working code

2004-09-27 15:00  keesblom

	* src/player_unix/: qt_gui.cpp, qt_logger.cpp, qt_logger.h: Changed
	  the Qt class for the logger window to QTextEdit rather than
	  QTextView because the latter is marked "deprecated" in the more
	  recent versions of Qt.

2004-09-25 00:22  jackjansen

	* Documentation/Design/: index.html, index.txt,
	  models/dataflow.graffle, models/dataflow.pdf, text/Makefile,
	  text/auxobjects.html, text/auxobjects.txt, text/datasource.html,
	  text/datasource.txt, text/event_processor.html,
	  text/event_processor.txt, text/layout.html, text/layout.txt,
	  text/objects.html, text/objects.txt, text/overall.html,
	  text/overall.txt, text/parser.html, text/parser.txt,
	  text/playable.html, text/playable.txt, text/region.html,
	  text/region.txt, text/renderer.html, text/renderer.txt,
	  text/sdd-schema.txt, text/timeline.html, text/timeline.txt,
	  text/walkthrough.html, text/walkthrough.txt: Finished the
	  documentation (I hope:-).

2004-09-24 16:41  jackjansen

	* src/player_wince/AmbulantPlayer.vcp: Tweaks.

2004-09-24 16:36  jackjansen

	* Documentation/Design/text/: Makefile, document.html,
	  document.txt, objects.html, objects.txt, overall.html,
	  overall.txt, player.html, player.txt: More bits and pieces.

2004-09-24 15:05  jackjansen

	* Documentation/Design/text/: Makefile, layout.html, layout.txt,
	  objects.html, objects.txt, organisation.html, organisation.txt,
	  overall.html, overall.txt, parser.html, parser.txt,
	  walkthrough.html, walkthrough.txt: More bits and pieces of the
	  documentation.

2004-09-24 12:58  jackjansen

	* Documentation/Design/text/: Makefile, walkthrough.html,
	  walkthrough.txt: Finished the walkthrough document.

2004-09-24 00:59  jackjansen

	* Documentation/Design/text/walkthrough.txt: Started on a
	  walkthrough of how a document is played.

2004-09-24 00:15  jackjansen

	* Documentation/README: Explain the structure of the Documentation
	  subtree.

2004-09-24 00:08  jackjansen

	* Documentation/: README-Distribution, misc/README-Distribution:
	  Moved README-Distribution to the misc directory.

2004-09-24 00:06  jackjansen

	* Documentation/API/Doxyfile, include/ambulant/lib/node.h,
	  include/ambulant/net/datasource.h, include/ambulant/net/url.h:
	  Finished the API documentation (modulo bugs:-).

2004-09-23 17:59  keesblom

	* src/player_unix/: Makefile.am, qt_gui.cpp, qt_gui.h,
	  qt_logger.cpp, qt_logger.h, qt_settings.cpp, qt_settings.h: Added
	  Logger window, accesible through File menu

2004-09-23 16:40  jackjansen

	* include/ambulant/: common/embedder.h, common/region_dim.h,
	  common/region_eval.h, common/region_info.h, common/renderer.h,
	  common/schema.h, common/smil_alignment.h, lib/node_iterator.h,
	  lib/node_navigator.h, lib/nscontext.h, lib/sax_handler.h,
	  lib/sax_types.h, lib/thread.h, lib/timer.h, lib/tree_builder.h,
	  net/databuffer.h: More documentation.

2004-09-23 13:24  koelimoe

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/parser_factory.h,
	  include/ambulant/lib/expat_parser.h, src/libambulant/Makefile.am,
	  src/libambulant/lib/expat_parser.cpp: fixed my my losy code from
	  yesterday

2004-09-23 00:18  jackjansen

	* include/ambulant/: common/factory.h, lib/abstract_mtsync.h,
	  lib/delta_timer.h, lib/document.h, lib/event.h,
	  lib/event_processor.h, lib/gtypes.h, lib/logger.h, lib/mtsync.h,
	  lib/node.h: More documentation.

2004-09-22 17:56  keesblom

	* src/player_unix/: Makefile.am, qt_gui.cpp, qt_gui.h,
	  qt_settings.cpp, qt_settings.h, unix_preferences.cpp,
	  unix_preferences.h: Added a Qt gui to select Ambulant
	  preferences, called "Settings" on Linux

2004-09-22 16:35  koelimoe

	* include/ambulant/common/parser_factory.h,
	  include/ambulant/lib/expat_parser.h,
	  src/libambulant/common/parser_factory.cpp,
	  src/libambulant/lib/expat_parser.cpp:  Started to create a
	  parser_factory in preparation of the xerces plugin

2004-09-21 14:14  jackjansen

	* include/ambulant/common/embedder.h,
	  include/ambulant/common/layout.h,
	  include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/common/preferences.h,
	  include/ambulant/lib/callback.h, include/ambulant/lib/refcount.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/node.cpp, src/player_macosx/MyAppDelegate.mm:
	  Started on documenting our externally visible APIs.

2004-09-21 14:12  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Use
	  plugins.

2004-09-21 14:10  jackjansen

	* include/ambulant/lib/document.h,
	  src/libambulant/lib/document.cpp: Got rid of silly argument to
	  resolve().  Documented.

2004-09-21 13:47  jackjansen

	* README-CVS, aclocal.m4: aclocal.m4 should *not* be in CVS, it's
	  dependent on thhe automake version.  The gettext m4 directory
	  should be passed to the aclocal call, so it will be searched when
	  creating aclocal.m4.

2004-09-20 16:35  koelimoe

	* src/libambulant/gui/arts/arts.cpp: fixed arts

2004-09-20 14:33  koelimoe

	* src/player_macosx/mainloop.cpp: tweaks

2004-09-20 14:27  koelimoe

	* src/plugins/: artsplugin.cpp, plugin.cpp: addapted the plugins to
	  the new factory struc

2004-09-20 14:14  jackjansen

	* Documentation/API/Doxyfile: Getting started with using doxygen to
	  generate lowlevel API documentation.

2004-09-20 13:53  koelimoe

	* src/libambulant/smil2/smil_player.cpp: corrected a small typo

2004-09-20 13:43  koelimoe

	* aclocal.m4, bin/win32/libexpat.dll,
	  include/ambulant/common/Makefile.am,
	  include/ambulant/common/factory.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/cocoa/cocoa_dsvideo.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_renderer.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/none/none_factory.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/smil2/smil_player.h, lib/win32/libexpat.lib,
	  lib/win32/libjpeg.lib, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib, src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/none/none_factory.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Merging the daniel_experimental_factory_struct branch

2004-09-20 10:40  jackjansen

	* src/player_macosx/mainloop.cpp: API for plugins changed.

2004-09-19 23:41  jackjansen

	* Documentation/Design/models/: animation.graffle, animation.pdf,
	  dataflow.graffle, dataflow.pdf, datasource.graffle,
	  datasource.pdf, datasource_state.graffle, datasource_state.pdf,
	  layout.graffle, layout.pdf, playable.graffle, playable.pdf,
	  playable_state.graffle, playable_state.pdf, player.graffle,
	  player.pdf, region.graffle, region.pdf, renderer.graffle,
	  renderer.pdf, transition.graffle, transition.pdf,
	  windows.graffle, windows.pdf: Updated to the current state of
	  things.§

2004-09-18 00:45  jackjansen

	* src/: player_macosx/Makefile.am, plugins/Makefile.am: Got plugins
	  to load on MacOSX. The main problem was (shame, shame) that the
	  application was stripped during install.

2004-09-18 00:23  jackjansen

	* include/ambulant/common/plugin_engine.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/mainloop.cpp: Revamped plugin engine: it is now
	  a singleton. Upon creation it collects a list of plugin
	  directories, loads plugins from them and collects the pointers to
	  the init routines. The method add_plugins() now calls the init
	  routines so the plugins can register themselves with the
	  factories.

	  Only very lightly tested.

2004-09-17 17:05  koelimoe

	* bin/win32/libexpat.dll, include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h, lib/win32/libexpat.lib,
	  lib/win32/libjpeg.lib, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib, src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dx/dx_player.cpp: Started on the windows code

2004-09-17 16:05  jackjansen

	* ABOUT-NLS, ChangeLog, Makefile.am, aclocal.m4, configure.in,
	  include/ambulant/config/config.h,
	  include/ambulant/config/gettext.h, m4/ChangeLog, m4/Makefile.am,
	  m4/codeset.m4, m4/gettext.m4, m4/glibc21.m4, m4/iconv.m4,
	  m4/intdiv0.m4, m4/intmax.m4, m4/inttypes-pri.m4, m4/inttypes.m4,
	  m4/inttypes_h.m4, m4/isc-posix.m4, m4/lcmessage.m4, m4/lib-ld.m4,
	  m4/lib-link.m4, m4/lib-prefix.m4, m4/longdouble.m4,
	  m4/longlong.m4, m4/nls.m4, m4/po.m4, m4/printf-posix.m4,
	  m4/progtest.m4, m4/signed.m4, m4/size_max.m4, m4/stdint_h.m4,
	  m4/uintmax_t.m4, m4/ulonglong.m4, m4/wchar_t.m4, m4/wint_t.m4,
	  m4/xsize.m4, po/ChangeLog, po/LINGUAS, po/Makefile.in.in,
	  po/Makevars, po/POTFILES.in, po/ambulant.pot, po/en.gmo,
	  po/en.po, po/nl.gmo, po/nl.po,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/url.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/player_macosx/Makefile.am,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/MyDocument.mm, src/player_macosx/mainloop.cpp,
	  src/player_macosx/Dutch.lproj/Credits.rtf,
	  src/player_macosx/Dutch.lproj/InfoPlist.strings,
	  src/player_macosx/Dutch.lproj/MainMenu.nib/classes.nib,
	  src/player_macosx/Dutch.lproj/MainMenu.nib/info.nib,
	  src/player_macosx/Dutch.lproj/MainMenu.nib/keyedobjects.nib,
	  src/player_macosx/Dutch.lproj/MainMenu.nib/objects.nib,
	  src/player_macosx/English.lproj/Credits.rtf,
	  src/player_macosx/Japanese.lproj/MainMenu.nib/classes.nib,
	  src/player_macosx/Japanese.lproj/MainMenu.nib/info.nib,
	  src/player_macosx/Japanese.lproj/MainMenu.nib/keyedobjects.nib,
	  src/player_macosx/Japanese.lproj/MainMenu.nib/objects.nib,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/unix_preferences.cpp, src/plugins/Makefile.am:
	  Merging experimental_internationalized branch: - Use gettext
	  library to localize user-visible strings (if available) - Enable
	  localization of Mac user interface - Implemented both for Dutch
	  (and a little Japanese)

2004-09-17 14:48  jackjansen

	* ABOUT-NLS, aclocal.m4, m4/po.m4, m4/printf-posix.m4,
	  po/Makefile.in.in, po/ambulant.pot, po/en.gmo, po/en.po,
	  po/nl.gmo, po/nl.po, src/player_macosx/MyAppDelegate.mm,
	  src/player_unix/qt_gui.cpp: Better initial message on language
	  selection (debug only).  Use MacOSX System Preferences setting to
	  override LANG environment variable.

2004-09-17 11:44  jackjansen

	* aclocal.m4, po/POTFILES.in, po/ambulant.pot, po/en.gmo, po/en.po,
	  po/nl.gmo, po/nl.po, src/player_macosx/MyAppDelegate.mm,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/unix_preferences.cpp: - Localizations now compile
	  on Linux too - Added a version/build banner (only printed when
	  debug output enabled)

2004-09-17 10:24  koelimoe

	* src/: player_macosx/mainloop.cpp, player_macosx/mainloop.h,
	  player_unix/qt_mainloop.cpp: More work on the mac code

2004-09-17 09:44  koelimoe

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: finnishing off the mac
	  code

2004-09-17 00:44  jackjansen

	* po/POTFILES.in, po/ambulant.pot, po/en.gmo, po/en.po, po/nl.gmo,
	  po/nl.po, src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/url.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/MyDocument.mm: More translations.

2004-09-16 23:48  jackjansen

	* po/LINGUAS, po/POTFILES.in, po/ambulant.pot, po/en.gmo, po/en.po,
	  po/nl.gmo, po/nl.po, src/player_macosx/Makefile.am,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/mainloop.cpp: More updates: I saw my first
	  dutch error message. A lot remains to be done, however...

2004-09-16 22:48  jackjansen

	* include/ambulant/config/gettext.h: Added another missing file

2004-09-16 22:44  jackjansen

	* aclocal.m4, m4/Makefile.in: More tweaks.

2004-09-16 22:38  jackjansen

	* ABOUT-NLS, m4/Makefile.in, m4/codeset.m4, m4/gettext.m4,
	  m4/glibc21.m4, m4/iconv.m4, m4/intdiv0.m4, m4/intmax.m4,
	  m4/inttypes-pri.m4, m4/inttypes.m4, m4/inttypes_h.m4,
	  m4/isc-posix.m4, m4/lcmessage.m4, m4/lib-ld.m4, m4/lib-link.m4,
	  m4/lib-prefix.m4, m4/longdouble.m4, m4/longlong.m4, m4/nls.m4,
	  m4/po.m4, m4/printf-posix.m4, m4/progtest.m4, m4/signed.m4,
	  m4/size_max.m4, m4/stdint_h.m4, m4/uintmax_t.m4, m4/ulonglong.m4,
	  m4/wchar_t.m4, m4/wint_t.m4, m4/xsize.m4,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/Makefile.am, src/plugins/Makefile.am: A few
	  more bits and pieces.

2004-09-16 12:01  koelimoe

	* include/ambulant/common/player.h,
	  include/ambulant/mms/mms_player.h,
	  src/libambulant/mms/mms_player.cpp,
	  src/player_unix/qt_mainloop.cpp: succes for linux

2004-09-15 16:57  koelimoe

	* include/ambulant/common/player.h,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  more work on de factory struc, almost done

2004-09-15 13:58  koelimoe

	* include/ambulant/common/factory.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/none/none_factory.h,
	  include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/none/none_factory.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  more work done

2004-09-15 11:24  koelimoe

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/factory.h,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_dsvideo.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_renderer.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/net/datasource.cpp: more factory structs in place

2004-09-14 16:53  koelimoe

	* include/ambulant/common/factory.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/none/none_factory.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_macosx/mainloop.h, src/player_unix/qt_mainloop.h:
	  started to replace al the net::datasource_factory in
	  common::factories, a structure that holds all the factories.

2004-09-14 15:07  jackjansen

	* src/: libambulant/common/plugin_engine.cpp,
	  player_macosx/mainloop.cpp,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: Started on
	  getting plugins to work on OSX. Compiles, but doesn't do anything
	  yet.

	  Also implemented naming convention "libamplugin_" for plugins and
	  changed some messages.

2004-09-14 14:31  jackjansen

	* src/plugins/Makefile.am: - Make arts plugin conditional
	  (depending on WITH_ARTS) - Change library names to be of the form
	  libamplugin_xxxxx.la - build modules as noinst in stead of lib.
	  At least now there not installed in $libdir. The downside is
	  they're not installed anywhere:-)

2004-09-13 16:23  koelimoe

	* include/ambulant/common/factory.h: structure needed to remove SDL
	  from the qt_renderer

2004-09-13 11:03  jackjansen

	* ChangeLog, Makefile.am, configure.in,
	  include/ambulant/config/config.h, m4/ChangeLog, m4/Makefile.am,
	  po/ChangeLog, po/LINGUAS, po/Makefile.in.in, po/Makevars,
	  po/POTFILES.in, po/ambulant.pot, po/en.gmo, po/en.po,
	  src/libambulant/lib/tree_builder.cpp: Starting conversion to
	  gettext. Unfinished.

2004-09-13 10:57  jackjansen

	* src/player_macosx/: Makefile.am, Dutch.lproj/Credits.rtf,
	  Dutch.lproj/InfoPlist.strings, Dutch.lproj/MainMenu.nib/info.nib,
	  Dutch.lproj/MainMenu.nib/keyedobjects.nib,
	  Dutch.lproj/MainMenu.nib/objects.nib, English.lproj/Credits.rtf,
	  fullcocoambulant.pbproj/project.pbxproj: Rest of UI localized to
	  dutch, including about box, dialogs, etc.

2004-09-10 13:57  koelimoe

	* src/plugins/artsplugin.cpp: switched off the debug info

2004-09-10 12:46  koelimoe

	* src/plugins/artsplugin.cpp: fixed : the arts plugin didn't say
	  that it was ready, when end of file occured

2004-09-10 11:39  koelimoe

	* src/plugins/artsplugin.cpp: fixed the problem with stalling the
	  presentation

2004-09-10 08:52  jackjansen

	* src/player_macosx/: Dutch.lproj/MainMenu.nib/classes.nib,
	  Dutch.lproj/MainMenu.nib/info.nib,
	  Dutch.lproj/MainMenu.nib/keyedobjects.nib,
	  Dutch.lproj/MainMenu.nib/objects.nib,
	  Japanese.lproj/MainMenu.nib/classes.nib,
	  Japanese.lproj/MainMenu.nib/info.nib,
	  Japanese.lproj/MainMenu.nib/keyedobjects.nib,
	  Japanese.lproj/MainMenu.nib/objects.nib,
	  fullcocoambulant.pbproj/project.pbxproj: First stab at
	  internationalization. Some menus have been translated into Dutch
	  and Japanese.

2004-09-10 05:49  jackjansen

	* src/player_macosx/: Makefile.am, mypreferences.mm: Tweaks

2004-09-09 16:56  koelimoe

	* src/plugins/artsplugin.cpp: turned off blocking for the arts
	  server. this does seem to resolve the problem that the rest of
	  the presentation stalls. But no sound is playing

2004-09-09 13:31  koelimoe

	* src/: libambulant/gui/SDL/sdl_audio.cpp,
	  libambulant/gui/arts/arts_audio.cpp, plugins/artsplugin.cpp:
	  added stop, pause, resume

2004-09-08 16:41  koelimoe

	* src/plugins/artsplugin.cpp: removed a stupid deadlock

2004-09-08 16:35  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/gui/arts/arts_audio.cpp, src/plugins/Makefile.am,
	  src/plugins/artsplugin.cpp: started to work on the arts plugin

2004-09-07 15:33  keesblom

	* include/ambulant/common/preferences.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/unix_preferences.cpp,
	  src/player_unix/unix_preferences.h: Merging branch
	  exp_kees_020904 (unix_preferences) with trunk

2004-09-07 15:28  keesblom

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/preferences.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/unix_preferences.cpp:
	  Completed unix_preferences. Add AMBULANT_WELCOME_SEEN.

2004-09-06 17:51  keesblom

	* include/ambulant/common/preferences.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/unix_preferences.cpp,
	  src/player_unix/unix_preferences.h: Table driven preferences,
	  works almost

2004-09-06 15:32  koelimoe

	* src/player_unix/qt_mainloop.cpp: uncommented the SDL stuff

2004-09-06 11:41  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/player_unix/qt_mainloop.cpp: arts sound renderer works again.
	  but still has a problem: it holds up the rest of the presentation
	  until the sound is finnished.

2004-09-03 15:25  jackjansen

	* src/libambulant/libambulant_wince.vcp: Added preferences.cpp

2004-09-03 14:07  jackjansen

	* src/player_mfc/: AmbulantPlayer.rc, PreferencesDlg.cpp,
	  PreferencesDlg.h, resource.h: Got the preferences dialog to work.

2004-09-03 11:49  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.h,
	  AmbulantPlayer.rc, AmbulantPlayer.vcproj, resource.h: Added
	  skeleton for the preferences dialog. Doesn't do anything yet,
	  though.

2004-09-03 11:29  jackjansen

	* src/player_mfc/: AmbulantPlayer.cpp, AmbulantPlayer.vcproj,
	  mypreferences.cpp, mypreferences.h: On Windows, save preferences
	  in the registry.

2004-09-03 11:28  jackjansen

	* include/ambulant/common/preferences.h: Added missing include for
	  <string>

2004-09-02 16:53  jackjansen

	* src/libambulant/smil2/region_node.cpp: Use strcmp, not
	  strncasecmp. Attributes are case-dependent (and moreover
	  strncasecmp doesn't seem to exist on windows).

2004-09-02 14:48  keesblom

	* include/ambulant/common/preferences.h,
	  src/player_unix/qt_gui.cpp, src/player_unix/unix_preferences.cpp,
	  src/player_unix/unix_preferences.h: Checking out on a branch

2004-09-02 13:03  jackjansen

	* src/player_macosx/: MyAppDelegate.h, MyAppDelegate.mm,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/keyedobjects.nib,
	  English.lproj/MainMenu.nib/objects.nib: Preferences GUI works,
	  but we do need an ugly "apply" button because I haven't found out
	  how we can be notified of changes.

2004-09-01 23:57  jackjansen

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/mypreferences.mm: - Changed strings prefs from
	  char* to std::string to forestall garbage collection problems -
	  Fixed Mac support - Removed const char* values that would get
	  copied in every module including preferences.h.

2004-09-01 15:06  keesblom

	* include/ambulant/common/preferences.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/player_unix/unix_preferences.cpp: Changed enums into char*
	  for preferences\n Added "auto" as a valid attributevalue in
	  region_node

2004-08-31 22:59  jackjansen

	* src/player_macosx/English.lproj/MainMenu.nib/keyedobjects.nib:
	  Apparently this file is important too:-)

2004-08-31 17:51  keesblom

	* src/: libambulant/common/preferences.cpp,
	  player_unix/Makefile.am, player_unix/qt_gui.cpp,
	  player_unix/qt_gui.h, player_unix/unix_preferences.cpp,
	  player_unix/unix_preferences.h: Moved unix related preferences to
	  unix_preferences as part of the gui

2004-08-31 16:37  jackjansen

	* src/player_macosx/: mypreferences.h, mypreferences.m,
	  mypreferences.mm: Preferences subclass that saves/loads through
	  NSUserDefaults.

2004-08-31 16:36  jackjansen

	* src/player_macosx/: LogController.h, LogController.mm,
	  Makefile.am, MyAppDelegate.h, MyAppDelegate.mm,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  fullcocoambulant.pbproj/project.pbxproj: Got an initial
	  preferences dialog working (for the log level only) with
	  NSUserDefaultsController. Preferences are also saved in the
	  standard MacOS way.

2004-08-31 15:15  keesblom

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Reorganized preferences code, seems to work properly

2004-08-31 14:22  jackjansen

	* src/libambulant/common/preferences.cpp,
	  include/ambulant/common/preferences.h: Allow subclassing of the
	  preferences singleton.

2004-08-31 13:48  jackjansen

	* include/ambulant/common/preferences.h,
	  include/ambulant/lib/logger.h, src/player_macosx/LogController.h,
	  src/player_macosx/LogController.mm,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/English.lproj/Log.nib/classes.nib,
	  src/player_macosx/English.lproj/Log.nib/keyedobjects.nib: Added a
	  loglevel preference and a way to set the log level through the
	  UI.  Only implemented for the Mac right now.

2004-08-30 17:28  keesblom

	* include/ambulant/common/preferences.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_unix/qt_gui.cpp: Added preferences to control Xerces
	  validating features

2004-08-30 17:17  jackjansen

	* README-CVS, include/ambulant/lib/tree_builder.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/lib/parselets.cpp,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/libambulant/net/url.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/MyDocument.mm, src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on making the error messages a bit more user-centric.

2004-08-30 17:16  jackjansen

	* src/player_macosx/English.lproj/Log.nib/keyedobjects.nib: Enabled
	  resize and minimize.

2004-08-30 14:30  jackjansen

	* include/ambulant/gui/dg/gif_decoder.h,
	  include/ambulant/gui/dg/png_decoder.h,
	  include/ambulant/gui/dx/gif_decoder.h,
	  include/ambulant/gui/dx/png_decoder.h,
	  include/ambulant/gui/qsound/qsound_audio.h,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_dsvideo.mm,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_renderer.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/gui/dg/dg_area.cpp,
	  src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_bgrenderer.cpp,
	  src/libambulant/gui/dg/dg_brush.cpp,
	  src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_mp3_decoder.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/gui/dg/dg_transition.cpp,
	  src/libambulant/gui/dg/dg_viewport.cpp,
	  src/libambulant/gui/dg/dg_window.cpp,
	  src/libambulant/gui/dx/dx_area.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_bgrenderer.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_transition.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_window.cpp,
	  src/libambulant/gui/none/none_area.cpp,
	  src/libambulant/gui/none/none_factory.cpp,
	  src/libambulant/gui/none/none_video_renderer.cpp,
	  src/libambulant/gui/qsound/qsound_audio.cpp,
	  src/libambulant/gui/qsound/qsound_factory.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/lib/document.cpp, src/libambulant/lib/gpaths.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/libambulant/net/url.cpp, src/libambulant/smil2/animate_a.cpp,
	  src/libambulant/smil2/animate_e.cpp,
	  src/libambulant/smil2/animate_n.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_calc.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_mfc/MmView.cpp, src/player_unix/qt_mainloop.cpp,
	  src/plugins/plugin.cpp: Use logger::debug() in stead of
	  logger::trace() where applicable.

2004-08-27 13:20  keesblom

	* src/libambulant/common/plugin_engine.cpp: Made it compile on my
	  Linux office desktop

2004-08-27 12:55  jackjansen

	* src/libambulant/libambulant_win32.vcproj: Adapted for
	  preferences.cpp and WITH_EXPAT define.

2004-08-27 11:20  jackjansen

	* src/libambulant/common/plugin_engine.cpp: Tweaked to make it
	  compile on the Mac.

2004-08-27 10:32  koelimoe

	* src/plugins/Makefile.am: Morning, afternoon, missing Makefile.am
	  sigh. it friday and i need a beer :-)

2004-08-26 16:55  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/gui/arts/arts_audio.cpp: Started fixing the
	  arts_renderer.

2004-08-26 16:53  jackjansen

	* src/player_macosx/: LogController.m, Makefile.am: Getting command
	  line build to work too.

2004-08-26 16:43  jackjansen

	* src/player_macosx/: MyAppDelegate.mm,
	  English.lproj/Log.nib/keyedobjects.nib: tweaks

2004-08-26 16:42  jackjansen

	* src/player_macosx/systemTestSettings.xml: Added an (internal) DTD
	  so xerces is happy parsing this document.

2004-08-26 16:25  koelimoe

	* Makefile.am, configure.in, include/ambulant/common/Makefile.am,
	  include/ambulant/common/plugin_engine.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/lib/logger.h, src/Makefile.am,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/plugin_engine.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_mainloop.cpp,
	  src/plugins/plugin.cpp: Merged the experimental_plugin_daniel
	  branch

2004-08-25 23:49  jackjansen

	* src/player_macosx/: LogController.mm, MyAppDelegate.mm: Log
	  window starts to work, but there are still some malloc problems.

2004-08-25 17:06  jackjansen

	* src/player_macosx/: LogController.h, LogController.mm,
	  MyAppDelegate.mm, English.lproj/Log.nib/classes.nib,
	  English.lproj/Log.nib/info.nib,
	  English.lproj/Log.nib/keyedobjects.nib,
	  fullcocoambulant.pbproj/project.pbxproj: Added skeleton log
	  window. It does everything, except displaying the log:-)

2004-08-25 15:57  koelimoe

	* src/: libambulant/common/plugin_engine.cpp, plugins/plugin.cpp:
	  tweaks

2004-08-25 11:26  jackjansen

	* include/ambulant/common/preferences.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/gui/cocoa/cocoa_renderer.mm,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/English.lproj/MainMenu.nib/classes.nib,
	  src/player_macosx/English.lproj/MainMenu.nib/info.nib,
	  src/player_macosx/English.lproj/MainMenu.nib/objects.nib,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Various fixes to be able to use both parsers on MacOS - Some
	  stuff was inside #ifdefs but shouldn't be - Also allow parser
	  value ANY (means use either) - Set default parser with
	  environment variable AMBULANT_USE_PARSER

2004-08-25 09:42  koelimoe

	* src/: libambulant/common/plugin_engine.cpp, plugins/plugin.cpp:
	  plugin structure works for renderers, the empty plugin is
	  registred and created.

2004-08-24 15:59  koelimoe

	* src/plugins/: plugin.cpp, plugin.h: the -export-dynamic solved
	  the unresolved references problem. but it may cause portability
	  problems

2004-08-24 15:27  koelimoe

	* src/: libambulant/Makefile.am,
	  libambulant/common/plugin_engine.cpp, player_unix/Makefile.am,
	  plugins/plugin.cpp, plugins/plugin.h: The linker needs the
	  -export-dynamic flag. don't know if this will work on other
	  platforms yet.

2004-08-24 14:31  keesblom

	* src/player_unix/: qt_gui.cpp, qt_gui.h: Temporary feature:
	  player_unix/AmbulantPlayer can now select the Xerces	XML parser
	  by setting the environment variable XMLPARSER=XERCES

2004-08-24 13:28  keesblom

	* configure.in, include/ambulant/common/preferences.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/preferences.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/player_unix/qt_mainloop.cpp: Extended preferences to include
	  parser selection (expat/xerces)

2004-08-23 17:08  koelimoe

	* include/ambulant/common/plugin_engine.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_unix/Makefile.am, src/plugins/plugin.cpp: zucht, still
	  this $%@#$%#$% undefined symbol

2004-08-23 15:44  jackjansen

	* include/ambulant/lib/logger.h: Added a missing const

2004-08-23 14:52  jackjansen

	* include/ambulant/lib/logger.h, src/libambulant/lib/logger.cpp,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  Added a show_message function pointer member to the logger, which
	  overrides   the default show_message, plus a set_show_message to
	  set it.  - In addition to writing to the log also call
	  show_message in case of   error or fatal logging entries - For
	  cocoa, use set_show_message and set_ostream to override logger
	  output.    The current cocoa implementation is still a dummy
	  (using NSLog).

2004-08-23 14:50  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Plugged memory leak.

2004-08-23 10:46  jackjansen

	* src/libambulant/lib/tree_builder.cpp: Factored out duplicate code
	  in constructor and reset(), thereby fixing the latter.

2004-08-22 11:17  koelimoe

	* Makefile.am, include/ambulant/lib/logger.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/plugin_engine.cpp,
	  src/player_unix/Makefile.am, src/plugins/plugin.cpp,
	  src/plugins/plugin.h: modified the plugin enginge, because of
	  some name mangling problems in plugin.cpp

2004-08-19 17:28  keesblom

	* src/libambulant/lib/xerces_parser.cpp: Oops..

2004-08-19 17:21  keesblom

	* src/libambulant/lib/xerces_parser.cpp: Added missing functions
	  for xerces_parser

2004-08-19 16:06  koelimoe

	* configure.in, include/ambulant/common/plugin_engine.h,
	  src/Makefile.am, src/libambulant/common/plugin_engine.cpp,
	  src/player_unix/qt_mainloop.cpp, src/plugins/plugin.cpp,
	  src/plugins/plugin.h: basic plugin engine seems to work, the
	  dummy test plugin gives a problem with the dynamic linking

2004-08-19 16:00  keesblom

	* include/ambulant/lib/xerces_parser.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_mainloop.cpp:
	  Merging yesterdau's branch into the trunk

2004-08-19 15:51  keesblom

	* include/ambulant/lib/xerces_parser.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/xerces_parser.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_mainloop.cpp:
	  Cleanup xml_parser.h and some mem leaks

2004-08-19 15:47  jackjansen

	* INSTALL: Added an extra warning that Visual Studio 7.0 won't
	  work.

2004-08-19 15:46  jackjansen

	* README: Note about where error messages can be found (which
	  hadn't been checked in due to an oversight).

2004-08-19 15:45  jackjansen

	* configure.in, src/libambulant/Makefile.am,
	  src/player_macosx/Makefile.am: Fixed to allow building with
	  either xerces, expat or both.

2004-08-19 15:44  jackjansen

	* src/libambulant/lib/tree_builder.cpp,
	  include/ambulant/lib/tree_builder.h: Started on support for both
	  xerces and expat.

2004-08-19 15:43  jackjansen

	* third_party_packages/readme.txt: Added some notes on the xerces
	  building process.

2004-08-19 14:17  jackjansen

	* src/libambulant/lib/xerces_parser.cpp: Copied to main branch

2004-08-19 14:15  keesblom

	* src/libambulant/lib/: tree_builder.cpp, xerces_parser.cpp: Added
	  xerces_parser.cpp on branch

2004-08-18 17:51  jackjansen

	* configure.in: Started on supporting both expat and xerces in one
	  binary. Doesn't work yet:-)

2004-08-18 17:01  koelimoe

	* configure.in, include/ambulant/common/Makefile.am,
	  include/ambulant/common/plugin_engine.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/plugin_engine.cpp, src/plugins/plugin.cpp:
	  added plugin support but still untested

2004-08-18 16:16  keesblom

	* include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/lib/tree_builder.cpp,
	  third_party_packages/readme.txt: Merging yesterday's branch into
	  the trunk

2004-08-18 16:12  keesblom

	* include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/lib/tree_builder.cpp: Merged expat_parser and
	  xerces_parser by both inheriting xml_parser

2004-08-18 14:44  keesblom

	* third_party_packages/readme.txt: Added information about xerces

2004-08-18 13:03  koelimoe

	* configure.in, include/ambulant/common/plugin_engine.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/common/plugin_engine.cpp: moving stuff around

2004-08-18 12:58  koelimoe

	* src/: libambulant/Makefile.am,
	  libambulant/net/ffmpeg_datasource.cpp, plugins/plugin.cpp,
	  plugins/plugin.h: moving stuff around

2004-08-13 15:32  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: starting an
	  experimental plugin structure

2004-08-13 15:23  koelimoe

	* include/ambulant/plugin/: plugin.h, plugin_factory.h: plugin
	  structure

2004-08-13 15:00  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_mainloop.cpp: tweaks, sound works fine with
	  ffmpeg 0.4.8 and 0.4.9pre1 but video is still a problem with
	  0.4.9pre1

2004-08-09 13:31  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: Fixed the sound for
	  ffmpeg-0.4.9.

2004-08-02 13:56  keesblom

	* src/libambulant/net/ffmpeg_datasource.cpp: ffmpeg-0.4.9-pre1
	  support disabled, video's in Birthday are broken.  Enable by
	  uncommenting #define WITH_FFMPEG_0_4_9 (line 49 in
	  ffmpeg_datasource.cpp).

2004-07-30 17:08  keesblom

	* src/libambulant/net/: databuffer.cpp, ffmpeg_datasource.cpp:
	  Added support for ffmpeg-0.4.9-pre1, using  #ifdef
	  WITH_FFMPEG_0_4_9 Welcome doesn't play sound, Demo does,
	  Flashlight video now works

2004-07-29 15:22  keesblom

	* configure.in, include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Merging branch into main trunk

2004-07-29 15:17  keesblom

	* configure.in, include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/xerces_parser.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Added xerces parser interface and optionally using xerces by
	  qt_player.  Enable xerces by adding
	  --with-xerces=<where-you-installed-xerces>.  All validation
	  options are turned off, since many ".smil" files cannot be parsed
	  otherwise, mostly because of lacking DTD.  Even for the Welcome
	  document the parser complains, but it plays.	TBD: valgrind,
	  custom settings, parser_factory

2004-07-27 16:26  keesblom

	* src/libambulant/net/databuffer.cpp: Added another test to prevent
	  "realloc(...,0)", now in "pushdata(sz)"

2004-07-23 17:25  jackjansen

	* src/libambulant/net/databuffer.cpp: - On linux realloc(..., 0)
	  returns NULL, which is not an error.	- Also, if m_size is 0 we
	  alsways realloc (as there is no copying cost	 incurred)

2004-07-23 16:19  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp:
	  ffmpeg_video_datasource didn't clean up any remaining frames on
	  termination, fixed. Should fix #992376.

2004-07-23 16:04  jackjansen

	* include/ambulant/net/databuffer.h,
	  src/libambulant/net/databuffer.cpp: There is now a new call
	  set_max_unused_size() to signal when to reclaim unused space.

	  In addition, there are class methods default_max_size(size) and
	  default_max_unused_size(size) that can be used to change the
	  defaults. These could be called on the handheld platforms to
	  limit the amount of memory used by databuffers in general.

2004-07-23 13:10  jackjansen

	* INSTALL: Added an explicit reference to where the player is
	  installed and what it is called.

2004-07-23 11:57  jackjansen

	* configure.in: - Give an error message if no gui toolkit is found,
	  unless an explicit   --without-qt or similar is specified on the
	  configure call - Similar for ffmpeg.

	  Should fix #995861.

2004-07-21 14:57  jackjansen

	* include/ambulant/version.h: Updated version number to 1.0.1 so we
	  ourselves know what we're running.  Let's update again to 1.0.2
	  for the next external release.

2004-07-21 14:56  jackjansen

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: Handle
	  URLs with numeric hostnames correctly.

2004-07-20 16:28  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Prevent descendents of paused
	  nodes to go active.

2004-07-19 17:01  kleanthis

	* bin/win32/AmbulantPlayer.exe: Avoid re-entering the main
	  scheduler loop. Leave any events for the next iteration.  This
	  should increase a lot the application's stability when links
	  fire.

2004-07-19 16:57  kleanthis

	* src/libambulant/smil2/time_sched.cpp: Avoid re-entering the main
	  scheduler loop. Leave any events for the next iteration.  This
	  should increase a lot the application's stability when links
	  fire.

2004-07-18 19:53  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary including
	  smal improvements here and there.

2004-07-18 19:42  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_transition.cpp,
	  src/libambulant/gui/dx/dx_window.cpp,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_transition.h,
	  include/ambulant/gui/dx/dx_window.h,
	  include/ambulant/lib/timer.h, src/libambulant/lib/timer.cpp:
	  Re-enable slideWipe.	Attempt to optimize repainting of multiple
	  concurrent transitions.  Unfortunately this cannot be done due to
	  errors in the subregion redraw code.

2004-07-18 19:34  kleanthis

	* src/libambulant/smil2/time_node.cpp: Small things here and there:
	  Wait for the end of media event when the implicit duration is
	  involved in timing calculations.  Fix repeat that was broken for
	  some cases.

2004-07-16 22:40  kleanthis

	* src/player_mfc/MmView.cpp: Auto-start dropped docs.

2004-07-16 22:39  kleanthis

	* bin/win32/AmbulantPlayer.exe: Some more refinements on pausing
	  plus auto-start dropped docs

2004-07-16 22:36  kleanthis

	* src/libambulant/smil2/smil_time.cpp,
	  src/libambulant/smil2/time_calc.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/time_calc.h,
	  include/ambulant/smil2/time_node.h: Some more refinements on
	  pausing.

2004-07-16 17:58  keesblom

	* src/player_unix/: qt_gui.cpp, qt_gui.h, qt_mainloop.cpp: Cleanup,
	  removed debug output, added installation directory for the
	  Welcome document

2004-07-16 16:59  kleanthis

	* bin/win32/AmbulantPlayer.exe: Some more steps in integrating
	  pause semantics into the model.  The first result is that the ref
	  document LinkingOnly now seems to play correctly.

2004-07-16 16:53  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/smil_time.cpp,
	  src/libambulant/smil2/time_sched.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_sched.h,
	  include/ambulant/smil2/time_state.h: Some more steps in
	  integrating pause semantics into the model.  The first result is
	  that the ref document LinkingOnly now seems to play correctly.

2004-07-14 17:52  keesblom

	* Documentation/misc/: TIPS-VALGRIND, valgrind.supp: Added tips and
	  some (190) suppressions for installing and using "valgrind ".

2004-07-13 23:30  kleanthis

	* include/ambulant/lib/node.h, src/libambulant/lib/node.cpp: Add a
	  handy function "get_sig" that returns the string "tag[id]" for
	  use n logging statements. The "this" pointer used in many places
	  is almost useless.

2004-07-13 23:27  kleanthis

	* include/ambulant/smil2/time_node.h: The timing was broken for
	  documents containg 'a' anchors.  Fix this by handling ''a"
	  anchors as "area" elements.  Their lifetime is now restricted by
	  their parent and this fits better into the smil timing model.
	  This fixes one of the many errors in LinkingOnly.smil ref doc.

2004-07-13 23:24  kleanthis

	* src/libambulant/: smil2/time_node.cpp, smil2/timegraph.cpp,
	  common/schema.cpp: The timing was broken for documents containg
	  'a' anchors.	Fix this by handling ''a" anchors as "area"
	  elements.  Their lifetime is now restricted by their parent and
	  this fits better into the smil timing model.	This fixes one of
	  the many errors in LinkingOnly.smil ref doc.

2004-07-08 16:01  jackjansen

	* src/libambulant/libambulant_win32.vcproj: Added quotes around
	  postbuild step filename, so this step also works when there are
	  spaces in the path leading up to the ambulant source tree.
	  Spotted by Sjoerd.

2004-07-08 14:42  jackjansen

	* third_party_packages/Makefile.am: Oops - winCE projects for
	  third_party_packages were missing. Fixed.

2004-07-07 16:08  keesblom

	* Documentation/misc/: HISTORY-ZAURUS, README-ZAURUS,
	  ambulantplayer_1.0_arm.ipk: Rewrote README-ZAURUS completely now
	  that it is easy to download a complete "ipk" package and let the
	  Zaurus Package Installer do all the work.  The old text is now
	  called HISTORY-ZAURUS. Also the "ipk" package has been commited.

2004-07-06 14:41  jackjansen

	* bin/: win32/AmbulantWiseInstaller.exe,
	  wince/AmbulantPPCinstaller.exe: Final candidates.

2004-07-06 13:56  jackjansen

	* include/: Makefile.am, ambulant/gui/dg/Makefile.am: Added files
	  that were missing from the source distribution.

2004-07-06 13:14  keesblom

	* src/: libambulant/gui/qt/qt_transition.cpp,
	  player_unix/qt_gui.cpp: Removed QInputdialog for Zaurus

2004-07-05 16:58  jackjansen

	* src/player_wince/res/AmbulantPlayer.ico: Updated to 1.0 icon.

2004-07-05 16:34  jackjansen

	* src/player_unix/: qt_gui.cpp, qt_gui.h: Added "Open URL" dialog.

2004-07-05 15:53  jackjansen

	* src/libambulant/common/renderer.cpp: Video renderer didn't call
	  renderer_done() on stop. This could lead to wild jumps later,
	  when the region wants to do a redraw. Fixes #974715.

2004-07-05 14:26  jackjansen

	* include/ambulant/net/url.h: data: urls were handled incorrectly.
	  fixed.

2004-07-05 14:25  jackjansen

	* src/player_macosx/mainloop.cpp: Removed debug

2004-07-05 14:25  jackjansen

	* src/player_macosx/cocoambulant.icns: New icon

2004-07-05 14:24  jackjansen

	* src/libambulant/net/url.cpp: Removed debug output

2004-07-05 14:24  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Stopgap for fixing
	  transition background: always recreate the offscreen pixmap in
	  which we render thhe data.

2004-07-05 13:52  jackjansen

	* src/: player_mfc/AmbulantPlayer.rc,
	  player_mfc/res/AmbulantPlayer.ico,
	  player_mfc/res/AmbulantPlayerDoc.ico,
	  AmbulantWin32Installer/AmbulantWiseInstaller.wse: Updated icons
	  and about text.

2004-07-05 13:27  jackjansen

	* Documentation/misc/TIPS-ZAURUS: Added section on building ipk
	  files.

2004-07-05 12:50  jackjansen

	* src/libambulant/smil2/region_node.cpp: iRemoved debug output.

2004-07-05 11:36  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h: Test CVS locking problem -
	  ignore.

2004-07-05 11:33  jackjansen

	* src/libambulant/gui/qt/qt_renderer.cpp: CVS locking problem test,
	  ignore.

2004-07-05 11:20  keesblom

	* include/ambulant/gui/qt/qt_factory.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h: Disabled
	  QCursor for the Zaurus

2004-07-05 11:15  jackjansen

	* src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: - Registry
	  entry for double-clicking a smil document was wrong. Fixed.  -
	  Dick wants the two-level name structure in the start menu back,
	  and	I couldn't be bothered to argue:-)

2004-07-05 10:20  kleanthis

	* bin/win32/AmbulantPlayer.exe: Various small plus disable
	  slideWipe transitions until i provide a fix.

2004-07-05 10:01  kleanthis

	* include/ambulant/lib/win32/win32_event_processor.h: Set the
	  resolution of the event processor to 50ms. Should be even
	  smaller. The previous value (100ms) was too large.

2004-07-05 09:58  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp: Use the main event
	  processor instead of the secondary for transitions for smoother
	  redraws.

2004-07-05 09:56  kleanthis

	* src/libambulant/gui/dx/dx_transition.cpp: Disable slideWipe
	  transitions until i provide a fix (i will attempt to do this
	  later today).

2004-07-04 15:54  kleanthis

	* bin/win32/AmbulantPlayer.exe: Various small changes based on
	  Dick's report a) Fixed version string in the About box b) Changed
	  check mark icon with the notepad icon. Please design a better one
	  and we can replace it c) Some bogus URLs are catched d) Fixed
	  load settings e) Verified that opening by double click works. BUT
	  requires the correct registry entries. For example if the command
	  is [<home>\AmbulantPlayer"] instead of [<home>\AmbulantPlayer"
	  "%1"] the player will be opened by the filename will not be
	  passed by the system.

2004-07-04 15:46  kleanthis

	* src/libambulant/lib/document.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  include/ambulant/gui/dx/dx_player.h: Various small changes based
	  on Dick's report a) Fixed version string in the About box b)
	  Changed check mark icon with the notepad icon. Please design a
	  better one and we can replace it c) Some bogus URLs are catched
	  d) Fixed load settings e) Verified that opening by double click
	  works. BUT requires the correct registry entries. For example if
	  the command is [<home>\AmbulantPlayer"] instead of
	  [<home>\AmbulantPlayer" "%1"] the player will be opened by the
	  filename will not be passed by the system.

2004-07-04 15:43  kleanthis

	* src/: player_mfc/AmbulantPlayer.cpp,
	  player_mfc/AmbulantPlayer.rc, player_mfc/MmView.cpp,
	  player_mfc/OpenUrlDlg.cpp, player_mfc/OpenUrlDlg.h,
	  player_mfc/resource.h, libambulant/gui/dx/dx_player.cpp: Various
	  small changes based on Dick's report a) Fixed version string in
	  the About box b) Changed check mark icon with the notepad icon.
	  Please design a better one and we can replace it c) Some bogus
	  URLs are catched d) Fixed load settings e) Verified that opening
	  by double click works. BUT requires the correct registry entries.
	  For example if the command is [<home>\AmbulantPlayer"] instead of
	  [<home>\AmbulantPlayer" "%1"] the player will be opened by the
	  filename will not be passed by the system.

2004-07-03 00:05  jackjansen

	* src/player_macosx/: MyDocument.h, MyDocument.mm,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib,
	  English.lproj/MyDocument.nib/classes.nib,
	  English.lproj/MyDocument.nib/info.nib,
	  English.lproj/MyDocument.nib/objects.nib: Found a devious way to
	  get a "Open URL..." panel to work.

2004-07-02 17:41  jackjansen

	* src/libambulant/gui/qt/qt_image_renderer.cpp: Finally got fit to
	  work on Linux.

2004-07-02 16:46  keesblom

	* include/ambulant/gui/qt/qt_factory.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h: Zaurus
	  works again

2004-07-02 15:11  jackjansen

	* src/libambulant/gui/qt/qt_renderer.cpp: Two tiny tweaks now make
	  trnasitions work on Linux.

2004-07-02 14:34  jackjansen

	* src/player_wince/AmbulantPlayer.rc, src/player_wince/resource.h,
	  bin/wince/AmbulantPPCinstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWinCEWiseInstaller.wse:
	  Updated version numbers, etc.

2004-07-02 14:00  kleanthis

	* src/libambulant/libambulant_wince.vcp: Upgrade the DG toolkit,
	  used by WinCE, to almost the current state.

2004-07-02 13:57  keesblom

	* src/: libambulant/gui/qt/qt_factory.cpp,
	  libambulant/gui/qt/qt_renderer.cpp,
	  libambulant/gui/qt/qt_transition.cpp, player_unix/qt_gui.cpp:
	  Made Jack's changes compile

2004-07-02 13:56  kleanthis

	* src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_transition.cpp,
	  include/ambulant/gui/dg/dg_img.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dg/dg_wmuser.h,
	  include/ambulant/gui/dg/dg_playable.h,
	  include/ambulant/gui/dg/dg_transition.h,
	  src/player_wince/AmbulantPlayerView.cpp,
	  src/player_wince/AmbulantPlayerView.h: Upgrade the DG toolkit,
	  used by WinCE, to almost the current state.

2004-07-02 12:42  kleanthis

	* src/libambulant/gui/dx/: dx_image_renderer.cpp, dx_img.cpp,
	  dx_video.cpp: Unicode-enable the dx toolkit.

2004-07-02 12:39  kleanthis

	* include/ambulant/lib/textptr.h: Define macro text_str if not
	  defined just in case...

2004-07-02 12:37  kleanthis

	* src/libambulant/net/url.cpp, include/ambulant/net/url.h: A trick
	  applicable only for wince in order to bypass compiler
	  shortcoming.

2004-07-02 12:35  kleanthis

	* src/player_wince/AmbulantPlayerView.cpp: Unicode and URL related
	  changes.  The WinCE player compiles and runs again.

2004-07-02 12:32  kleanthis

	* src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_image_renderer.cpp,
	  src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  src/libambulant/lib/win32/win32_memfile.cpp,
	  include/ambulant/lib/win32/win32_memfile.h,
	  include/ambulant/gui/dg/dg_image_renderer.h,
	  include/ambulant/gui/dg/dg_player.h: Unicode and URL related
	  changes.  The WinCE player compiles and runs again.

2004-07-02 11:35  jackjansen

	* bin/win32/AmbulantWiseInstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Fixed
	  installer: - Added License - Fixed document icon - Changed Start
	  menu folder name

2004-07-02 11:34  jackjansen

	* src/player_mfc/res/AmbulantPlayer.ico: Fixed document icon.

2004-07-02 11:16  jackjansen

	* src/libambulant/gui/qt/qt_renderer.cpp: Untested attempt to fix
	  transition backgrounds on Linux. Kees will investigate (and
	  fix:-).

2004-07-02 00:14  jackjansen

	* src/player_macosx/: Info.plist, English.lproj/InfoPlist.strings:
	  Version numbers

2004-07-02 00:13  jackjansen

	* Makefile.am: Include COPYING in a binary MacOSX distribution.

2004-07-01 23:19  jackjansen

	* COPYING, INSTALL, README: - Moved building instructions to
	  INSTALL - Updated version numbers - Explained a couple of things
	  a bit more clearly - Updated text for 1.0 release - Set copyright
	  year to 2004

2004-07-01 17:33  keesblom

	* include/ambulant/gui/qt/qt_factory.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/qt_mainloop.h: Implemented feedback for
	  interaction (bit hacky, but it works).

2004-07-01 16:21  jackjansen

	* src/: player_unix/qt_mainloop.cpp, player_macosx/mainloop.cpp:
	  Fix handling of documents specified by relative filename.

2004-07-01 15:57  jackjansen

	* src/player_unix/: qt_gui.cpp, qt_mainloop.cpp, qt_mainloop.h: Use
	  a datasource to obtain the SMIL document, so we can play
	  documents over the net. Fixes 833702.

2004-07-01 14:50  kleanthis

	* src/player_mfc/AmbulantPlayer.cpp: Autostart documents passed
	  through the schell. But keep the mechanism just i case.

2004-07-01 14:36  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest binary with doc linking
	  and bug #983372 fixed.

2004-07-01 14:26  kleanthis

	* src/player_mfc/MmView.cpp, include/ambulant/gui/dx/dx_player.h:
	  Fix bug 983372 This is a site effect of the fact that the URL
	  module violates the assertion: url a(str); url b(a.get_url());
	  assert(a == b);

2004-07-01 14:22  jackjansen

	* src/player_unix/qt_mainloop.cpp: Don't try to play (or stop)
	  without testing that m_player is valid. Fixes #976578.

2004-07-01 14:13  kleanthis

	* src/player_mfc/: MmView.cpp, MmView.h: Document linking related
	  changes.

2004-07-01 14:04  jackjansen

	* Extras/DemoPresentation/NYCdata/: SIF-2.mp3, SIF-Intro.mp3:
	  iDecoded and re-encoded to work around an ffmpeg bug

2004-07-01 14:01  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Notify system entity when
	  done.

2004-07-01 14:00  kleanthis

	* include/ambulant/common/embedder.h: Added a done() notification
	  to the embedder interface.

2004-07-01 13:57  kleanthis

	* include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_wmuser.h,
	  src/libambulant/gui/dx/dx_player.cpp: Implement document linking.
	  Not tested yet with nokia samples.

2004-07-01 12:57  jackjansen

	* bin/win32/AmbulantPlayer.exe,
	  bin/win32/AmbulantWiseInstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Got rid of
	  msvcr71 and other dlls we no longer need.  Updated version
	  numbers and such.

2004-06-30 18:08  kleanthis

	* src/player_mfc/MmView.cpp: Disabled by mistake the About/Welcome
	  command.

2004-06-30 18:01  kleanthis

	* bin/win32/AmbulantWin32Installer.msi: Not needed. The msi
	  installer was a failure mainly due to ms tricks.

2004-06-30 17:58  kleanthis

	* bin/win32/AmbulantPlayer.exe: The net enabled win32 binary.

2004-06-30 17:21  kleanthis

	* src/libambulant/gui/dx/dx_text_renderer.cpp: Remove forgotten
	  local variable.

2004-06-30 16:52  kleanthis

	* src/player_mfc/MmView.cpp: And the trivial to implement fix for:
	  "Bugs item #964557 : At the moment, the Mac player automatically
	  plays the welcome  ..."

2004-06-30 16:26  kleanthis

	* include/ambulant/lib/document.h: Net enable the win32 desktop
	  player

2004-06-30 16:17  kleanthis

	* src/player_mfc/MmView.cpp: Net enable the win32 desktop player

2004-06-30 16:13  kleanthis

	* src/libambulant/net/url.cpp, include/ambulant/net/url.h,
	  include/ambulant/gui/dx/dx_text_renderer.h,
	  include/ambulant/gui/dx/dx_image_renderer.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_image_renderer.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_text_renderer.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/lib/win32/win32_memfile.cpp: Net enable the win32
	  desktop player

2004-06-30 16:09  kleanthis

	* include/ambulant/lib/win32/win32_memfile.h,
	  include/ambulant/lib/tree_builder.h,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/lib/tree_builder.cpp: Net enable the win32
	  desktop player

2004-06-30 12:13  kleanthis

	* src/libambulant/lib/win32/win32_asb.cpp,
	  include/ambulant/lib/win32/win32_asb.h: Some utility functions.

2004-06-30 12:10  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp: Provide a first
	  implementation to open new document.

2004-06-30 12:05  kleanthis

	* src/player_mfc/: stdafx.h, AmbulantPlayer.cpp, AmbulantPlayer.h,
	  AmbulantPlayer.rc, AmbulantPlayer.vcproj, MmDoc.cpp, MmDoc.h,
	  MmView.cpp, MmView.h, resource.h, OpenUrlDlg.cpp, OpenUrlDlg.h:
	  Many changes in order to allow URL strings propagate through the
	  MFC framework that was designed and assumes  local  files.  Add
	  an Open URL command and dialog.  We still don't read from the net
	  yet though.  This will be the next step of this thread.

2004-06-30 11:02  koelimoe

	* Makefile.am, configure.in, Extras/readme.txt,
	  include/ambulant/version.h, include/ambulant/common/Makefile.am:
	  updated the readme's the version number etc

2004-06-29 15:55  jackjansen

	* include/ambulant/common/region_info.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/smil2/region_node.cpp: Bug  fix for 981950: fit
	  attribute on region node was ignored since we create region nodes
	  for all media nodes.

	  The fix isn't technically correct: we now remember that no fit
	  attribute was specified and if we notice that during playback we
	  pick up the fit attribute from our parent region. But this means
	  that regions without a fit attribute will also pick it up from
	  their parent...

2004-06-29 13:31  jackjansen

	* src/libambulant/net/datasource.cpp: Use ambulant::lib::sleep, not
	  unqualified sleep (which is unix-only)

2004-06-28 19:10  kleanthis

	* lib/win32/: zlib.lib, libpng13.lib: Replace import with static
	  libs.

2004-06-28 18:58  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest binary that does not
	  depend on msvcrt71.dll

2004-06-28 18:52  kleanthis

	* bin/win32/: zlib.dll, libpng13.dll, msvcr71.dll: We don't need
	  any more these dlls. We statically link against libpng and the
	  dependency on msvcrt71.dll has been removed.

2004-06-28 17:48  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Fix; dststate = dst_play
	  => dststate == dst_play

2004-06-28 17:34  kleanthis

	* include/ambulant/gui/dx/dx_transition.h: Expose type and subtype
	  string of transitions for debugging statements.

2004-06-28 17:32  kleanthis

	* src/libambulant/gui/dx/dx_transition.cpp: Add some debuging
	  statements.

2004-06-28 17:30  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp: Fix Bug item #979711
	  Offset the computed region before clipping. This is required for
	  the current implementation.

2004-06-28 16:55  jackjansen

	* src/libambulant/net/ffmpeg_rawdatasource.cpp:
	  ffmpeg_rawdatasource had the same deadlock problem with the
	  reader thread as ffmpeg_datasource. Fixed in a similar way.

2004-06-28 16:36  jackjansen

	* include/ambulant/lib/document.h,
	  src/libambulant/net/datasource.cpp, src/player_macosx/Info.plist,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.mm,
	  src/player_macosx/mainloop.cpp: Allow getting the SMIL document
	  over the net. I'm not 100% happy with the implementation, but it
	  works.

2004-06-28 15:58  jackjansen

	* src/player_unix/qt_gui.h: Removed unneeded includes, thereby also
	  fixing problems compiling the moc file.

2004-06-25 23:30  jackjansen

	* src/libambulant/lib/unix/unix_event_processor.cpp: Fixed a small
	  (off-by-thousand:-) error in the computation of the time to stop
	  sleeping.

2004-06-25 17:55  keesblom

	* Documentation/misc/TIPS-ZAURUS,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Merged branch with
	  trunk

2004-06-25 17:23  keesblom

	* include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/gui/qt/qt_transition.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: Factored out
	  transition code from qt_image_renderer to the base class
	  qt_renderer. Moved window factory code into qt_factory.h/.cpp

2004-06-25 17:08  jackjansen

	* Documentation/Design/models/renderer.graffle,
	  Documentation/Design/models/renderer.pdf,
	  include/ambulant/common/embedder.h,
	  include/ambulant/common/player.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/libambulant_wince.vcp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Merging experimental-jack-multidoc branch: there's now an
	  embedder interface (expected to be provided by the application)
	  that the player uses to ask the embedding application to close
	  the current document and/or open a new document.

	  The Qt and MFC implementations are placeholders, currently.

2004-06-25 16:49  jackjansen

	* src/player_unix/: qt_mainloop.cpp, qt_mainloop.h: Implemented
	  common::embedder interface

2004-06-25 15:19  jackjansen

	* src/libambulant/gui/dg/dg_player.cpp,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/libambulant_wince.vcp: Updated to build again
	  with the new embedder interface. The new interfaces haven't been
	  implemented yet, though: currently they print a message or show a
	  dialog.

2004-06-25 15:18  jackjansen

	* Documentation/Design/models/: renderer.graffle, renderer.pdf:
	  Added m_dest to renderer_playable.

2004-06-25 14:29  jackjansen

	* Documentation/Design/models/: renderer.graffle, renderer.pdf:
	  Cocoa_renderer was missing. Spotted by Kees.

2004-06-25 14:25  koelimoe

	* include/ambulant/lib/unix/unix_event_processor.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/lib/node.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: fixed bug 965063
	  (Player uses 100% cpu time on Linux).

2004-06-24 17:15  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/MyDocument.mm: - Finally found a way to do all
	  redaraws in the main thread, yeah! - Removed debug output

2004-06-24 15:41  jackjansen

	* include/ambulant/common/player.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Use
	  the new embedder interface for opening new documents.  Implement
	  that interface for Cocoa.

2004-06-24 15:40  jackjansen

	* include/ambulant/common/embedder.h: New interface, to be provided
	  by the embedding application, that allows the player to close the
	  current document and open a new document. Also includes the
	  system interface for opening external URLs.

2004-06-24 14:02  keesblom

	* Documentation/misc/TIPS-ZAURUS,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Committed on a branch
	  beofre turning everything upside down to imeplement in/out
	  transistions using helper classes in a similar way as Jack did
	  for cocoa

2004-06-24 13:34  keesblom

	* src/libambulant/smil2/time_node.cpp: Added "const" to make ot
	  compile

2004-06-23 14:32  jackjansen

	* include/ambulant/smil2/time_node.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/timegraph.cpp: Implemented <a> anchors,
	  which to my surprised turned out to be easy.	Both actuate=onLoad
	  and actuate=onRequest should work.

2004-06-23 13:41  jackjansen

	* src/libambulant/smil2/: smil_player.cpp, time_attrs.cpp,
	  timegraph.cpp: Finished DOM event implementation. Not 100%
	  correct, though: we treat focus and bounds events identical while
	  they are slightly different according to the spec.

2004-06-22 16:10  jackjansen

	* include/ambulant/smil2/sync_rule.h,
	  include/ambulant/smil2/time_node.h,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/MyDocument.mm: Started on implementation of
	  other DOM events (focusIn, focusOut, inBounds and outOfBounds).

2004-06-22 15:26  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: Fixed race conditions
	  in cleanup of ffmpeg datasources.

2004-06-22 14:39  koelimoe

	* src/player_unix/: qt_mainloop.cpp, qt_mainloop.h: fixed the
	  show_file in qt_mainloop, so it uses the url stuff

2004-06-22 14:20  jackjansen

	* include/ambulant/smil2/animate_f.h,
	  src/libambulant/libambulant_wince.vcp,
	  src/libambulant/smil2/animate_n.cpp: Got WinCE player to build
	  again. Kleanthis: can you check that I did the right thing for
	  animation?

	  It now builds (including linking) but unfortunately still doesn't
	  run.

2004-06-22 14:18  koelimoe

	* src/libambulant/: common/renderer.cpp, gui/SDL/sdl_audio.cpp,
	  gui/qt/qt_video_renderer.cpp, net/ffmpeg_datasource.cpp: Bug
	  Fixes

2004-06-21 16:46  jackjansen

	* src/libambulant/common/region.cpp,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/smil2/time_node.h: Namespace tweaks to make emVC
	  at least compile the player again.  It doesn't link, though, will
	  look at that tomorrow.

2004-06-21 16:41  jackjansen

	* src/libambulant/common/region.cpp: Fixed cast warning.

2004-06-21 16:32  jackjansen

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: The
	  mix-and-match of Windows paths with URLs rears its ugly head
	  again.  For now, fix by remembering whether a path is a windows
	  path (or actually remembering the separators that can be
	  expected).

2004-06-21 16:31  jackjansen

	* src/libambulant/gui/dg/dg_player.cpp,
	  include/ambulant/gui/dg/dg_player.h,
	  src/libambulant/gui/dx/dx_player.cpp,
	  include/ambulant/gui/dx/dx_player.h: Modified for new signature
	  for show_file.

2004-06-21 15:46  jackjansen

	* include/ambulant/lib/document.h, include/ambulant/lib/system.h,
	  include/ambulant/net/url.h, include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_nctx.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/document.cpp, src/libambulant/net/url.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h:
	  Merging next set of URL changes. Hyperjumps are now handled
	  completely with URLs too.

2004-06-21 15:12  keesblom

	* include/ambulant/smil2/transition.h,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/libambulant/smil2/transition.cpp: Protected m_progress used
	  in transitions becoming less than the previous value

2004-06-21 13:54  jackjansen

	* include/ambulant/lib/document.h, include/ambulant/net/url.h,
	  src/libambulant/lib/document.cpp, src/libambulant/net/url.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp: More URL handling fixes:
	  don't keep the base URL (document with last pathname component
	  removed) separately. Handle #anchor URLs correctly.  Use URLs in
	  the hyperlink code too.

2004-06-21 13:52  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Unfortunately these fixes
	  are worse than the problem: now the player hangs fairly often.
	  Need to rethink.

2004-06-18 17:37  keesblom

	* src/libambulant/: gui/qt/qt_image_renderer.cpp,
	  gui/qt/qt_transition.cpp, net/ffmpeg_datasource.cpp: Improved
	  "fade"  transitions. The beginning of a fade looks weird because
	  of strange values (sometimes negative ones) for the input
	  variable m_progress

2004-06-18 15:28  keesblom

	* src/libambulant/net/ffmpeg_datasource.cpp: Corrected debug lin in
	  data_avail

2004-06-18 15:15  keesblom

	* src/libambulant/net/ffmpeg_datasource.cpp: Added test m_src ==
	  NULL

2004-06-18 14:22  jackjansen

	* include/ambulant/lib/system.h,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_nctx.h,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h: Use
	  net::url in stead of std::string. Should solve some of the
	  relative URL problems. Doesn't work yet, so checking in on a
	  branch.

2004-06-18 14:19  koelimoe

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: added a empty
	  _playable_notification class, to fix a crash in qt_video_player.

2004-06-18 14:10  jackjansen

	* include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_nctx.h,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp: A few more bits and pieces
	  for hyperlinking.

2004-06-18 14:09  jackjansen

	* Extras/Welcome/Welcome.smil: Added external="true" to the
	  hyperlink: we want to open it in a browser.

2004-06-18 11:27  jackjansen

	* include/ambulant/smil2/time_attrs.h,
	  include/ambulant/smil2/time_node.h,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/timegraph.cpp: Parse actuate attribute on
	  anchors and implement onLoad. Factored out linking code to
	  time_node::follow_link(). Handling show/external/etc attributes
	  TBD.

2004-06-18 11:16  keesblom

	* src/libambulant/smil2/animate_n.cpp: Enlarged a local char array
	  because the cross-compiler for the Zaurus hit an internal error
	  otherwise

2004-06-17 22:04  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Removing all the debug
	  code again: it turns out the problem is with the MP3 files
	  themselves. Or possibly with ffmpeg on Linux (or 386 hardware?):
	  the MP3s play back fine with ffmpeg on Mac (PPC) and native
	  Windows decoder.

2004-06-17 16:29  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Still more debugging: dump
	  audio data to file.

2004-06-17 13:32  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Adding more debug output
	  to try and find the hiss problem.

2004-06-17 12:08  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: more debug output for
	  the hiss problem:

2004-06-17 11:51  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: Count input bytes in a
	  different place.

2004-06-17 11:32  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: iadded debug output
	  for debugging the hiss problem on linux.

2004-06-16 17:21  koelimoe

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: moved the video SDL
	  code from renderer.cpp to qt_video_renderer.cpp.  and some more
	  tweaks.

2004-06-16 16:18  jackjansen

	* src/libambulant/: common/renderer.cpp, gui/SDL/sdl_audio.cpp,
	  gui/cocoa/cocoa_renderer.mm, gui/cocoa/cocoa_transition.mm: Got
	  some outtransitions to work for Mac.

2004-06-16 14:28  jackjansen

	* include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/node.h,
	  include/ambulant/net/url.h, include/ambulant/smil2/time_nctx.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/lib/document.cpp, src/libambulant/lib/node.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/url.cpp, src/player_macosx/MyDocument.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging experimental-jack-url: - Most places where we store a URL
	  they are now of type net::url in stead of std::string.  - Enabled
	  partial use of data: urls on Mac/Linux (text only, no base 64,
	  and we don't do url decoding yet, so also no spaces, etc) -
	  Windows code works, but doesn't make full use of url features
	  yet.

2004-06-16 14:14  koelimoe

	* src/libambulant/: common/renderer.cpp, gui/SDL/sdl_audio.cpp,
	  net/url.cpp: tweaks and fixes

2004-06-16 13:21  jackjansen

	* src/libambulant/gui/dg/dg_text.cpp, include/ambulant/net/url.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp: Fixed up to work with the
	  new url scheme. No new functionality yet, but at least things
	  work.

2004-06-16 10:58  jackjansen

	* include/ambulant/net/url.h, src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/url.cpp: Got data: url to work.

2004-06-16 00:12  jackjansen

	* src/libambulant/net/datasource.cpp: (failed) attempt at using
	  memfile to handle data: urls. Will fix tomorrow.

2004-06-15 23:51  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  gpaths.cpp and .h

2004-06-15 23:34  jackjansen

	* include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/node.h,
	  include/ambulant/net/url.h, include/ambulant/smil2/time_nctx.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/lib/document.cpp, src/libambulant/lib/node.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/url.cpp, src/player_macosx/MyDocument.mm:
	  Commiting on a branch so I can move it home.

2004-06-15 17:36  kleanthis

	* src/libambulant/gui/dx/: dx_text.cpp, dx_text_renderer.cpp:
	  Handle inline text.

2004-06-15 17:34  kleanthis

	* include/ambulant/gui/dx/dx_transition.h: Add is_outtrans query
	  function.

2004-06-15 17:32  kleanthis

	* include/ambulant/smil2/: time_node.h, timegraph.h, smil_time.h,
	  sync_rule.h: Schedule transOut for the simple cases with fill
	  "remove".

2004-06-15 16:17  kleanthis

	* src/libambulant/smil2/: sync_rule.cpp, timegraph.cpp,
	  time_node.cpp: Schedule transOut for the simple cases with fill
	  "remove".

2004-06-15 12:16  kleanthis

	* src/libambulant/smil2/animate_n.cpp: Detail

2004-06-15 12:15  kleanthis

	* src/libambulant/smil2/animate_a.cpp: Start using SVG paths.

2004-06-15 12:13  kleanthis

	* include/ambulant/lib/gpaths.h: Add function get_pivot_points() to
	  path interface.

2004-06-15 12:11  kleanthis

	* src/libambulant/lib/gpaths.cpp: Parse also SVG paths descriptions
	  that use the "repeat commands idiom".

2004-06-14 17:05  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: fixed the bug in
	  ffmpeg_resample_datasource. ( and now video works with sound)

2004-06-14 14:52  jackjansen

	* src/libambulant/net/url.cpp: gcc didn't complain about an
	  unqualified definition of a method (?), but vc7 does. Fixed.

2004-06-14 14:51  jackjansen

	* src/libambulant/common/renderer.cpp: Including sdl.h is not only
	  ugly, it also won't work on Windows:-)

	  For now, put it inside #ifdef WITH_SDL.

2004-06-14 14:19  jackjansen

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/ffmpeg_rawdatasource.h,
	  include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/url.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/url.cpp, src/player_macosx/MyDocument.mm:
	  Next step in URL handling: use net::url in stead of std::string
	  for the URLs in datasources.

2004-06-14 12:49  jackjansen

	* src/libambulant/net/url.cpp, include/ambulant/net/url.h: Minimal
	  support for relative urls. No basjoinging or anything else yet,
	  though.

2004-06-14 10:50  jackjansen

	* src/player_macosx/Makefile.am: Add an uninstall hook so the
	  application also gets removed. Fixes #964552.

2004-06-11 16:21  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: video+audio seems to
	  work for a few seconds before the player stops. But it compiles
	  ;-)

2004-06-11 14:22  koelimoe

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Added sound to the
	  video renderer

2004-06-11 11:26  kleanthis

	* include/ambulant/smil2/animate_f.h,
	  src/libambulant/smil2/animate_n.cpp: Join the project with
	  something simple.  Enable animation key times.

2004-06-11 01:07  jackjansen

	* src/player_macosx/: MyDocument.h, MyDocument.mm: Update
	  play/stop/pause buttons, both directly when we know something has
	  changed an timer-based (every half second).

2004-06-11 00:33  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp: Protect all access to
	  subregions and renderers with a lock. This may fix #964965.

2004-06-11 00:32  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: Forestall warning
	  messages by checking beforehand that we have room in the output
	  buffer.

2004-06-11 00:31  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Now that we can delete
	  m_audio_src when it is no longer needed we need to check that it
	  is non-NULL in a few more places.

2004-06-10 23:24  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: Fixed misunderstanding
	  in ffmpeg API: output buffer to avcodec_decode_audio should
	  always be AVCODEC_MAX_AUDIO_FRAME_SIZE bytes big.

2004-06-10 23:21  jackjansen

	* src/libambulant/net/databuffer.cpp: Added a define RANDOM_BYTES.
	  Defining this will fill newly allocated and freed portions of the
	  buffer with random garbage, for debugging purposes.

2004-06-10 14:02  jackjansen

	* Documentation/Design/models/playable.graffle,
	  Documentation/Design/models/playable.pdf,
	  Documentation/Design/models/renderer.graffle,
	  Documentation/Design/models/renderer.pdf,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_renderer.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/Makefile.am, src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_renderer.m,
	  src/libambulant/gui/cocoa/cocoa_renderer.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging experimental_jack_playableredesign branch: redesigned
	  class structure for playables and renderers.

2004-06-10 12:53  jackjansen

	* include/ambulant/common/renderer.h: VC7 doesn't like us to access
	  protected methods from a subclass, for some reason I don't
	  understand.

2004-06-09 23:49  jackjansen

	* include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_text.mm: - Added the new files to
	  the Makefile - Added transition support to cocoa text.
	  Unfortunately it doesn't work.

2004-06-09 23:42  jackjansen

	* src/player_macosx/mainloop.cpp: The player could crash when
	  playing a document with a syntax error. Fixed.

2004-06-08 16:56  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_renderer.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_renderer.m,
	  src/libambulant/gui/cocoa/cocoa_renderer.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  Added a baseclass cocoa_renderer that handles transition stuff
	  for the   other cocoa renderers.  - Shortened the names of the
	  renderers: cocoa_active_image_renderer is   now
	  cocoa_image_renderer, etc.

2004-06-08 15:47  jackjansen

	* include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_image_renderer.cpp: Fixed for new
	  renderer/playable structure.

2004-06-08 15:11  jackjansen

	* Documentation/Design/models/: playable.graffle, playable.pdf,
	  renderer.graffle, renderer.pdf: Documented new class inheritance
	  diagram for renderer and playable. The filenames should change,
	  though: playable documents playable and renderer, renderer
	  documents renderer_playable and other convenience classes.

2004-06-08 13:30  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/none/none_gui.cpp: Started on redoing the
	  renderer/playable class structure.

2004-06-08 13:23  keesblom

	* Documentation/misc/: TIPS-ZAURUS, ambulantplayer-ipk.tgz,
	  ipkg-build.sh: Added information how to create .ipk packages for
	  the Zaurus

2004-06-08 11:47  keesblom

	* README-ZAURUS, Documentation/misc/README-ZAURUS: Moved
	  README-ZAURUS from top directory to Documentation/misc

2004-06-07 16:49  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/smil2/smil_player.cpp: - Fixed another leak in
	  ffmpeg_datasource: calling start() twice now no   longer causes
	  memory leakage.  - Fixed leaking of transition sourcei bitmaps
	  for Cocoa.

2004-06-04 18:19  keesblom

	* src/: libambulant/gui/qt/qt_fill.cpp,
	  libambulant/gui/qt/qt_image_renderer.cpp,
	  libambulant/gui/qt/qt_text_renderer.cpp,
	  libambulant/gui/qt/qt_transition.cpp,
	  libambulant/gui/qt/qt_video_renderer.cpp, player_unix/qt_gui.cpp:
	  Changed dynamically allocated objects into stack objects, when
	  possible

2004-06-04 17:30  jackjansen

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/ffmpeg_rawdatasource.h,
	  include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/stdio_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp: Fixed a design flaw in
	  the datasource interface: a datasource can hold a refcount for
	  its client (through the callback to start()) and a client
	  obviously holds a reference to the datasource. This would lead to
	  a deadly embrace.

	  Fixed this by adding a stop() method with which the client
	  signals it is no longer interested (and about the release the
	  datasource).

2004-06-04 14:06  jackjansen

	* bin/win32/AmbulantWiseInstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Add
	  msvcr71.dll to the installer. Whether this is a good idea for the
	  next public release is still under investigation, but Dick wants
	  it for demo purposes.

2004-06-03 13:07  koelimoe

	* src/libambulant/: common/renderer.cpp, net/ffmpeg_datasource.cpp:
	  minor improvements to my previous commit, just to make it compile
	  :-)

2004-06-03 12:57  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: implemented the
	  has_audio & the get_audiodatasource to the implemented the
	  methods has_audio() and get_audio_datasource to the
	  ffmpeg_video_datasource (untested)

2004-06-03 11:54  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: removed some mem leaks
	  in ffmpeg_audio_ds and ffmpeg_video_ds.

2004-06-02 17:33  jackjansen

	* src/player_macosx/: MyAppDelegate.h, MyAppDelegate.mm,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib: Added emtries to the Help
	  menu to visit the home page and play the welcome document.

2004-06-02 16:55  jackjansen

	* src/player_unix/: qt_gui.cpp, qt_mainloop.cpp, qt_mainloop.h: -
	  Play Welcome document the first time you start the player - Added
	  "Homepage" and "Welcome doc" buttons to the About dialog

2004-06-02 16:04  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: splitted the
	  ffmpeg_audio_datasource constructor in the sameway as the
	  ffmpeg_video_datasource constructor

2004-06-01 14:13  jackjansen

	* bin/win32/AmbulantPlayer.exe,
	  bin/win32/AmbulantWiseInstaller.exe,
	  bin/wince/AmbulantPPCinstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWinCEWiseInstaller.wse,
	  src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Files used
	  for Ambulant/O distribution.

2004-06-01 13:37  jackjansen

	* README, third_party_packages/readme.txt: Minor details.

2004-06-01 12:55  jackjansen

	* Extras/DemoPresentation/NYC-SMIL2-http.smil: This file shouldn't
	  be in the distribution.

2004-06-01 10:57  jackjansen

	* src/libambulant/common/region.cpp: More debug output biting the
	  dust.

2004-06-01 10:51  jackjansen

	* src/libambulant/: gui/cocoa/cocoa_dsvideo.mm,
	  gui/none/none_video_renderer.cpp, net/raw_video_datasource.cpp,
	  smil2/animate_a.cpp, smil2/animate_e.cpp, smil2/animate_n.cpp:
	  Got rid of debug output.

2004-06-01 10:38  jackjansen

	* README: Ordered the suppported platforms in the order of our
	  confidence.

2004-05-29 01:10  jackjansen

	* src/libambulant/gui/cocoa/: cocoa_gui.mm, cocoa_video.mm: A
	  strange hack that makes transitions (and occasionally other
	  redraws) work much more smoothly: before we signal that we want
	  our view updated we first pretend to want to draw in the view.
	  This seems to mask the bug (at least, I think it is a bug) that
	  the redraw request can get lost when done from one thread while
	  the other thread is redrawing.

2004-05-29 00:58  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp,
	  include/ambulant/net/ffmpeg_datasource.h: Added a static
	  constructor function for ffmpeg_video_datasources. This makes
	  unsupported codec types in supported file types print an error
	  message (in stead of crashing).

2004-05-28 23:57  jackjansen

	* Documentation/Design/models/: overall.graffle, overall.pdf: Added
	  the dependency of the layout manager on the DOM tree.

2004-05-28 23:50  jackjansen

	* Documentation/Design/models/: overall.graffle, overall.pdf:
	  Detail.

2004-05-28 23:30  jackjansen

	* Documentation/Design/models/: overall.graffle, overall.pdf: First
	  stab at the overall structure of the player.

2004-05-28 15:43  kleanthis

	* src/libambulant/smil2/time_node.cpp: Provide a temporary fix to a
	  nasty bug visible when the audio or video renderers cann't return
	  their implicit duration.

2004-05-28 15:26  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp: Various datastructures could
	  be modified while redrawing, leading to invalid iterators and all
	  sorts of problems. Partial fix: protect at least m_renderers.

2004-05-28 15:04  jackjansen

	* include/ambulant/lib/Makefile.am, src/libambulant/Makefile.am:
	  Added gpath.cpp and gpath.h.

2004-05-28 15:04  jackjansen

	* src/libambulant/smil2/smil_player.cpp: Added debug statements
	  (behind AM_DBG) to try and find scheduling problem on Mac and
	  Linux.

2004-05-28 13:42  jackjansen

	* src/player_unix/qt_mainloop.cpp: Use ffmpeg raw datasources, when
	  applicable.

2004-05-27 13:56  keesblom

	* Documentation/README-Distribution: For distcheck, arts is needed

2004-05-27 13:46  koelimoe

	* Documentation/README-Distribution,
	  include/ambulant/gui/arts/arts_audio.h,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: fixed the arts
	  renderer since it did't compile anymore README-Distribution small
	  improvement qt_video_renderer takes care of the width en height
	  of the video

2004-05-27 11:19  keesblom

	* include/ambulant/gui/dx/Makefile.am: Added missing include files
	  dx_playable.h and dx_transition.h

2004-05-27 09:54  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp,
	  bin/win32/AmbulantPlayer.exe: A FIX for transparent images
	  fading.

2004-05-27 09:41  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary with the
	  correct version and small icons.

2004-05-27 09:38  kleanthis

	* src/player_mfc/res/: AmbulantPlayer.ico, AmbulantPlayerDoc.ico:
	  Add  the correct [O] 16x16 icons

2004-05-27 09:23  kleanthis

	* src/libambulant/libambulant_win32.vcproj: The latest VC7.1
	  project including the more recent stuff.

2004-05-27 00:06  jackjansen

	* src/player_macosx/: Info.plist, English.lproj/InfoPlist.strings:
	  Version numbers.

2004-05-26 23:43  jackjansen

	* README: A bit more detail on SMIL support and developer tools.

2004-05-26 22:57  jackjansen

	* README, third_party_packages/readme.txt: Made the references to
	  our pre-patched third party packages a bit more prominent.

2004-05-26 22:42  jackjansen

	* INSTALL: Added a note pointing people to the README file.

2004-05-26 22:16  kleanthis

	* bin/win32/msvcr71.dll: Make bin/win32 folder sufficient for a
	  mimal distribution by adding msvcrt71.dll

2004-05-26 22:13  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary supporting
	  transitions.

2004-05-26 22:12  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Stability issues.

2004-05-26 21:48  kleanthis

	* src/libambulant/: gui/dx/dx_player.cpp, gui/dx/dx_video.cpp,
	  gui/dx/dx_viewport.cpp, smil2/smil_player.cpp: Stability issues.

2004-05-26 19:03  kleanthis

	* src/libambulant/lib/parselets.cpp: Allow a space alone to
	  separate the coordinates of a point.

2004-05-26 18:59  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/dx_viewport.h: Use an on demand pool of
	  surfaces for serving multiple fade transitions..

2004-05-26 18:57  kleanthis

	* src/libambulant/gui/dx/dx_transition.cpp: Fix push transitions
	  left top offset.

2004-05-26 15:58  kleanthis

	* src/libambulant/smil2/time_calc.cpp: Opps.... While restructuring
	  the timing calc code a return was gone.  This could have
	  important consequnces on the timing of certain documents.

2004-05-26 15:07  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp,
	  include/ambulant/gui/dx/dx_player.h: Ptotect transition resgistry
	  from a stop while transitioning.  Also cleanup trasnsitions
	  registry on stop.

2004-05-26 13:19  kleanthis

	* src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_rgn.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_viewport.h: Make TEXT and BRUSH
	  transitionable.  Plus other details

2004-05-26 13:13  keesblom

	* README, README-ZAURUS, configure.in, Extras/bindist-readme.txt,
	  include/ambulant/version.h, src/player_unix/qt_gui.cpp: Changed
	  to version 0.7.  Removed initial transparent window bug.

2004-05-26 12:37  kleanthis

	* include/ambulant/gui/dx/dx_transition.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  src/libambulant/gui/dx/dx_viewport.cpp: Implement the final and
	  more interesting transition: FADE Enjoy happy Ambulant
	  transitions!

2004-05-26 11:35  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: removed debug
	  output(put it behind AM_DBG) video doesn't shock anymore

2004-05-26 11:15  koelimoe

	* src/libambulant/: common/renderer.cpp,
	  gui/qt/qt_video_renderer.cpp, net/ffmpeg_datasource.cpp: Small
	  step in my editor, but a big step for ambulant video.  pictures
	  look good now(for mpg), but video does shows 'shocks' (maybe
	  becaue of all the debug output ?)

2004-05-26 10:36  kleanthis

	* src/libambulant/gui/dx/dx_transition.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/dx_transition.h,
	  include/ambulant/gui/dx/dx_viewport.h: Provide support for
	  polylist and push transitions (sum = ALL) Add to the factoty map
	  all transitions having a compute() implementation.  Add error
	  reporting. A failing transition region is visible and anoying.
	  The big missing now is fade and more transition calcs
	  implementations.  Trans-out is the only difficult part remaing
	  open but this is a scheduler only issue.

2004-05-26 00:21  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp,
	  src/libambulant/gui/dx/dx_transition.cpp,
	  include/ambulant/gui/dx/dx_transition.h: Add support for polygon
	  blitter type transitions.

2004-05-25 23:19  kleanthis

	* include/ambulant/gui/dx/dx_playable.h: A base dx playable
	  providing common services.

2004-05-25 23:16  jackjansen

	* src/libambulant/smil2/transition.cpp: Update m_stepcount for
	  various of the new transitions.

2004-05-25 23:16  kleanthis

	* src/libambulant/gui/dx/dx_img.cpp,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_video.h: The first version of the
	  transition module under windows.  Currently only transitions for
	  RECT and RECTLIST blitters are implemented.

2004-05-25 23:12  kleanthis

	* include/ambulant/gui/dx/dx_transition.h,
	  src/libambulant/gui/dx/dx_transition.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  src/libambulant/gui/dx/dx_video.cpp: The first version of the
	  transition module under windows.  Currently only transitions for
	  RECT and RECTLIST blitters are implemented.

2004-05-25 23:03  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: added some debug
	  information

2004-05-25 22:59  jackjansen

	* src/libambulant/smil2/transition.cpp: - Fixed snakewipe (which
	  was actually a horizontal waterfall) - Added waterfall (used in
	  the flashlight demo).

2004-05-25 22:48  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/smil2/smil_player.cpp: Added infrastructure to
	  communicate the end of a transition to the scheduler.  It is a
	  bit messy: the transitioning renderer tells its surface, which
	  escalates it all the way up to the root-layout, which broadcasts
	  it down again, where finally all renderers that overlap with the
	  transition are told, which then call transitioned().

	  But I think the messyness is inherent to the SMIL 2 design, so
	  we'll have to live with it.

2004-05-25 17:39  jackjansen

	* src/libambulant/gui/cocoa/: cocoa_gui.mm, cocoa_video.mm:
	  details.

2004-05-25 17:31  keesblom

	* include/ambulant/gui/qt/qt_transition.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp,
	  src/player_unix/qt_mainloop.cpp: Added polylist (bowTie) but
	  didn't test that one

2004-05-25 16:12  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: slight improvement of
	  the videoplayer. raw avi works now

2004-05-25 15:23  jackjansen

	* bin/win32/AmbulantPlayer.exe,
	  bin/win32/AmbulantWiseInstaller.exe,
	  src/AmbulantWin32Installer/AmbulantWiseInstaller.wse,
	  src/player_mfc/res/AmbulantPlayer.ico,
	  src/player_mfc/res/AmbulantPlayerDoc.ico: Changed the icon to the
	  Ambulant/O icon, updated the Wise installer.

2004-05-25 15:21  jackjansen

	* src/libambulant/smil2/transition.cpp: VC++ doesn't know M_PI, so
	  define it if it isn't there.

2004-05-24 23:09  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Cocoa Y-coordinate
	  flipping is a black art. At least, it's pretty obscure to me. But
	  by making the temp surface *not* flipped things seem to work as
	  expected:-)

2004-05-24 23:03  jackjansen

	* include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp: Added clockWipe transition.

2004-05-24 16:25  sjoerd

	* src/AmbulantWin32Installer/: .cvsignore,
	  AmbulantWinCEWiseInstaller.wse: Wise installer for Handheld
	  version.

2004-05-24 15:41  sjoerd

	* bin/win32/AmbulantWiseInstaller.exe: Regenerated and told CVS the
	  file is binary.

2004-05-24 14:32  keesblom

	* src/libambulant/gui/qt/qt_transition.cpp: Implemented fourBoxWipe

2004-05-24 12:51  sjoerd

	* bin/win32/AmbulantWiseInstaller.exe: Same installer created on a
	  different system.

2004-05-24 12:48  sjoerd

	* src/AmbulantWin32Installer/AmbulantWiseInstaller.wse: Ambulant
	  win32 installer specification for Wise Installation System.

2004-05-24 11:52  keesblom

	* src/libambulant/: gui/qt/qt_transition.cpp,
	  smil2/region_node.cpp: Fixed initialization of m_zindex.

2004-05-24 09:42  jackjansen

	* include/ambulant/gui/qt/qt_transition.h: iFixed typo that caused
	  compilation to fail.

2004-05-24 00:07  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_dsvideo.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_macosx/mainloop.cpp: Fixed various video issues: -
	  Added buffering to ffmep_video_datasource - Fixed design error in
	  frame_done: added a boolean to signify we have   processed the
	  frame but want to hang on to the data - fixed timestamp handling.

	  There's still quite a few open issues, though. Cocoa colors are
	  wrong, MPEG frames come in in the wrong (file?) order and
	  decode_picture complains about every frame, AVI frames come in
	  without a timestamp. And after a while things crash.

2004-05-23 22:24  kleanthis

	* include/ambulant/lib/gpaths.h, src/libambulant/lib/gpaths.cpp:
	  Some more steps on SVG paths.

2004-05-23 22:21  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_dsvideo.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/smil2/time_node.h, src/libambulant/Makefile.am,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_dsvideo.m,
	  src/libambulant/gui/cocoa/cocoa_dsvideo.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/cocoambulant.icns,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  Fixed cocoa video (quicktime based) to at least work a little
	  again.  - Added datasource-based video renderer for cocoa.
	  Currently disabled.  - Added interface to video_datasource to get
	  the image size.

2004-05-23 22:17  jackjansen

	* src/libambulant/smil2/: animate_a.cpp, time_attrs.cpp,
	  time_node.cpp: Replaced a couple of occurrences of dec_p (which
	  no longer exists) with number_p, which seems to be its new name.

	  Kleanthis, please check that I did the right thing here.

2004-05-23 16:50  kleanthis

	* src/libambulant/lib/parselets.cpp,
	  include/ambulant/lib/parselets.h: Implement some generic number
	  parselets.

2004-05-23 16:48  kleanthis

	* include/ambulant/lib/gpaths.h, src/libambulant/lib/gpaths.cpp:
	  SVG path related infrastrucure. This infrastructure will be used
	  both for SMIL2 animations and SVG rendering.

2004-05-21 21:49  kleanthis

	* src/libambulant/mms/timelines.cpp: Cast containers sizes to int.
	  This is safe.  Removes all but one of the warnings mentioned by
	  Dick.  The one remaining is anyway unsafe and needs a real fix.

2004-05-21 21:47  kleanthis

	* src/libambulant/net/datasource.cpp: Compare size_t value with 0
	  and return the boolean result.  Removes one of the warnings
	  mentioned by Dick.

2004-05-21 20:04  kleanthis

	* src/libambulant/smil2/time_sched.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_sched.h,
	  include/ambulant/smil2/smil_player.h: Some more steps in
	  scheduling and hyperlinking.

2004-05-21 14:43  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  include/ambulant/smil2/time_node.h: Some more cleanup on timing

2004-05-21 12:39  dcab

	* src/player_mfc/res/AmbulantPlayer-Rel-O.ico: New Release 'O'
	  icon.  (This is particularly Ugly, but Tobias' new icon will seem
	  all the nicer becuase of it.)

2004-05-20 21:39  kleanthis

	* include/ambulant/lib/timer.h: Add an is running query.

2004-05-20 21:32  kleanthis

	* src/player_mfc/MmView.cpp: Request a redraw after starting a new
	  document.

2004-05-20 21:31  kleanthis

	* src/libambulant/gui/dx/dx_video.cpp: Arrange so that	an end of
	  media notification is not posted on pause.

2004-05-20 21:26  kleanthis

	* include/ambulant/smil2/: time_node.h, smil_player.h, time_calc.h,
	  time_nctx.h: Simplify various portions of code.  Extract the
	  interface with the playables in a separate section.  Handle excl
	  pause more accurately.  Remove the complex process related with
	  the end of media notification.

2004-05-20 21:20  kleanthis

	* src/libambulant/smil2/: time_node.cpp, time_calc.cpp,
	  time_sched.cpp, smil_player.cpp: Simplify various portions of
	  code.  Extract the interface with the playables in a separate
	  section.  Handle excl pause more accurately.	Remove the complex
	  process related with the end of media notification.

2004-05-20 13:10  kleanthis

	* src/libambulant/smil2/animate_a.cpp: Fix typo. Would produce a
	  crash on any by region dim animation

2004-05-20 12:15  kleanthis

	* src/libambulant/common/region.cpp: Provide a temporary fix to the
	  redraw process and make animations visible under windows!

2004-05-19 18:20  keesblom

	* src/libambulant/gui/qt/: qt_image_renderer.cpp, qt_renderer.cpp,
	  qt_transition.cpp: Optimized "fade" transitions. Replaced
	  floating point computations by integer equivalent. Zaurus now
	  shows 14 transition steps.

2004-05-19 17:26  jackjansen

	* include/ambulant/gui/qt/qt_video_renderer.h,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Ripped some old stuff
	  out of the video renderer, and fixed some issues. It now gets as
	  far as showing the first frame, but all subsequent frames are the
	  same.

2004-05-19 16:55  keesblom

	* include/ambulant/gui/qt/qt_transition.h,
	  src/libambulant/gui/qt/qt_transition.cpp: Implemented
	  qt_transition_blitclass_poly::update()

2004-05-19 16:33  koelimoe

	* include/ambulant/gui/qt/qt_video_renderer.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_unix/qt_mainloop.cpp: more video work

2004-05-19 16:05  jackjansen

	* include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp: Return the animated
	  values, not the DOM values. This makes animations work (at least,
	  some of them).

2004-05-19 10:04  kleanthis

	* src/libambulant/smil2/animate_n.cpp: Ignore attribute compare
	  operations until the layout and the protocol with the layout is
	  fixed.

2004-05-19 09:46  kleanthis

	* src/libambulant/smil2/animate_e.cpp: Until the layout and the
	  protocol with the layout is fixed assume that the animated
	  attribute is always dirty (changed).	This way we force updates
	  of the layout independent of the compare result.

2004-05-19 00:12  jackjansen

	* src/libambulant/smil2/transition.cpp: Added diagonalWipe

2004-05-19 00:00  jackjansen

	* include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp: - Oops, forgot to add the
	  clockWipe (Kees: take notice!) - Factored out some code reusable
	  for polylist transitions

2004-05-18 23:23  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm: Got iris
	  transitions to work for Cocoa.

2004-05-18 21:27  keesblom

	* src/libambulant/gui/qt/: qt_renderer.cpp, qt_transition.cpp: fade
	  for qt seems to start to work, even on Zaurus (although 1 step
	  takes 0.5 sec)

2004-05-18 14:19  jackjansen

	* src/libambulant/: gui/cocoa/cocoa_transition.mm,
	  smil2/region_node.cpp, smil2/transition.cpp: Create some of the
	  iris transitions.

2004-05-18 13:48  koelimoe

	* src/: libambulant/gui/qt/qt_factory.cpp,
	  libambulant/net/ffmpeg_datasource.cpp,
	  player_unix/qt_mainloop.cpp: decoding seems to work, now %&$##%
	  put that picture on the screen

2004-05-18 13:00  jackjansen

	* src/libambulant/smil2/transition.cpp: Visual C++ doesn't like
	  empty arrays. Added some dummy data to the iris initializers.

2004-05-18 11:20  keesblom

	* include/ambulant/gui/qt/qt_transition.h,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_transition.cpp: Adapted qt to new names
	  for transitions

2004-05-18 00:25  jackjansen

	* include/ambulant/lib/gtypes.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp: Got some
	  machine-independent code for iris transitions working. It's ugly,
	  though, due to the lack of class attributes and/or class virtual
	  functions and static initializers for containers:-(

	  Kleanthis, if you have a more elegant solution, please enlighten
	  me:-)

2004-05-17 17:59  jackjansen

	* include/ambulant/gui/cocoa/cocoa_fill.h,
	  src/libambulant/common/region.cpp: Added some prints for
	  animation debugging.

2004-05-17 17:33  keesblom

	* src/libambulant/gui/qt/qt_renderer.cpp: Thought I was working on
	  a branch, incorrectly. Previous version checked in will not work.
	  This one is also buggy, but at least it seems to work.

2004-05-17 17:30  keesblom

	* src/libambulant/gui/qt/: qt_renderer.cpp, qt_transition.cpp: Fade
	  transisitions almost work. Need QT_THREAD_SUPPORT.  Try to work
	  at home for this branch.

2004-05-17 17:09  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp:
	  Small changes.

2004-05-17 16:07  jackjansen

	* src/libambulant/smil2/transition.cpp: Snakewipe is there (plus
	  infrastructure for the other matrix transitions)

2004-05-17 15:51  jackjansen

	* include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp: Added the rest of the
	  boilerplate code for the transitions.

2004-05-17 14:16  jackjansen

	* src/libambulant/gui/cocoa/cocoa_transition.mm: Added rectlist
	  blitter and thereby FourBox transition.

2004-05-17 14:04  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/mainloop.cpp: Renamed bitblitters to something
	  more logical (the old names were the result of my
	  misunderstanding when implementing this for GRiNS, no need to
	  continue that confusion).

2004-05-14 17:11  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: improved dthe decoding
	  but still not working.

2004-05-14 17:10  sjoerd

	* bin/win32/AmbulantWiseInstaller.exe: Windows installer built with
	  Wise.

2004-05-14 16:00  keesblom

	* include/ambulant/gui/qt/qt_transition.h,
	  src/libambulant/gui/qt/qt_transition.cpp: Added w new files for
	  transitions

2004-05-14 15:42  keesblom

	* include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_includes.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp: First qt transition
	  works: fade (in the form of purple images).

2004-05-14 11:11  kleanthis

	* src/libambulant/smil2/time_state.cpp: Detail...

2004-05-14 11:09  kleanthis

	* src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_sched.cpp,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_nctx.h,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_sched.h: A poor man's linking
	  implementation. Works only for documents with scheduled begin
	  like the Flashlight demo.  Even for them the SMIL linking
	  semantics are not correct.  Nevertheless its something to start
	  with and see what is involved and what needs improvements.

2004-05-13 16:38  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: dded the decoding part
	  in ffmpeg_video_datasource

2004-05-13 00:09  jackjansen

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h:
	  Started on code to get the smil document through a datasource.
	  Still mostly boilerplate.

2004-05-12 23:47  jackjansen

	* include/ambulant/net/Makefile.am,
	  include/ambulant/net/ffmpeg_rawdatasource.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/net/ffmpeg_rawdatasource.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Use
	  ffmpeg to read raw data (text, images). And, guess what: it
	  works!

2004-05-12 23:37  jackjansen

	* Extras/DemoPresentation/NYC-SMIL2-http.smil: Temporary test
	  document that gets all data (audio, images, text) over the net.

2004-05-12 22:33  jackjansen

	* include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/trace_player.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/smil2/trace_player.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Adapted for Kleanthis' new timing code.

2004-05-12 16:17  kleanthis

	* src/libambulant/smil2/animate_e.cpp: Include callback.h

2004-05-12 16:00  kleanthis

	* include/ambulant/smil2/time_nctx.h: The time node context has now
	  its own header.  The header defines also a dummy time node
	  context class for implementing no-effect operations against the
	  timegraph.

2004-05-12 15:56  kleanthis

	* include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_sched.h,
	  include/ambulant/smil2/animate_f.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/smil2/timegraph.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_sched.cpp: Various timing related
	  changes.

2004-05-12 10:44  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Disable logging statements.
	  Revisit end sync condition.  Now that the design boundaries of
	  this component have been set, various fuzzy portions can replaced
	  with deterministic ones.  The pace of time should be the only
	  fuzzy parameter.

2004-05-12 00:29  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update VC7 project with
	  the new scheduler files.

2004-05-12 00:17  kleanthis

	* include/ambulant/smil2/smil_player.h,
	  src/libambulant/smil2/smil_player.cpp: The first version of the
	  new generation of smil timing.  The timegraph is now a passive
	  engine that can be driven algorithmecally.  The first simple not
	  optimized such algorithm is used by the scheduler for playback.

2004-05-12 00:08  jackjansen

	* src/libambulant/gui/cocoa/cocoa_image.mm: An attempt to make
	  cocoa transitions continue. It makes things better but not
	  optimal, I'm afraid the underlying problem is again cocoa's
	  problem with multithreading:-(

2004-05-12 00:04  jackjansen

	* Documentation/Design/models/: transition-sketch.graffle,
	  transition-sketch.pdf, transition.graffle, transition.pdf: Added
	  transition documentation.

2004-05-12 00:02  kleanthis

	* src/libambulant/smil2/time_state.cpp: The first version of the
	  new generation of smil timing.  The timegraph is now a passive
	  engine that can be driven algorithmecally.  The first simple not
	  optimized such algorithm is used by the scheduler for playback.

2004-05-11 23:44  kleanthis

	* src/libambulant/smil2/: time_calc.cpp, time_sched.cpp,
	  smil_time.cpp: The first version of the new generation of smil
	  timing.  The timegraph is now a passive engine that can be driven
	  algorithmecally.  The first simple not optimized such algorithm
	  is used by the scheduler for playback.

2004-05-11 23:41  kleanthis

	* include/ambulant/smil2/time_sched.h,
	  include/ambulant/smil2/timegraph.h,
	  include/ambulant/smil2/time_state.h,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/time_node.h,
	  src/libambulant/smil2/timegraph.cpp,
	  src/libambulant/smil2/time_node.cpp: The first version of the new
	  generation of smil timing.  The timegraph is now a passive engine
	  that can be driven algorithmecally.  The first simple not
	  optimized such algorithm is used by the scheduler for playback.

2004-05-11 22:39  jackjansen

	* src/libambulant/: gui/cocoa/cocoa_image.mm,
	  gui/cocoa/cocoa_text.mm, gui/cocoa/cocoa_video.mm,
	  net/ffmpeg_datasource.cpp: The cocoa renderers still contained
	  obsolete code to render their own background colors. Removed.

2004-05-11 22:38  jackjansen

	* src/libambulant/smil2/time_attrs.cpp: transitions have a default
	  duration: 1 second.

2004-05-11 17:29  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Adapted to new bgrenderer
	  class

2004-05-11 17:19  jackjansen

	* bin/win32/AmbulantPlayer.exe,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dx/dx_player.h,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dx/dx_player.cpp: Adapted for bgrenderer
	  class.

2004-05-11 17:10  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp: Broke dependency of surface
	  (and region) on renderer by using the gui_events interface.

2004-05-11 17:05  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Fixed background renderer
	  class.

2004-05-11 17:04  jackjansen

	* Documentation/Design/models/: Animation-sketch.graffle,
	  Animation-sketch.pdf, animation.graffle, animation.pdf,
	  layout.graffle, layout.pdf, playable.graffle, playable.pdf,
	  windows.graffle, windows.pdf: Updated to the current state of
	  things.

2004-05-11 15:36  koelimoe

	* src/libambulant/net/ffmpeg_datasource.cpp: added some debug msg.

2004-05-11 14:32  jackjansen

	* bin/win32/AmbulantPlayer.exe, include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/dg/dg_area.h,
	  include/ambulant/gui/dg/dg_audio.h,
	  include/ambulant/gui/dg/dg_bgrenderer.h,
	  include/ambulant/gui/dg/dg_brush.h,
	  include/ambulant/gui/dg/dg_img.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dg/dg_rgn.h,
	  include/ambulant/gui/dg/dg_text.h,
	  include/ambulant/gui/dg/dg_window.h,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_bgrenderer.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_rgn.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_window.h,
	  include/ambulant/lib/transition_info.h, lib/win32/libexpat.lib,
	  lib/win32/libjpeg.lib, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib, lib/wince-arm/libexpat.lib,
	  lib/wince-arm/libjpeg.lib, lib/wince-arm/libpng.lib,
	  lib/wince-arm/mp3lib.lib, lib/wince-arm/zlibce.lib,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/gui/dg/dg_area.cpp,
	  src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_bgrenderer.cpp,
	  src/libambulant/gui/dg/dg_brush.cpp,
	  src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/gui/dg/dg_window.cpp,
	  src/libambulant/gui/dx/dx_area.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_bgrenderer.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_window.cpp: Adapted the dx and dg code
	  to the new, stripped, layout stuff.  I've left dx_gui_region and
	  dg_gui_region intact in case they can be used for non-rectangular
	  regions in the future, but they're no longer subclasses of
	  gui_region.

2004-05-11 14:31  jackjansen

	* src/libambulant/common/region.cpp: Fixed stupid error:
	  need_redraw() wasn't called on show().

2004-05-11 11:53  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: iGot rid of gui_region
	  reerences.

2004-05-10 22:21  jackjansen

	* include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/none/Makefile.am,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_mouse.m: Removed the mouse stuff
	  from Makefiles too.

2004-05-10 16:53  jackjansen

	* src/libambulant/gui/dg/dg_window.cpp,
	  include/ambulant/gui/dg/dg_window.h,
	  include/ambulant/gui/dx/dx_window.h,
	  src/libambulant/gui/dx/dx_window.cpp: Getting rid of
	  mouse_region_changed stuff

2004-05-10 16:51  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/none/none_mouse.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_mouse.mm,
	  src/libambulant/gui/none/none_area.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Getting rid of the mouse_region stuff.

2004-05-10 14:29  keesblom

	* include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  include/ambulant/lib/transition_info.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/lib/transition_info.cpp: Adapted qt stuff to
	  Jack's changes. It now compiles and runs.

2004-05-10 14:20  jackjansen

	* bin/win32/AmbulantPlayer.exe, include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/dg/dg_area.h,
	  include/ambulant/gui/dg/dg_audio.h,
	  include/ambulant/gui/dg/dg_bgrenderer.h,
	  include/ambulant/gui/dg/dg_brush.h,
	  include/ambulant/gui/dg/dg_img.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dg/dg_text.h,
	  include/ambulant/gui/dg/dg_window.h,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_bgrenderer.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_window.h,
	  include/ambulant/lib/transition_info.h, lib/win32/libexpat.lib,
	  lib/win32/libjpeg.lib, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib, lib/wince-arm/libexpat.lib,
	  lib/wince-arm/libjpeg.lib, lib/wince-arm/libpng.lib,
	  lib/wince-arm/mp3lib.lib, lib/wince-arm/zlibce.lib,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/gui/dg/dg_area.cpp,
	  src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_bgrenderer.cpp,
	  src/libambulant/gui/dg/dg_brush.cpp,
	  src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/gui/dg/dg_window.cpp,
	  src/libambulant/gui/dx/dx_area.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_bgrenderer.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_window.cpp,
	  src/libambulant/lib/transition_info.cpp: Checking in on a branch,
	  because my fixes (or something else?) seems to have broken
	  redraws:

	  - Added transition files to the project - Added time_calc to the
	  project - Adapted win32 code to the new layout stuff

2004-05-10 13:57  jackjansen

	* src/libambulant/: common/region.cpp, gui/cocoa/cocoa_gui.mm,
	  net/datasource.cpp, smil2/smil_player.cpp: When redrawing
	  anything in a region redraw everything. This is not optimal, but
	  it seems the only way we can enforce correct redraws in the face
	  of the new z-order code. I don't fully understand why this wasn't
	  a problem before...

2004-05-10 11:30  keesblom

	* include/ambulant/gui/qt/qt_includes.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h: Joined the
	  branch, does't compile yet (smil_player.cpp)

2004-05-10 11:15  keesblom

	* src/: libambulant/gui/qt/qt_renderer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_gui.h: Branch just before merge: 1. double
	  buffering implemented using QPixmap 2. On Zaurus, files can be
	  selected using Opera browser, then
	  /opt/Qutopia/bin/ambulantplayer will be lauched with the filenam
	  as the 2nd parameter (argv[2]).

2004-05-08 00:11  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: - Regions should now
	  recompute layout after a call to animated() - Cleaned out old
	  cruft, and rearranged class declaration to follow   the order of
	  the inherited interfaces.

2004-05-07 16:51  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/gui/none/none_area.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/gui/none/none_area.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp: Fairly massive changes to
	  the layout code:

	  - abstract_window has been renamed to gui_window.  -
	  surface_source has been renamed to gui_events, and is no longer a
	    subclass of renderer (it's now the other way around).  -
	  mouse_region_changed() is gone. In stead, the need_events(bool
	  want) call   has been added to classes that had
	  mouse_region_changed.  - active_regions have gone.  -
	  surface.renderer_done now needs the renderer (usually "this") as
	  argument - renderer has acquired the set_alignment() interface -
	  get_fit_rect now needs an alignment parameter

2004-05-07 14:07  jackjansen

	* include/ambulant/config/: config.h, select_platform_config.h: Use
	  "" when including ambulant headers, not <>.

2004-05-07 14:04  jackjansen

	* src/player_macosx/: cocoambulant_Prefix.pch,
	  fullcocoambulant.pbproj/project.pbxproj: Enabled precompiled
	  header support again, this time only with system headers. Gives
	  40% speedup of build cycle.

2004-05-07 12:49  jackjansen

	* src/libambulant/: gui/cocoa/cocoa_transition.mm,
	  smil2/transition.cpp: Added r1r2r3r4 blitter and push and wipe
	  transitions.

2004-05-07 12:26  jackjansen

	* include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/transition.cpp: Added boilerplate for all
	  but the shape and matrix transitions (which can share code).
	  Added m_stepcount to try and pace the number of transition
	  computations we do.

2004-05-07 10:45  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/smil_player.cpp: Use KK's new code for
	  transition creation.

2004-05-06 23:42  jackjansen

	* include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/smil2/Makefile.am, src/libambulant/Makefile.am:
	  Added missing files.

2004-05-06 16:45  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/transition_info.h,
	  include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/transition.h, src/libambulant/Makefile.am,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.m,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging experimental_jack_transition branch back into the trunk.
	  The new code from that branch isn't integrated with KK's new
	  interfaces to transitions and support in the scheduler yet, that
	  will happen next.

2004-05-06 14:43  jackjansen

	* include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/lib/transition_info.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/transition.cpp: I think I got the
	  inheritance graph worked out, using only a few virtual
	  baseclasses.

2004-05-06 12:57  jackjansen

	* include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/transition.cpp: Got a second transition
	  type (somewhat) working: barWipe. I'm not 100% happy with the
	  class inheritance graph, though.

2004-05-05 22:54  kleanthis

	* include/ambulant/smil2/time_calc.h,
	  include/ambulant/smil2/time_attrs.h,
	  include/ambulant/smil2/time_node.h,
	  src/libambulant/smil2/time_calc.cpp,
	  src/libambulant/smil2/time_node.cpp: To simplify the time node
	  module delegate timing calculations to deticated calculator
	  class.

2004-05-05 10:38  kleanthis

	* src/libambulant/smil2/animate_n.cpp: Details (bg and fg color
	  animations can be handled uniformely).

2004-05-05 10:35  kleanthis

	* src/libambulant/smil2/smil_player.cpp,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/mms/timelines.h: Sync with new interface.

2004-05-05 10:34  kleanthis

	* src/libambulant/smil2/time_node.cpp: Schedule in transitions.
	  Scheduling out transitions is a more complez timing issue that
	  needs careful cosideration.  Fill = transition is simpler and one
	  way to handle it is by raising the transitioned() event suggested
	  by Sjoerd.

2004-05-05 10:28  kleanthis

	* include/ambulant/smil2/time_attrs.h,
	  src/libambulant/smil2/time_attrs.cpp: Read transIn and transOut
	  attributes.  Based on these attributes the scheduler can take
	  into account transition timing.

2004-05-05 10:23  kleanthis

	* include/ambulant/smil2/time_node.h: Changes to time_node_context
	  (smil_player) interface.  When the playable should start the
	  transition in element may be specified as an extra argument.
	  Also add a new function start_transition() enabling the scheduler
	  to start new transitions.

2004-05-05 10:18  kleanthis

	* include/ambulant/common/playable.h: Change the names
	  paused/resumed in the playable_notification interface to
	  stalled/unstalled as suggested by Jack.  Add a new notification
	  function (transitioned) to be used when the transition ends.
	  Thanks to Sjoerd for suggesting this mechanism.  The
	  transitioned() event source can be the playable or the transition
	  engine.

2004-05-04 17:41  jackjansen

	* include/ambulant/smil2/transition.h,
	  src/libambulant/smil2/transition.cpp: Starting on transition
	  classes. Unfinished and doesn't compile.

2004-05-04 17:11  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/transition.cpp: - Do at least something for
	  fill=transition - Use the right drawing operation for bitblitting
	  - Generalized the image dumping debug code

2004-05-04 17:03  koelimoe

	* src/: libambulant/gui/qt/qt_renderer.cpp,
	  libambulant/gui/qt/qt_video_renderer.cpp,
	  libambulant/net/datasource.cpp,
	  libambulant/net/ffmpeg_datasource.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_mainloop.cpp: added timestamps to the
	  video_renderer stuff

2004-05-03 17:10  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_transition.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_transition.m,
	  src/libambulant/gui/cocoa/cocoa_transition.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: More
	  bits and pieces for transitions. For some reason we see only
	  background color while we are in a transition, I probably
	  misunderstand how offscreen drawing works in Cocoa.

2004-05-03 13:17  jackjansen

	* include/ambulant/lib/Makefile.am,
	  include/ambulant/smil2/Makefile.am, src/libambulant/Makefile.am:
	  Updated for new transition files.

2004-05-03 13:17  jackjansen

	* include/ambulant/smil2/Makefile.am, src/libambulant/Makefile.am:
	  Updated for new animation files.

2004-05-03 12:17  keesblom

	* src/player_unix/: qt_gui.cpp, qt_gui.h: Started to work on
	  FileSelector for Qtopia (zaurus). It compiles, runs (double
	  buffering needs fix though) but doesn't show a Document tab.
	  Probably needs proper packaging with configuration files, icons
	  and all that stuff described in "Sharp SL-series Zaurus "Qtopia"
	  Development Start-up Guide"

2004-05-02 20:48  kleanthis

	* include/ambulant/smil2/animate_f.h: Template spacialization for
	  color distance. Needs to be handled as a 3D vector.

2004-05-02 20:23  kleanthis

	* include/ambulant/smil2/smil_animation.h,
	  src/libambulant/smil2/smil_animation.cpp: Definitely this file is
	  not needed.

2004-05-02 20:19  kleanthis

	* include/ambulant/lib/parselets.h,
	  src/libambulant/lib/parselets.cpp: Some more handy parselets:
	  region_dim and point

2004-05-02 20:18  kleanthis

	* include/ambulant/lib/gtypes.h: Dist function is a template
	  specialization in animate_f.

2004-05-02 20:16  kleanthis

	* include/ambulant/smil2/smil_time.h: Add scaling operations.

2004-05-02 20:13  kleanthis

	* src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Read time manipulation
	  attributes.  Even if we ignore them for everything else, we do
	  need them at least for the animation module.

2004-05-02 20:13  kleanthis

	* include/ambulant/smil2/time_attrs.h: Read time manipulation
	  attributes.  Even if we ignore them for eveything else, we do
	  need them at least for the animation module.

2004-05-02 20:09  kleanthis

	* include/ambulant/common/region_info.h,
	  include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp: The suggested
	  animation_destination interface.  The suggestion is to a) keep
	  the old region_info innterface as it was (some part will need a
	  new implementation) b) define what is needed by the animation
	  module in the animation_destination interface.  The rational of
	  this suggestion is to keep the "user interface" e.g. the
	  region_info part as simple and stable as possible.  The
	  animation_destination can be more elaborate and open to
	  extensions without breaking user code.

2004-05-02 20:01  kleanthis

	* include/ambulant/smil2/animate_a.h,
	  include/ambulant/smil2/animate_f.h,
	  include/ambulant/smil2/animate_n.h,
	  src/libambulant/smil2/animate_n.cpp,
	  src/libambulant/smil2/animate_e.cpp,
	  src/libambulant/smil2/animate_a.cpp: An almost complete animation
	  module implementation.

2004-04-30 11:28  kleanthis

	* src/libambulant/smil2/: animate_a.cpp, animate_e.cpp,
	  animate_n.cpp: Notes and details.  To implement additivity, the
	  layout interface should make available the dom value independent
	  from the animated one.  Reset if available should be per
	  attribute not per node. Reset is probably not needed if the dom
	  value is made available.

2004-04-30 10:44  kleanthis

	* src/libambulant/libambulant_win32.vcproj: The latest VC7 project
	  that includes the animation related stuff.

2004-04-30 10:38  kleanthis

	* include/ambulant/smil2/animate_a.h,
	  src/libambulant/smil2/animate_a.cpp,
	  src/libambulant/smil2/animate_n.cpp: Implement backgroundColor so
	  that we can start viewing something animated on the screen.
	  Completing the smil animations module is now straight forward: a)
	  More special cases should be implemented b) Additivity needs to
	  be taken into account and as part of this resetting  the original
	  dom value.  c) The layout should be extented to something more
	  than the backgroundColor.

2004-04-30 09:45  kleanthis

	* include/ambulant/: common/playable.h, smil2/smil_player.h,
	  mms/timelines.h: Add a new pair of playable notification
	  functions: paused/resumed These notification functions allow a
	  playable to notify the scheduler that the playable is paused for
	  fetching data or that can continue playing.

2004-04-30 09:33  kleanthis

	* include/ambulant/common/region_dim.h: Promote region_dim type to
	  a scalar by adding multiplication and division with an integer
	  (will be extented to doubles).  Also add a repr function so that
	  and this type adheres to the established debug protocol.

2004-04-30 09:28  kleanthis

	* include/ambulant/smil2/time_node.h,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp: Animations and timer net
	  related changes.

2004-04-30 09:25  kleanthis

	* include/ambulant/common/schema.h,
	  src/libambulant/common/schema.cpp: Add basic schema support for
	  smil animations elements

2004-04-30 09:24  kleanthis

	* include/ambulant/lib/document.h: Add get node with id function to
	  the node context interface. This way we simplify some portions of
	  code that have access to a dom node and need this context info.

2004-04-30 09:18  kleanthis

	* include/ambulant/smil2/smil_player.h,
	  src/libambulant/smil2/smil_player.cpp: The smil player top-level
	  entity is responsible to create and destroy document's animation
	  engine.

2004-04-30 09:14  kleanthis

	* include/ambulant/smil2/timegraph.h,
	  src/libambulant/smil2/timegraph.cpp: The time graph builder is
	  resposnsible to build a) animate time nodes b) timers net

2004-04-30 09:09  kleanthis

	* include/ambulant/smil2/animate_e.h,
	  include/ambulant/smil2/animate_n.h,
	  include/ambulant/smil2/animate_a.h,
	  include/ambulant/smil2/animate_f.h,
	  src/libambulant/smil2/animate_a.cpp,
	  src/libambulant/smil2/animate_e.cpp,
	  src/libambulant/smil2/animate_n.cpp: SMIL animation module and
	  extensibility framework.

2004-04-30 00:45  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  include/ambulant/lib/transition_info.h,
	  include/ambulant/smil2/transition.h,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/transition_info.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/transition.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on infrastructure for transitions. Still mostly
	  boilerplate.

2004-04-29 14:27  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: Added debugging code that
	  dumps the view contents to a TIFF file every redraw (if the bits
	  have actually changed).

	  This has shown the draw code needs changing for transitions:
	  Cocoa sets up a clipping mask so only required bits are actually
	  drawn. This also applies to the backbuffer:-(

	  The code has also shown there's a race condition somewhere: when
	  we're writing tiff files it seems we can miss need_redraw()
	  calls.

2004-04-29 00:10  jackjansen

	* include/ambulant/common/player.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/mainloop.h: After a serious battle managed to
	  get the Cocoa idea of controlling the mouse cursor and the
	  Ambulant idea of controlling the mouse cursor reconciled.

2004-04-28 17:26  keesblom

	* src/: libambulant/common/renderer.cpp,
	  libambulant/gui/qt/qt_factory.cpp,
	  libambulant/gui/qt/qt_fill.cpp,
	  libambulant/gui/qt/qt_image_renderer.cpp,
	  libambulant/gui/qt/qt_renderer.cpp,
	  libambulant/gui/qt/qt_text_renderer.cpp,
	  libambulant/gui/qt/qt_video_renderer.cpp,
	  libambulant/net/ffmpeg_datasource.cpp, player_unix/qt_gui.cpp: Qt
	  double buffering using QPixmap, update() and
	  qApp->processEvents().

2004-04-28 17:21  keesblom

	* include/ambulant/gui/qt/: qt_includes.h, qt_renderer.h: Work on
	  qt double buffering. Disbled some AM_DBG, enabled AM_DBG for qt.

2004-04-28 15:59  koelimoe

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/smil2/smil_player.cpp: the qt_video_renderer
	  works now (tested with the raw_video_datasource).

2004-04-28 15:34  kleanthis

	* include/ambulant/lib/gtypes.h: Define distance function for
	  points. This is required by paced animations and interpolation.

2004-04-28 15:25  kleanthis

	* include/ambulant/smil2/animate_f.h: Add some animation function
	  templates that should cover 90% of the cases. The rest will be
	  added as needed..

2004-04-28 12:11  keesblom

	* Extras/DemoPresentation/NYC-SMIL2.smil: Restored correct version

2004-04-28 10:45  koelimoe

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: A non seg. faulting
	  qt_video_renderer, well ok it didn't crash the last 2 times i
	  tried it ;-)

2004-04-28 10:32  koelimoe

	* src/libambulant/smil2/smil_player.cpp: Added some debug info

2004-04-27 15:55  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_animation.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/Makefile.am, src/libambulant/common/region.cpp,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/lib/colors.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_animation.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging branch experimental_jack_animation_infrastructure: - the
	  various interfaces needed for animation are in place - there is a
	  skeleton animate playable in smil_animation.cpp - region.cpp does
	  something (but not enough, yet, only a redraw)   when it gets an
	  animated() callback.

2004-04-27 15:15  koelimoe

	* src/player_unix/: qt_gui.cpp, qt_gui.h, qt_mainloop.cpp,
	  qt_mainloop.h: Moved all #define AM_DBG stuff to the cpp files

2004-04-27 15:00  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_animation.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/smil2/smil_animation.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp: The placeholder animate
	  playable now does something: it inverts the background color when
	  started. The region implementation has enough support to show
	  this.  Animating sizes and z-order remains to be done.

2004-04-27 14:13  koelimoe

	* src/player_unix/: qt_gui.cpp, qt_gui.h, qt_mainloop.cpp,
	  qt_mainloop.h: Moved the AM_DBG stuff around

2004-04-27 13:50  jackjansen

	* include/ambulant/smil2/smil_animation.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/smil_animation.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  boilerplate animate playable, and create it when needed.

2004-04-27 11:47  jackjansen

	* Extras/DemoPresentation/NYC-SMIL2.smil,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_mainloop.cpp: Got qt_video stuff to compile
	  after hours of &^@%#$%^&$#$ battling the C++ compiler:-(

2004-04-27 00:08  jackjansen

	* include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Things compile and run
	  again.

2004-04-26 17:21  keesblom

	* src/player_unix/qt_gui.cpp: Quit while never played caused core
	  dump

2004-04-26 17:14  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/lib/colors.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Unifinished framework for animation. Checking it in so I can
	  continue work at home.

2004-04-26 13:18  jackjansen

	* configure.in: Always do the configuration checks for ObjC++, not
	  only with cocoa support is enabled. This should fix the automake
	  1.7 problem.

2004-04-23 16:55  jackjansen

	* Documentation/Design/models/: layout.graffle, layout.pdf,
	  transition-sketch.graffle, transition-sketch.pdf: First draft of
	  new transition design.

2004-04-23 00:08  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp: First stab at
	  ffmpeg_video_datasource completed. It is reading frames, it
	  seems.

2004-04-22 23:43  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp: Renamed the ffmpeg_thread to
	  ffmpeg_demux, put the supported() method in there in stead of in
	  the audio part, created a datasink baseclass and put the
	  framework in for the ffmpeg_video_datasource.

2004-04-22 22:55  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: Next step towards
	  ffmpeg video: make the ffmpeg_parser_thread a more self-contained
	  entity, in stead of relying on the audio datasource to start and
	  stop it.

2004-04-22 22:29  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: Renamed
	  ffmpeg_parser_datasource to ffmpeg_audio_datasource.

2004-04-22 19:35  kleanthis

	* include/ambulant/lib/xerces_parser.h: Interface to  Apache xerces
	  validating parser.  Tested and works but not integraded with
	  Ambulant yet.  Using xerces for document validation and multi
	  language support should be an optional operation.

2004-04-21 17:40  koelimoe

	* Documentation/README-Distribution: Sorry Jack, I again forgot to
	  commit this file.

2004-04-21 11:18  kleanthis

	* src/AmbulantWin32Installer/AmbulantWin32Installer.vdproj: Include
	  the correct merge module for msvcr71.dll

2004-04-21 11:14  kleanthis

	* bin/win32/AmbulantWin32Installer.msi: Include the correct merge
	  module for msvcr71.dll

2004-04-21 10:30  kleanthis

	* src/AmbulantWin32Installer/AmbulantWin32Installer.vdproj: The
	  latest version of the installer project that embeds all of Jack's
	  suggestions.

2004-04-21 10:24  kleanthis

	* bin/win32/AmbulantWin32Installer.msi: The latest version of the
	  installer that embeds all of Jack's suggestions.

2004-04-20 19:21  kleanthis

	* src/AmbulantWin32Installer/: AmbulantWin32Installer.sln,
	  AmbulantWin32Installer.vdproj: Ambulant win32 installer project
	  and workspace.

2004-04-20 19:19  kleanthis

	* bin/win32/AmbulantWin32Installer.msi: Ambulant player installer
	  for Source Forge distribution site.  Jack or Daniel could you
	  please upload this for me?

2004-04-20 14:41  kleanthis

	* third_party_packages/: copy_tpp_win32.bat, copy_tpp_wince.bat:
	  Convert line separators. These are supposed to be readable under
	  windows! Add version string.

2004-04-20 14:30  kleanthis

	* third_party_packages/win32_diff/: expat/update.bat,
	  jpeg/update.bat, lpng/update.bat: Add version string

2004-04-20 14:29  kleanthis

	* third_party_packages/win32_diff/zlib-ce/wince/: libpng.vcp,
	  libpng.vcw, lpngce.dsp, lpngce.dsw, png32ce.def, pngtest.dsp,
	  pngtest.dsw, zlibce.def, zlibce.dsp: Projects used by the script
	  for updating PNG lib for wince

2004-04-20 14:28  kleanthis

	* third_party_packages/win32_diff/zlib-ce/update.bat: Script for
	  updating PNG lib for wince

2004-04-20 14:26  kleanthis

	* third_party_packages/win32_diff/mp3lib-ce/update.bat: For
	  completeness document the mp3lib used following the same format.
	  Though this lib is not directly available.

2004-04-20 14:03  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Copy in stead of
	  accumulate if there is a single audio stream. Unfortunately this
	  doesn't make a difference for the hiss problem.

2004-04-20 14:02  jackjansen

	* src/player_unix/qt_gui.cpp:
	  Qt::NoBackground fix reverted: it causes a see-through window on
	  startup.

2004-04-20 13:57  jackjansen

	* README: Added a note on the mailing lists and the sf bug
	  repository.

2004-04-20 13:21  jackjansen

	* third_party_packages/: copy_tpp_win32.bat, copy_tpp_wince.bat:
	  The copy scripts created the lib directories but not the bin
	  directories.	Spotted by Marco Floor, thanks!

2004-04-20 12:38  kleanthis

	* third_party_packages/win32_diff/lpng/: libpng.sln, libpng.vcproj,
	  update.bat, zlib.def, zlib.vcproj: Lib PNG and ZLIB distribution
	  update.  Download the distributions, decopress and then run the
	  update script to update the distribution.

2004-04-20 12:37  jackjansen

	* src/player_unix/Makefile.am: iRenamed executable to
	  AmbulantPlayer

2004-04-20 12:18  keesblom

	* README-ZAURUS: Renamed qt_player to AmbulantPlayer

2004-04-20 12:12  keesblom

	* README-ZAURUS: Removed instructions for sharable ffmpeg libs

2004-04-20 11:52  kleanthis

	* third_party_packages/win32_diff/expat/: update.bat, expat.sln,
	  expat.vcproj, libexpat.def, libexpat.vcp, libexpat.vcw: Update
	  for expat distribution from
	  http://sourceforge.net/projects/expat/ Download the distr,
	  decompress and then run update to copy the required projects.

2004-04-20 11:13  jackjansen

	* Extras/Welcome/Welcome-http.smil: Removed test document.

2004-04-20 10:43  kleanthis

	* third_party_packages/win32_diff/jpeg/wince/: jconfig.h,
	  libjpeg-dll.def, libjpeg-dll.vcp, libjpeg-dll.vcw, libjpeg.vcp,
	  libjpeg.vcw: Start an attempt to automate the creation of the
	  third party packages in the form required by win32/wince from the
	  official distributions.  Mainly copying the required projects but
	  also other changes when required.

2004-04-20 10:40  kleanthis

	* third_party_packages/win32_diff/jpeg/: jinclude.h, update.bat,
	  win32/jconfig.h, win32/libjpeg.dsp, win32/libjpeg.dsw,
	  win32/libjpeg.sln, win32/libjpeg.vcproj: Start an attempt to
	  automate the creation of the third party packages in the form
	  required by win32/wince from the official distributions.  Mainly
	  copying the required projects but also other changes when
	  required.

2004-04-19 23:20  jackjansen

	* README, third_party_packages/readme.txt: Minor clarifications,
	  spotted by Richard Collins. Thanks!

2004-04-19 17:34  keesblom

	* src/libambulant/gui/qt/qt_renderer.cpp: QWidget::update() cannot
	  be used, still flicker alas!

2004-04-19 17:32  jackjansen

	* README: Details

2004-04-19 17:16  keesblom

	* src/libambulant/gui/qt/qt_text_renderer.cpp: breal lines

2004-04-19 17:16  keesblom

	* src/player_unix/qt_gui.cpp: tried to remove flicker

2004-04-19 17:03  jackjansen

	* README: dded Windows CE instructions.

2004-04-19 16:21  jackjansen

	* src/: libambulant/gui/qt/qt_renderer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_mainloop.cpp: Killed a couple of birds with one
	  stone (actually a couple of stones:-): - got rid of extra thread
	  in qt_mainloop - redid widget/window creation code: create things
	  on open in stead   of on play.  - redid window/widget deletion
	  code: window owns widget and that's the   only way destructors
	  call each other - reformatted lines with debug prints

	  All this made at least two bugs disappear: the bug that you
	  couldn't open a second file, and the bug that the player crashed
	  if you exited during playback.

2004-04-19 14:04  keesblom

	* src/libambulant/: gui/SDL/sdl_audio.cpp,
	  net/ffmpeg_datasource.cpp: Initialized stack data structures to
	  zero in sdl_audio.cpp Inhibited audio_resample when insamples <=
	  0 in ffmpeg_datasource.cpp

2004-04-19 13:39  kleanthis

	* third_party_packages/third_party_packages.sln: Leave "Release" as
	  the only available option since its what is currently supported.

2004-04-19 13:34  keesblom

	* README-ZAURUS, include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/gui/qt/qt_includes.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h: Added
	  ffmpeg installation tips to README-ZAURUS Cleaned up some files
	  (mostly turing off AM_DBG)

2004-04-19 12:21  kleanthis

	* src/player_wince/AmbulantPlayer.vcp: Specify "Additional library
	  path" relative to the project.

2004-04-19 11:56  sjoerd

	* bin/wince/AmbulantPPCinstaller.exe: Use icon number 0 instead of
	  1.

2004-04-19 11:54  sjoerd

	* bin/wince/AmbulantPPCinstaller.exe: Added quotes to command
	  argument in registry.

2004-04-19 11:29  kleanthis

	* src/libambulant/libambulant_wince.vcp: Remove custom buld step.
	  It is not used.

2004-04-19 11:24  kleanthis

	* third_party_packages/copy_tpp_wince.bat: Before copying the libs
	  create the directories first if they don't exist as suggested by
	  Sjoerd.

2004-04-19 11:21  kleanthis

	* third_party_packages/copy_tpp_win32.bat: Before copying the libs
	  create the directories first if they don't exist as suggested by
	  Sjoerd.

2004-04-19 09:50  sjoerd

	* bin/wince/AmbulantPPCinstaller.exe: New version that attempts to
	  associate the AmbulantPlayer icon to .smil files.

2004-04-16 17:06  sjoerd

	* bin/wince/AmbulantPPCinstaller.exe: New version with the same
	  bits, but now with registry entries.

2004-04-16 16:57  jackjansen

	* include/ambulant/lib/textptr.h: Include config.h before using
	  values from it.

2004-04-16 16:04  dcab

	* bin/wince/AmbulantPPCinstaller.exe: Add PocketPC installer (with
	  2 std demos) to bin tree.

2004-04-16 10:17  kleanthis

	* src/libambulant/gui/dg/dg_audio_player.cpp: Fix playability
	  condition.

2004-04-16 10:16  kleanthis

	* bin/win32/readme.txt: Remove out of date readme.txt until its
	  replaced with something that reflects the current state.

2004-04-16 09:42  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary.	Fix a nasty
	  fault in audio playback for which i have the complete
	  responsibility.  Thank's to Dick for helping me discover this
	  nasty bug.  Enjoy more audio on PPC!

2004-04-15 22:57  jackjansen

	* README, src/player_macosx/Makefile.am,
	  third_party_packages/readme.txt: - More textual fixes after
	  feedback from Donovan - Adapted for the brand new SDL 1.2.7

2004-04-15 22:12  kleanthis

	* src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_audio_player.cpp,
	  src/libambulant/gui/dg/dg_audio_renderer.cpp,
	  src/libambulant/gui/dg/dg_mp3_decoder.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  include/ambulant/gui/dg/dg_audio_renderer.h: Details

2004-04-15 22:10  kleanthis

	* src/libambulant/gui/dx/dx_video.cpp: Detail

2004-04-15 22:09  kleanthis

	* src/libambulant/libambulant_wince.vcp: Details

2004-04-15 22:08  kleanthis

	* src/player_mfc/MmView.cpp: Remove welcome on player startup.

2004-04-15 22:06  kleanthis

	* src/player_wince/: AmbulantPlayer.rc, AmbulantPlayer.vcp,
	  SelectDlg.cpp: Fix File->Select dialog plus some other details.

2004-04-15 21:52  kleanthis

	* bin/wince/AmbulantPlayer.exe: Fix file select dialog.  This
	  should be the final version for this release unless something
	  else popup.

2004-04-15 21:42  jackjansen

	* third_party_packages/readme.txt: Need to specify -p0 to the patch
	  command. Spotted by Donovan Preston.

2004-04-15 21:21  kleanthis

	* bin/wince/AmbulantPlayer.exe: Fix a detail in startup timing.

2004-04-15 21:08  kleanthis

	* src/libambulant/lib/win32/win32_timer.cpp,
	  include/ambulant/lib/win32/win32_timer.h: Use a different timer
	  when under PPC.

2004-04-15 21:04  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary that uses a
	  PPC compatible timer.  The timer we use for the desktop was
	  completely wrong for the PPC.  Now timing seems more reasonable.
	  For example check the dif to the welcome document playback.

2004-04-15 20:47  kleanthis

	* bin/win32/AmbulantPlayer.exe: Do not play the welcome doc on
	  player startup.  Its too annoying... (to say the least)

2004-04-15 18:56  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Add a missing cpp of DG
	  gui.

2004-04-15 18:54  kleanthis

	* src/player_wince/res/AmbulantPlayer.ico: Use the same icon we use
	  for the desktop.

2004-04-15 18:53  kleanthis

	* src/player_wince/AmbulantPlayer.rc: Copyright string.

2004-04-15 18:51  kleanthis

	* src/: libambulant/libambulant_wince.vcp,
	  player_wince/AmbulantPlayer.vcp: Add STL include directory to the
	  project. Was in the environment.

2004-04-15 18:37  kleanthis

	* third_party_packages/copy_tpp_wince.bat: A cmd file for copying
	  all the static libs for the PPC under the lib directory.

2004-04-15 18:35  kleanthis

	* third_party_packages/third_party_packages.vcw: The emVC3
	  workspace for building all the required static libs for the PPC.

2004-04-15 18:33  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with the
	  correct copyright. Includes also a minor improvement for seq
	  elements. But still the event processor or something similar is
	  failing.  Rebuild everything to test the process.

2004-04-15 16:44  jackjansen

	* include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/textptr.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_unix/qt_gui.cpp: Moving Kees' fixes for the Zaurus
	  back to the trunk.

2004-04-15 15:56  keesblom

	* include/ambulant/gui/qt/qt_factory.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/textptr.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_unix/qt_gui.cpp: Working (well... compiling:-) version
	  for Zaurus. Checking in on a branch.

2004-04-15 15:17  jackjansen

	* Makefile.am, README, third_party_packages/Makefile.am,
	  third_party_packages/readme.txt: This should now be correct for
	  Win32, Linux and Mac.

2004-04-15 14:17  jackjansen

	* src/: libambulant/Makefile.am, player_macosx/Makefile.am,
	  player_unix/Makefile.am: Use full pathnames to get at the static
	  ffmpeg libraries. This is needed on RedHat, because some of the
	  ffmpeg libraries are installed on the system by default, and
	  because of some options sdl passes to the linker these will be
	  preferred over our ffmpeg libraries (and they are not compatible,
	  it seems).

2004-04-15 13:42  jackjansen

	* src/: libambulant/gui/cocoa/cocoa_gui.mm,
	  player_macosx/MyDocument.h, player_macosx/MyDocument.mm,
	  player_macosx/mainloop.cpp: There were various bugs in the order
	  of cleanup of all our objects in the event of a window close.
	  Fixed.

	  The QT player may need similar fixes too.

2004-04-15 13:40  jackjansen

	* src/libambulant/Makefile.am: iWrong filename fixed.

2004-04-15 13:40  jackjansen

	* src/libambulant/gui/qt/qt_factory.cpp: iAdded missing include.

2004-04-15 12:06  kleanthis

	* src/player_mfc/MmView.cpp: Resize details..

2004-04-15 11:34  kleanthis

	* bin/win32/AmbulantPlayer.exe: One more decorative change: Avoid
	  annoying double resize on document open. Now is as it should.

2004-04-15 11:24  kleanthis

	* bin/win32/AmbulantPlayer.exe: Opps ... Fix startup sequence.

2004-04-15 11:18  kleanthis

	* src/player_mfc/: AmbulantPlayer.rc, MmView.cpp, MmView.h,
	  resource.h, res/AmbulantPlayer.ico, res/AmbulantPlayerDoc.ico:
	  Decorative changes: a) Welcome document related b) Copyright
	  notice c) 16x16 icon The player expects to find the welcome doc
	  in one of three locations: a) As in the CVS config b) Within the
	  exe directory (e.g. the welcome.smil and under the exe dir the
	  data folder) c) Under the exe directory as if you have copied
	  Extras under the module dir If the welcome doc can't be found
	  then the menu entry will be disabled If its found will be played
	  on startup and the menu will be enabled.

2004-04-15 11:12  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary with
	  various decorative changes: a) Welcome document related b)
	  Copyright notice c) 16x16 icon

2004-04-15 10:03  dcab

	* Extras/DemoPresentation/: SingleAudio.xml, Broadband.xml,
	  Modem.xml, MultiAudio.xml, NYC-ReadMe.txt, NYC-SMIL2.smil: slight
	  change to make NY demo select on single/multi-channel audio.
	  (Makes more rational presentation on PPC/Linux/Zaurus devices.)

2004-04-15 09:15  dcab

	* Extras/DemoPresentation/NYCdata/: TitleA.gif, TitleA-s.gif:
	  removed date from title slides

2004-04-14 22:45  kleanthis

	* src/player_wince/: AmbulantPlayer.cpp, AmbulantPlayer.rc,
	  resource.h: Add version

2004-04-14 22:44  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Add version.h

2004-04-14 22:44  kleanthis

	* src/libambulant/libambulant_wince.vcp: The latest eVC3 project

2004-04-14 22:41  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with the
	  corect version and icon.  Includes gif transparency and setting
	  loading.

2004-04-14 22:05  kleanthis

	* bin/win32/: filter.xml, settings.xml: Rename filter.xml to
	  settings.xml

2004-04-14 22:04  kleanthis

	* bin/win32/: AmbulantPlayer.exe, libexpat.dll, libpng13.dll,
	  zlib.dll: The latest win32 binary with the corect version and
	  icon.  Was build from the current cvs sources using the 3-clicks
	  building process.

2004-04-14 21:52  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Do not build UNICODE.
	  Was for testing.

2004-04-14 21:50  kleanthis

	* third_party_packages/third_party_packages.sln: Set the active
	  config to DLL|Win32

2004-04-14 21:49  kleanthis

	* third_party_packages/copy_tpp_win32.bat: Fix typo.

2004-04-14 20:40  kleanthis

	* third_party_packages/copy_tpp_win32.bat: The second click of the
	  3 required to build the win32 AmbulantPlayer from the sources
	  Click-1: Build solution using "third_party_packages.sln" Click-2:
	  Run this script "copy_tpp_win32.bat" Click-3: Build solution
	  using "Ambulant-win32.sln" Finally, test the binary in bin/win32.

2004-04-14 19:45  kleanthis

	* third_party_packages/third_party_packages.sln: Third party
	  packages VC7 workspace.

2004-04-14 19:40  kleanthis

	* src/Ambulant-win32.sln: Include AmbulantPlayer to workspace in
	  stead of DemoPlayer.

2004-04-14 19:37  kleanthis

	* src/player_wince/: AmbulantPlayer.cpp, AmbulantPlayer.rc,
	  AmbulantPlayer.vcp, AmbulantPlayerView.cpp, AmbulantPlayerView.h,
	  MainFrm.cpp, MainFrm.h, resource.h, SelectDlg.cpp, SelectDlg.h,
	  res/AmbulantPlayer.ico: Update PPC project

2004-04-14 19:36  kleanthis

	* src/player_mfc/res/: AmbulantPlayer.rc2, DemoPlayer.rc2: Rename
	  to AmbulantPlayer

2004-04-14 19:33  kleanthis

	* src/player_mfc/: DemoPlayer.cpp, DemoPlayer.h, DemoPlayer.rc,
	  DemoPlayer.vcproj, DemoPlayer.aps, AmbulantPlayer.cpp,
	  AmbulantPlayer.h, AmbulantPlayer.rc, AmbulantPlayer.vcproj,
	  MainFrm.cpp, MmDoc.cpp, MmView.cpp, MmView.h, ReadMe.txt,
	  resource.h, res/DemoPlayer.ico, res/DemoPlayerDoc.ico,
	  res/AmbulantPlayer.ico, res/AmbulantPlayerDoc.ico: Rename to
	  AmbulantPlayer

2004-04-14 19:30  kleanthis

	* src/libambulant/libambulant_wince.vcp: Wince eVC3 project.

2004-04-14 19:21  kleanthis

	* include/ambulant/lib/win32/: win32_asb.h,
	  win32_event_processor.h: Details

2004-04-14 19:20  kleanthis

	* include/ambulant/lib/document.h: Detail.

2004-04-14 19:19  kleanthis

	* include/ambulant/gui/dg/: dg_audio.h, dg_audio_player.h,
	  dg_brush.h, dg_image_renderer.h, dg_player.h, dg_surface.h,
	  dg_text.h, dg_viewport.h, dg_window.h, img_decoder.h: DG gui
	  update.

2004-04-14 19:16  kleanthis

	* src/libambulant/smil2/test_attrs.cpp,
	  include/ambulant/smil2/test_attrs.h: Add a free function for eVC3

2004-04-14 19:14  kleanthis

	* src/libambulant/lib/win32/: win32_asb.cpp,
	  win32_event_processor.cpp, win32_fstream.cpp, win32_memfile.cpp:
	  Details...

2004-04-14 19:10  kleanthis

	* include/ambulant/lib/node.h, src/libambulant/lib/node.cpp: Add a
	  debugging function.

2004-04-14 19:09  kleanthis

	* src/libambulant/lib/timer.cpp, include/ambulant/lib/timer.h: Keep
	  some code for the next release.  Allow for adjusting the timer.

2004-04-14 19:07  kleanthis

	* src/libambulant/gui/dx/: dx_audio.cpp, dx_img.cpp, dx_video.cpp,
	  dx_viewport.cpp: DX gui update

2004-04-14 19:07  kleanthis

	* src/libambulant/gui/dg/: dg_area.cpp, dg_audio.cpp,
	  dg_audio_player.cpp, dg_audio_renderer.cpp, dg_brush.cpp,
	  dg_image_renderer.cpp, dg_img.cpp, dg_mp3_decoder.cpp,
	  dg_player.cpp, dg_text.cpp, dg_viewport.cpp, dg_window.cpp: DG
	  gui update

2004-04-14 17:36  jackjansen

	* src/player_macosx/: cocoambulant.icns, English.lproj/Credits.rtf:
	  New icons, and updated the credits.

2004-04-14 17:36  jackjansen

	* src/libambulant/gui/cocoa/cocoa_text.mm: Enable word wrap.

2004-04-14 17:30  jackjansen

	* configure.in: Disable arts support by default.

2004-04-14 17:23  jackjansen

	* src/libambulant/libambulant_win32.vcproj: Changed pathnames for
	  third_party_packages as supplied by Kleanthis

2004-04-14 16:51  dcab

	* README: Updated readme file.

	  Note: KK please look at the tools list to specify which versions
	  of VS needs to be used to build from source.

2004-04-14 16:31  keesblom

	* src/player_unix/qt_mainloop.cpp: mp3 support got lost,
	  re-enabled.

2004-04-14 16:00  jackjansen

	* src/player_mfc/res/DemoPlayer.ico: Icon for the X release

2004-04-14 15:22  jackjansen

	* Extras/DemoPresentation/NYC-ReadMe.txt: Missed this one.

2004-04-14 15:21  jackjansen

	* Extras/DemoPresentation/: Broadband.xml, Demo.smil,
	  Demo_wav.smil, Modem.xml, NYC-LG-M.smil, NYC-LG.smil,
	  NYC-MMS.smil, NYC-ReadMe.txt, NYC-SM.smil, NYC-SMIL2.smil,
	  NYCdata/Back2P.gif, NYCdata/CapA0.txt, NYCdata/CapA1.txt,
	  NYCdata/CapF0.txt, NYCdata/CapF1-s.txt, NYCdata/CapF1.txt,
	  NYCdata/CapF2-s.txt, NYCdata/CapF2.txt, NYCdata/CapF3-s.txt,
	  NYCdata/CapF3.txt, NYCdata/CapF4-s.txt, NYCdata/CapF4.txt,
	  NYCdata/CapJ1-s.txt, NYCdata/CapJ1.txt, NYCdata/CapJ2-s.txt,
	  NYCdata/CapJ2.txt, NYCdata/CapN1-s.txt, NYCdata/CapN1.txt,
	  NYCdata/CapN2-s.txt, NYCdata/CapN2.txt, NYCdata/CapT1-s.txt,
	  NYCdata/CapT1.txt, NYCdata/CapT2-s.txt, NYCdata/CapT2.txt,
	  NYCdata/CapT3-s.txt, NYCdata/CapT3.txt, NYCdata/CapT4-s.txt,
	  NYCdata/CapT4.txt, NYCdata/End-l.mp3, NYCdata/End.mp3,
	  NYCdata/Ferry1-s.gif, NYCdata/Ferry1.gif, NYCdata/Ferry2-s.gif,
	  NYCdata/Ferry2.gif, NYCdata/Ferry3-s.gif, NYCdata/Ferry3.gif,
	  NYCdata/Ferry4-s.gif, NYCdata/Ferry4.gif, NYCdata/JH-0-l.mp3,
	  NYCdata/JH-0.mp3, NYCdata/JH-1-l.mp3, NYCdata/JH-1.mp3,
	  NYCdata/JH-2-l.mp3, NYCdata/JH-2.mp3, NYCdata/JH1-s.gif,
	  NYCdata/JH1.gif, NYCdata/JH2-s.gif, NYCdata/JH2.gif,
	  NYCdata/NY-0-l.mp3, NYCdata/NY-0.mp3, NYCdata/NY-2-l.mp3,
	  NYCdata/NY-2.mp3, NYCdata/NY1-s.gif, NYCdata/NY1.gif,
	  NYCdata/NY2-s.gif, NYCdata/NY2.gif, NYCdata/NYStateOfMind.mp3,
	  NYCdata/SIF-1-l.mp3, NYCdata/SIF-1.mp3, NYCdata/SIF-2-l.mp3,
	  NYCdata/SIF-2.mp3, NYCdata/SIF-3-l.mp3, NYCdata/SIF-3.mp3,
	  NYCdata/SIF-4-l.mp3, NYCdata/SIF-4.mp3, NYCdata/SIF-Intro-l.mp3,
	  NYCdata/SIF-Intro.mp3, NYCdata/TitleA-s.gif, NYCdata/TitleA.gif,
	  NYCdata/TitleA1-s.gif, NYCdata/TitleA1.gif, NYCdata/TitleB-s.gif,
	  NYCdata/TitleB.gif, NYCdata/TitleC-s.gif, NYCdata/TitleC.gif,
	  NYCdata/TitleD-s.gif, NYCdata/TitleD.gif, NYCdata/TitleE-s.gif,
	  NYCdata/TitleE.gif, NYCdata/TitleF-s.gif, NYCdata/TitleF.gif,
	  NYCdata/Train-0-l.mp3, NYCdata/Train-0.mp3,
	  NYCdata/Train-1-l.mp3, NYCdata/Train-1.mp3,
	  NYCdata/Train-2-l.mp3, NYCdata/Train-2.mp3,
	  NYCdata/Train-3-l.mp3, NYCdata/Train-3.mp3,
	  NYCdata/Train-4-l.mp3, NYCdata/Train-4.mp3, NYCdata/Train1-s.gif,
	  NYCdata/Train1.gif, NYCdata/Train2-s.gif, NYCdata/Train2.gif,
	  NYCdata/Train3-s.gif, NYCdata/Train3.gif, NYCdata/Train4-s.gif,
	  NYCdata/Train4.gif, NYCdata/Welcome-l.mp3, NYCdata/Welcome.mp3:
	  Replaced demo document by new version (from ambualnt-documents)

2004-04-14 14:56  jackjansen

	* src/player_unix/qt_mainloop.cpp: Use the $BROWSER variable to
	  open a webpage. This is a standard that practically no-one on
	  Unix adheres to, but it seems there are no other standards. Sigh.

2004-04-14 14:35  kleanthis

	* bin/win32/AmbulantPlayer.exe: The release candidate 1 of the
	  win32 binary.  The changes of this RC 1 are mostly decorative: a)
	  Change "filter"  to "settings" in various places.  b) Set the
	  initial position of the settings browser to the current document
	  directory.  c) Restore a detail i forgot out from the previous
	  release concerning the video painting area.

2004-04-14 14:26  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: First stab at getting
	  mouse to work for QT player.

2004-04-14 14:00  jackjansen

	* src/: libambulant/gui/none/none_area.cpp,
	  libambulant/net/ffmpeg_datasource.cpp,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: Got audio
	  samplerate and number of channels working.  Removed some dead
	  wood.

2004-04-14 11:58  jackjansen

	* README, configure.in, include/ambulant/version.h,
	  src/player_macosx/Info.plist, src/player_macosx/Makefile.am,
	  src/player_macosx/version.plist,
	  src/player_macosx/English.lproj/Credits.rtf,
	  src/player_macosx/English.lproj/InfoPlist.strings: - Started on
	  updating readme, version numbers, etc.  - Fixed the way mac
	  bundle was built.

2004-04-14 00:02  jackjansen

	* include/ambulant/: gui/qt/qt_factory.h, net/ffmpeg_datasource.h:
	  Tweaks.

2004-04-13 23:47  jackjansen

	* Makefile.am, include/ambulant/gui/none/Makefile.am,
	  src/Makefile.am: More tweaks.

2004-04-13 23:23  jackjansen

	* Makefile.am, configure.in, include/ambulant/Makefile.am,
	  include/ambulant/compat/Makefile.am,
	  include/ambulant/gui/Makefile.am,
	  include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/dg/Makefile.am,
	  include/ambulant/gui/dx/Makefile.am,
	  include/ambulant/gui/qsound/Makefile.am,
	  include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/win32/Makefile.am,
	  include/ambulant/net/Makefile.am, src/Makefile.am,
	  src/libambulant/Makefile.am, src/player_macosx/Makefile.am: Next
	  couple of steps in the process of getting the distribution
	  created.

2004-04-13 22:54  jackjansen

	* include/ambulant/lib/string_util.h: Squashed compiler warning.

2004-04-13 22:54  jackjansen

	* src/player_macosx/: MyAppDelegate.h, MyAppDelegate.mm,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib: Added "Load Settings"
	  command.

2004-04-13 22:33  jackjansen

	* include/ambulant/gui/arts/: decoder.h, decoder_skeleton.h:
	  Temporary files, no longer used.

2004-04-13 20:42  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: For simplicity, create
	  region nodes and for the area elements.  This way we have at most
	  one active region per passive and the list that keeps the active
	  regions can be removed (later).

2004-04-13 18:32  kleanthis

	* bin/wince/AmbulantPlayer.exe: The PPC binary that integrates the
	  latest changes.  Tested successfully with Dick's HappyCE.smil and
	  EURO-ez.smil

2004-04-13 17:50  jackjansen

	* Makefile.am, configure.in, include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/lib/document.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp: Picked up Kleanthis' fixes
	  to region handling on all platofrms.	For now leave the old code
	  in there, within ifdef OLD_REGIONs

2004-04-13 17:41  jackjansen

	* src/: player_unix/Makefile.am, libambulant/Makefile.am,
	  player_macosx/Makefile.am: Makefiles used the wrong define to
	  enable ffmpeg parser. Fixed.

2004-04-13 16:29  kleanthis

	* include/ambulant/smil2/time_node.h: EXCL related change.

2004-04-13 16:27  kleanthis

	* src/libambulant/common/region.cpp: eVC3 related adjustments.

2004-04-13 16:26  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: When under win32 create
	  all subregions but those that make sense.

2004-04-13 16:24  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Show href to tooltip
	  string when available.

2004-04-13 16:22  kleanthis

	* src/libambulant/smil2/test_attrs.cpp: For eVC4 the != operator is
	  not defined for iterators.

2004-04-13 16:20  kleanthis

	* src/libambulant/smil2/: time_node.cpp, time_state.cpp: EXCL
	  related changes. Implement also EXCL pausing.

2004-04-13 16:18  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary that fixes
	  the layout problems seen with Danes2-IP.smil .  Also various
	  fixes for the EXCL. Now also "pause" is implemented.

2004-04-13 14:08  jackjansen

	* Makefile.am, configure.in, include/ambulant/lib/Makefile.am,
	  src/libambulant/gui/none/none_area.cpp,
	  third_party_packages/Makefile.am: Started on stuff to create
	  distributions. Unfinished.

2004-04-13 13:30  jackjansen

	* src/libambulant/gui/none/none_area.cpp: Fixed silly typo that
	  made all area's trigger.

2004-04-13 13:10  jackjansen

	* include/ambulant/lib/document.h,
	  src/libambulant/lib/document.cpp: Renamed id to idd because of
	  ObjC++ nameclash.

2004-04-13 13:09  jackjansen

	* src/player_macosx/mainloop.cpp: Reset speed (pause) on play and
	  stop.

2004-04-13 11:38  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary that i hope
	  it fixes the blocking of video playback.  The excl, except from
	  the simple cases, remains broken. Defer and stop should work but
	  not pause yet.

2004-04-12 18:01  kleanthis

	* src/libambulant/mms/timeline_builder.cpp: Provide a null
	  implementation for the new region info interface function

2004-04-12 17:59  kleanthis

	* include/ambulant/common/region_dim.h: Details ...

2004-04-12 17:57  kleanthis

	* src/libambulant/common/region.cpp,
	  include/ambulant/common/region.h: When under win32 use a
	  different redraw function as well as a different data struct for
	  holding active subregions.  Should be checked by Jack and if
	  appropriate for other platforms he can remove the win32 specific
	  sections.

2004-04-12 17:55  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: When under win32 create
	  all node subregions and keep this characteristic to the region
	  node.  Should be checked by Jack and if appropriate for other
	  platforms he can remove the win32 specific sections.

2004-04-12 17:51  kleanthis

	* include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp: Region node holds also the
	  info	of whether the region is a node defined subregion or not.

2004-04-12 17:50  kleanthis

	* include/ambulant/common/region_info.h: Region info holds also the
	  info	of whether the region is a node defined subregion or not.

2004-04-12 17:17  kleanthis

	* src/libambulant/gui/dx/dx_area.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp,
	  src/libambulant/gui/dx/dx_window.cpp,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_window.h: Fix brush plus other
	  details.

2004-04-12 17:13  kleanthis

	* src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  include/ambulant/smil2/timegraph.h,
	  include/ambulant/smil2/time_node.h: Excl related refinements plus
	  some debugging statements.

2004-04-12 17:09  kleanthis

	* src/libambulant/net/url.cpp: Remove repr() member function. This
	  now in the global namespace and without using iostreams.

2004-04-12 17:06  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary with the
	  following fixes: 1) Paint the background when done (NYC-MMS
	  document).  2) Fix brush element (EUROshow document) 3) Fix crash
	  when the default value for regAlign is missing (EUROshow
	  document) 4) Make custom tests case insensitive (News document)
	  5) Some excl refinements. Pausing and resuming containers is
	  still open. Will be attacked concurrently with linking.  6)
	  Restore sub-region positioning.  7) Recreate the player on
	  stop/start since the layout design requires this.

2004-04-12 09:57  kleanthis

	* src/libambulant/smil2/test_attrs.cpp: Ignore case for custom
	  attributes. Also, make the custom attrs handling code layout
	  cleaner.

2004-04-12 09:54  kleanthis

	* include/ambulant/: lib/asb.h, lib/document.h, lib/string_util.h,
	  net/url.h, smil2/test_attrs.h: Details...

2004-04-12 09:53  kleanthis

	* src/libambulant/lib/document.cpp: Ignore case (upper/lower) for
	  custom attributes.  I think that this is wrong but nevertheless
	  relax this constraint at least temporary.  The news documents use
	  custom tests ignoring case.

2004-04-09 19:02  kleanthis

	* bin/win32/AmbulantPlayer.exe: The final win32 binary for today.
	  This version does not create body regions at all. Creating body
	  regions has side effects beacuse of the current design.

2004-04-09 17:45  koelimoe

	* include/ambulant/gui/qt/qt_factory.h,
	  src/player_unix/qt_mainloop.cpp: removed a few silly errors.
	  still some linker errors remain, i commented out the offending
	  line in qt_mainloop.cpp after shopping and the dishes i will
	  continue with this :-)

2004-04-09 17:34  kleanthis

	* bin/win32/AmbulantPlayer.exe: The latest win32 binary. The
	  "release" one.

2004-04-09 17:32  kleanthis

	* bin/win32/DemoPlayer.exe: Renamed to AmbulantPlayer

2004-04-09 17:15  kleanthis

	* include/ambulant/smil2/time_state.h: Add a debugging state report
	  function.

2004-04-09 17:14  kleanthis

	* src/libambulant/smil2/: time_node.cpp, time_state.cpp: Do not
	  allow even by mistake a time state to be re-entered.	This has
	  side effects since time states were not designed to handle it.
	  Such a re-entrance seems meaningless.

2004-04-09 17:04  kleanthis

	* include/ambulant/: lib/document.h, smil2/smil_player.h,
	  smil2/test_attrs.h, smil2/timegraph.h: Simplify custom tests
	  handling. In stead of passing an extra argument containing the
	  set of the doc custom tests let the document hold them.  Also,
	  allow some info of the document stucture to be visible to the UI
	  (tooltips etc).

2004-04-09 17:03  kleanthis

	* src/libambulant/: smil2/smil_player.cpp, smil2/test_attrs.cpp,
	  smil2/time_attrs.cpp, smil2/timegraph.cpp, lib/document.cpp:
	  Simplify costom tests handling. In stead of passing an extra
	  arguments containing the set of the doc custom tests let the
	  document hold them.  Also, allow some info of the document
	  stucture to be visible to the UI (tooltips etc).

2004-04-09 16:55  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary Fixes a trivial
	  but difficult to find bug in timing. It had the side effect of
	  removing the "titles" from the news demo.  Partially fixes a bug
	  in the layout code (passive_region::redraw) to get concurrent
	  media assigned to the same region get played.  (this needs more
	  work) Plus some other goodies: show tooltips when over a hot
	  region, allow loading a filter at any time etc.

2004-04-09 08:51  kleanthis

	* src/libambulant/smil2/timegraph.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/test_attrs.h,
	  include/ambulant/smil2/timegraph.h: Make the filter loading and
	  applying process more rational.  At any moment, whether we have a
	  doc open or not, there is a set of settings.	These settings are
	  either the default or the default as overriden by the last loaded
	  filter.  These setting will remain active until a new filter is
	  loaded.

2004-04-09 00:02  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Adapted for new location of ffmpeg.

2004-04-09 00:02  jackjansen

	* include/ambulant/gui/none/none_area.h,
	  src/libambulant/gui/none/none_area.cpp: I think area's are
	  working, but it's difficult to tell without simple test
	  documents.

2004-04-08 23:19  jackjansen

	* src/player_macosx/Makefile.am: Strip the resulting binary in the
	  MacOSX executable.  This three-character change reduces the size
	  of the application from 13MB to 1.5MB, how's that for efficient
	  coding:-)

2004-04-08 23:09  jackjansen

	* configure.in: Changed the way we try to find ffmpeg: -
	  --with-ffmpeg no first tries to find a source distribution in
	  third_party_packages, if that isn't there it'll try the RH9
	  layout.  - --with-ffmpeg=path should now specify the path to the
	  source distro,   no longer to the libavcodec directory.  - If you
	  don't specify --with-ffmpeg we still look in
	  third_party_packages,   specify --without-ffmpeg if you really
	  don't want it.

2004-04-08 23:07  jackjansen

	* README-CVS: Partially updated

2004-04-08 23:06  jackjansen

	* src/player_unix/qt_mainloop.cpp: Temporarily disabled
	  qt_video_renderer because of compile errors.

2004-04-08 22:03  jackjansen

	* third_party_packages/: ffmpeg-macosx-patch, readme.txt: Added the
	  patch needed to build ffmpeg on Mac OS X and adapted the notes in
	  the readme on what to install, and how.

2004-04-08 17:45  koelimoe

	* include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_factory.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/qt/qt_factory.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp,
	  src/player_unix/qt_mainloop.cpp: dded the qt_video stuff

2004-04-08 17:33  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with fiixed
	  the broken EXCL.  Includes also some other fixes: brush, cut-off
	  audio, file open

2004-04-08 17:21  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Fix the broken EXCL.

2004-04-08 17:20  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary with fixed the
	  broken EXCL.

2004-04-08 17:09  jackjansen

	* src/player_unix/: qt_mainloop.cpp, qt_mainloop.h: The Linux
	  player now also potentially handles opening webpages, but the
	  implementation currently consists of a print statement.

2004-04-08 16:55  jackjansen

	* include/ambulant/gui/qt/Makefile.am: Removed extraneous spaces
	  after a backslash.

2004-04-08 16:46  koelimoe

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_video_renderer.h,
	  src/libambulant/Makefile.am, src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/qt/qt_video_renderer.cpp: qt_video_renderer.
	  only renders a directory with pics right now !

2004-04-08 16:45  jackjansen

	* include/ambulant/common/player.h,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h:
	  Provide the lib::system object when creating a player, and
	  implemented system::show_file() for the Mac.

2004-04-08 16:44  jackjansen

	* src/: player_macosx/Makefile.am, libambulant/Makefile.am,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: Adapted
	  for using SDL library statically on the Mac.

2004-04-08 11:45  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with various
	  improvements: a) The audio was wrongly assigned to the scheduling
	  thread. We now use a global worker thread for that.  b) The
	  "File" menu has an item called "Select..." allowing the selection
	  of smil documents from a set of pedefined PPC directories.
	  Currently from "\\Windows\\Ambulant". We definitely deeper dir
	  structures than the 1-level provided by PPC open.  The  menu item
	  "Open..." remains compliant to MS decisions.	c) Connected PPCs
	  can now take benefit of links to external documents that fire for
	  a smil document

2004-04-08 10:36  kleanthis

	* src/libambulant/gui/dx/: dx_player.cpp, dx_audio_player.cpp,
	  dx_image_renderer.cpp: DX update.

2004-04-08 10:36  kleanthis

	* src/libambulant/gui/dg/: dg_viewport.cpp, dg_brush.cpp,
	  dg_player.cpp, dg_text.cpp: DG update.

2004-04-08 10:34  kleanthis

	* include/ambulant/gui/: dx/dx_player.h, dg/dg_player.h: Enforced
	  interface change: surface_source . One of those that promote
	  casting! The DX and DG gui  need currently more than this
	  argument.  They need the region in order to associate that with
	  the top level window just created.

2004-04-08 10:14  kleanthis

	* src/libambulant/smil2/smil_player.cpp: create_playable returns
	  now the playable for optional direct manipulation. To be used
	  *only* in a sync sequence of calls  to avoid multiple map
	  searches.  The player remains the owner so the return value
	  should not be stored (unless ofcource you call add_ref() against
	  it).

2004-04-08 10:11  kleanthis

	* src/libambulant/common/renderer.cpp: Define round() for "other"
	  platforms

2004-04-08 09:59  kleanthis

	* include/ambulant/gui/dg/: dg_area.h, dg_player.h, dg_viewport.h:
	  Details, DG update.

2004-04-08 09:58  kleanthis

	* include/ambulant/gui/dx/: dx_area.h, dx_rgn.h: Details, DX
	  update.

2004-04-08 09:56  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_node.h: Various: a) Startup playables
	  synchronously b) Allow for direct communication with the
	  playables to avoid multip map serachs c) When audio or video
	  media dur is uknown and we have received an end of media duration
	  then do calcs based on this info

2004-04-08 09:52  kleanthis

	* src/libambulant/smil2/timegraph.cpp: Areas always want clicks
	  implicitly.

2004-04-08 09:51  kleanthis

	* src/libambulant/smil2/region_node.cpp: Do not create node-regions
	  for area elements. We don't need them and will make the final
	  solution more complex.

2004-04-08 09:48  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: Associate explicitly the
	  area with its implicit region., e.g that of its parent

2004-04-08 09:43  kleanthis

	* src/libambulant/gui/: dx/dx_area.cpp, dg/dg_area.cpp: The area
	  playable that takes into account partial node anachors.  It is
	  associated with its parent media region and creates a
	  common::gui_region to handle its hot subregion.  This is required
	  because (a) at the gui level we may have circular or polygon
	  regions (b) the coords may be adjusted to the media

2004-04-07 23:58  jackjansen

	* include/ambulant/gui/none/none_gui.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Details

2004-04-07 23:51  jackjansen

	* include/ambulant/gui/none/none_area.h,
	  src/libambulant/gui/none/none_area.cpp,
	  src/libambulant/gui/none/none_gui.cpp: Added a gui-independent
	  area renderer. This is almost identical to KK's dx_area_renderer,
	  but it calls need_events() on the surface, so the surface knows
	  we're interested in events.

2004-04-07 23:48  jackjansen

	* src/libambulant/common/: region.cpp, renderer.cpp: Fixed some of
	  the debug output.

2004-04-07 23:47  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Implementation also
	  didn't consider the fact that mouse coordinates are in
	  window-space, not widget-space. fixed.

2004-04-07 23:46  jackjansen

	* src/libambulant/smil2/smil_player.cpp: Print an error message
	  (including the URL) if we don't know how to open a browser. At
	  least this gives some feedback to the user.

2004-04-07 22:39  jackjansen

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Fixed stupid typo:
	  y-coordinates are flipped, not x-coordinates.

2004-04-07 18:20  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary. Should be
	  the more responsive one till now since activation is done
	  synchronously. This changes the playback perseption.	Includes:
	  Handling of areas of any shape and coords type. Percentages are
	  handled.  Does not include: Area positioning relative to the
	  media The exact shape is ignored and its bounding box is used in
	  stead.

2004-04-07 17:41  kleanthis

	* include/ambulant/common/region_dim.h: Add some handy facilities
	  to region_dim_spec and some very useful operations to region_dim
	  type.

2004-04-07 17:36  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary.  Includes:
	  Handling of areas of any shape and coords type. Percentages are
	  handled.  Activation is now done synchronously.  Does not
	  include: Area positioning relative to the media The exact shape
	  is ignored and its bounding box is used in stead.

2004-04-07 15:31  keesblom

	* src/: libambulant/gui/qt/qt_renderer.cpp, player_unix/qt_gui.cpp,
	  player_unix/qt_mainloop.cpp: qt_player now quits correctly
	  whether its own "Quit" button is used, or the "Close" / "X"
	  button of the surrounding X11 frame

2004-04-07 12:01  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary that includes a
	  first implemenation of partial node areas.  It currently works
	  for rect coordinates.

2004-04-07 09:42  kleanthis

	* bin/wince/AmbulantPlayer.exe: Fix a timing error.

2004-04-07 09:31  kleanthis

	* bin/wince/AmbulantPlayer.exe: Remove a section included by
	  mistake. Also, increase the number of audio back buffers.

2004-04-07 09:14  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest binary including an alt
	  approach to audio rendering since a fundamental win32 function
	  seems to fail.

2004-04-07 09:11  kleanthis

	* src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_audio_player.cpp,
	  src/libambulant/gui/dg/dg_audio_renderer.cpp,
	  include/ambulant/gui/dg/dg_audio_player.h,
	  include/ambulant/gui/dg/dg_audio_renderer.h: Implement an alt
	  approach to audio rendering since a fundamental win32 function
	  seems to fail.

2004-04-06 16:56  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with some
	  audio related fixes.

2004-04-06 16:51  koelimoe

	* include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp: More work on the
	  none_video_datasource

2004-04-06 16:49  koelimoe

	* include/ambulant/gui/qt/qt_renderer.h: changed renderer* region
	  into surface_source *region

2004-04-06 13:29  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary with fixed AREA
	  related site effect.	Also, raise an end event synchronously.

2004-04-06 13:26  kleanthis

	* bin/wince/AmbulantPlayer.exe: The latest PPC binary with fixed
	  AREA related site effect.  Also, raise an end event
	  synchronously.

2004-04-06 13:15  kleanthis

	* src/libambulant/smil2/: time_node.cpp, time_state.cpp: Opps..
	  passed a wrong timestamp to AREA.. Fixed.  But nevertheless
	  convert to what we need instead of throwing an exception.
	  Timestamps are time instances valid for all the active tree and
	  can be converted up and down.

2004-04-06 12:32  jackjansen

	* Extras/Welcome/: Welcome-gif.smil, Welcome-wav.smil,
	  Welcome2-gif.smil, data/AmbulantTune.aif, data/AmbulantTune.wav,
	  data/ambulant.gif, data/background.gif, data/extensible.gif,
	  data/fast.gif, data/opensource.gif, data/portable.gif,
	  data/visit.gif: Getting rid of temporary version of this
	  document.

2004-04-06 11:37  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Adapted for
	  surface_source change.

2004-04-06 11:28  jackjansen

	* src/libambulant/smil2/time_node.cpp: Moved declaration outside
	  for(), gcc 3.2.2 didn't like it. Funnily gcc 3.3 didn't mind...

2004-04-06 11:21  jackjansen

	* include/ambulant/lib/textptr.h: Conversion from wide char to
	  multibyte string incorrectly used wctomb.  Changed to wcstombs.

2004-04-06 10:51  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  a new pure virtual class "surface_source" (I know the name is
	  ugly, any better ideas?), which is renderer plus the
	  get_mouse_region call. This is the interface a surface presents
	  to its parent, and ultimately to the gui window.

2004-04-06 10:17  kleanthis

	* bin/win32/DemoPlayer.exe: The AmbulantPlayer binary for WIN32 as
	  it was builded from the current sources.  The change from the
	  previous version is that whole AREA elements should work.  (for
	  example the link of the wellcome document works with this
	  version).

2004-04-06 10:12  kleanthis

	* bin/wince/AmbulantPlayer.exe: The AmbulantPlayer binary for WCE 3
	  as it was builded from the current sources.

2004-04-06 10:10  kleanthis

	* src/Ambulant-wince.vcw: The final current eVC3 workspace

2004-04-06 10:09  kleanthis

	* src/libambulant/libambulant_wince.vcp: The final current eVC3
	  project

2004-04-06 10:07  kleanthis

	* src/player_wince/AmbulantPlayer.vcp: Include directories fixes

2004-04-06 10:02  jackjansen

	* include/ambulant/lib/parselets.h: For some reason I don't
	  understand gcc complained about this definition of self_type.
	  Commented it out, as it isn't used anyway.

2004-04-06 09:40  kleanthis

	* src/libambulant/: libambulant_win32.vcproj,
	  libambulant_wince.vcp: Update VC6 and eVC3 projects.

2004-04-06 09:38  kleanthis

	* include/ambulant/common/region.h: Return null from the dummy
	  implementations to keep the  compiler happy.

2004-04-06 09:37  kleanthis

	* include/ambulant/common/renderer.h: Return null from the dummy
	  implementation to keep the  compiler happy.

2004-04-06 09:34  kleanthis

	* include/ambulant/net/: databuffer.h, stdio_datasource.h: When the
	  symbol AMBULANT_NO_IOSTREAMS_HEADERS is defined do not include
	  anything related to io streams.

2004-04-05 19:44  kleanthis

	* src/player_wince/res/: player_wince.ico, player_wince.rc2:
	  Ambulant player for Pocket PC

2004-04-05 19:40  kleanthis

	* src/player_wince/res/: Cmdbar.bmp, AmbulantPlayer.ico,
	  AmbulantPlayer.rc2: Ambulant player for Pocket PC

2004-04-05 19:28  kleanthis

	* src/player_wince/: AmbulantPlayerDoc.h, AmbulantPlayerView.cpp,
	  AmbulantPlayerView.h, MainFrm.cpp, MainFrm.h, newres.h,
	  ReadMe.txt, StdAfx.cpp, StdAfx.h, resource.h, AmbulantPlayer.cpp,
	  AmbulantPlayer.h, AmbulantPlayer.rc, AmbulantPlayer.vcp,
	  AmbulantPlayerDoc.cpp, player_winceDoc.cpp, player_winceDoc.h,
	  player_winceView.cpp, player_winceView.h, player_wince.cpp,
	  player_wince.h, player_wince.rc, player_wince.vcp: Ambulant
	  player for PocketPC.

2004-04-05 19:20  kleanthis

	* lib/wince-arm/: libexpat.lib, libpng.lib, mp3lib.lib, zlibce.lib,
	  expat.lib: WinCE 3 ARM static libs (temporary)

2004-04-05 19:15  kleanthis

	* include/ambulant/config/platform/win32.h: Add some WCE and
	  UNICODE-MB related sections

2004-04-05 19:11  kleanthis

	* include/ce3/stl/: container_concepts.h, cstdlib, cstring,
	  defalloc.h, deque, deque.h, function.h, functional, hash_map,
	  hash_map.h, hash_set, hash_set.h, hashtable.h, heap.h, iterator,
	  iterator.h, algo.h, algobase.h, algorithm, alloc.h, bitset,
	  bvector.h, cassert, char_traits.h, cmath, concept_checks.h: STL
	  port for CE 3

2004-04-05 19:08  kleanthis

	* include/ce3/stl/: stl_vector.h, string, tempbuf.h, tree.h,
	  type_traits.h, utility, valarray, vector, vector.h, wce_defs.h,
	  stl_queue.h, stl_range_errors.h, stl_raw_storage_iter.h,
	  stl_relops.h, stl_rope.h, stl_set.h, stl_slist.h, stl_stack.h,
	  stl_string_fwd.h, stl_tempbuf.h, stl_threads.h, stl_tree.h,
	  stl_uninitialized.h, stl_deque.h, stl_exception.h,
	  stl_function.h, stl_hash_fun.h, stl_hash_map.h, stl_hash_set.h,
	  stl_hashtable.h, stl_heap.h, stl_iterator.h, stl_iterator_base.h,
	  stl_list.h, stl_map.h, stl_multimap.h, stl_multiset.h,
	  stl_numeric.h, stl_pair.h, sequence_concepts.h, set, set.h,
	  slist, slist.h, stack, stack.h, stdexcept, stl_algo.h,
	  stl_algobase.h, stl_alloc.h, stl_bvector.h, stl_config.h,
	  stl_construct.h, stl_ctraits_fns.h, limits, list, list.h, map,
	  map.h, memory, multimap.h, multiset.h, numeric, pair.h,
	  pthread_alloc, pthread_alloc.h, queue, readme.txt, rope, rope.h,
	  ropeimpl.h: STL port for CE 3

2004-04-05 19:04  kleanthis

	* include/ambulant/lib/win32/: win32_asb.h,
	  win32_event_processor.h: Details

2004-04-05 18:58  kleanthis

	* include/ambulant/gui/dx/: bmp_decoder.h, dx_area.h, dx_player.h,
	  dx_viewport.h, gif_decoder.h, jpg_decoder.h, png_decoder.h:
	  Details

2004-04-05 18:55  kleanthis

	* src/player_mfc/: DemoPlayer.cpp, MmView.cpp, MmView.h,
	  res/Toolbar.bmp: Details

2004-04-05 18:52  kleanthis

	* src/libambulant/gui/dx/dx_area.cpp: Create a src file for area
	  element to simplify debugging.  For example when the AM_DBG
	  symbol is defined the area is hifhlighted.

2004-04-05 18:51  kleanthis

	* src/libambulant/: gui/dx/dx_image_renderer.cpp,
	  gui/dx/dx_img.cpp, gui/dx/dx_player.cpp,
	  gui/dx/dx_text_renderer.cpp, gui/dx/dx_video.cpp,
	  gui/dx/dx_viewport.cpp, gui/dx/dx_window.cpp,
	  lib/win32/win32_asb.cpp, lib/win32/win32_error.cpp,
	  lib/win32/win32_event_processor.cpp, lib/win32/win32_timer.cpp:
	  Details

2004-04-05 18:48  kleanthis

	* include/ambulant/gui/dg/dg_audio.h,
	  include/ambulant/gui/dg/dg_audio_player.h,
	  include/ambulant/gui/dg/dg_audio_renderer.h,
	  include/ambulant/gui/dg/dg_mp3_decoder.h,
	  src/libambulant/gui/dg/dg_audio.cpp,
	  src/libambulant/gui/dg/dg_audio_player.cpp,
	  src/libambulant/gui/dg/dg_audio_renderer.cpp,
	  src/libambulant/gui/dg/dg_mp3_decoder.cpp: Audio support for the
	  DG gui.

2004-04-05 18:46  kleanthis

	* include/ambulant/gui/dg/bmp_decoder.h,
	  include/ambulant/gui/dg/dg_dib_surface.h,
	  include/ambulant/gui/dg/dg_player.h,
	  include/ambulant/gui/dg/dg_rgn.h,
	  include/ambulant/gui/dg/dg_surface.h,
	  include/ambulant/gui/dg/dg_text.h,
	  include/ambulant/gui/dg/dg_viewport.h,
	  include/ambulant/gui/dg/gif_decoder.h,
	  include/ambulant/gui/dg/img_decoder.h,
	  include/ambulant/gui/dg/jpg_decoder.h,
	  include/ambulant/gui/dg/png_decoder.h,
	  src/libambulant/gui/dg/dg_image_renderer.cpp,
	  src/libambulant/gui/dg/dg_img.cpp,
	  src/libambulant/gui/dg/dg_player.cpp,
	  src/libambulant/gui/dg/dg_text.cpp,
	  src/libambulant/gui/dg/dg_viewport.cpp,
	  src/libambulant/gui/dg/dg_window.cpp: The latest version of the
	  DX gui.

2004-04-05 18:28  dcab

	* Extras/Welcome/: Welcome.smil, data/ambulant.png,
	  data/background.png, data/extensible.png, data/fast.png,
	  data/opensource.png, data/portable.png, data/visit.png,
	  src/image.psd: Updates to match Welcome doc size to size of PDA
	  screen.  (Some new fonts used, since I didn't have the originals
	  on my machine.)

	  Note: Only the Welcome.smil document and the PNG/MP3 data assets
	  need to be saved; the rest can be deleted.

2004-04-05 18:09  kleanthis

	* src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/timegraph.h: Some refinements for AREA
	  element.  Compatibility changes plus other minors.

2004-04-05 18:06  kleanthis

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: Wince
	  filesystem support

2004-04-05 18:04  kleanthis

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp: Replace multimap with a map of
	  lists.  INFO: Actually the problem is not with the multimap
	  itself but with std::pair() For compilers not supporting member
	  templates the std:;pair has not a copy constructor and this makes
	  the multimap useless.

2004-04-05 17:43  kleanthis

	* include/ambulant/common/region_dim.h: No exceptions under WCE 3.
	  Use abort, or better assert(false).

2004-04-05 17:41  kleanthis

	* include/ambulant/common/layout.h: Remove get_mouse_region from
	  renderer. It a hack, not used and illegal C++.

2004-04-05 17:38  kleanthis

	* src/libambulant/lib/colors.cpp: Compatibility related changes.

2004-04-05 17:37  kleanthis

	* src/libambulant/lib/document.cpp: Wince related sections.

2004-04-05 17:35  kleanthis

	* src/libambulant/lib/expat_parser.cpp: Unicode and compatibility
	  changes.

2004-04-05 17:33  kleanthis

	* src/libambulant/lib/tree_builder.cpp: Some specific sections when
	  under win32.

2004-04-05 17:29  kleanthis

	* include/ambulant/lib/win32/win32_error.h: Complement with "show"
	  versions the existing "report".

2004-04-05 17:26  kleanthis

	* include/ambulant/lib/win32/win32_fstream.h,
	  include/ambulant/lib/win32/win32_memfile.h,
	  src/libambulant/lib/win32/win32_fstream.cpp,
	  src/libambulant/lib/win32/win32_memfile.cpp: Win32 specific
	  streams.

2004-04-05 17:25  kleanthis

	* include/ambulant/lib/event_processor.h: Minors for wce 3.

2004-04-05 17:23  kleanthis

	* include/ambulant/lib/document.h: Exclude ostream and ostream.h
	  when the new symbol AMBULANT_NO_IOSTREAMS_HEADERS is defined.
	  The symbol AMBULANT_NO_IOSTREAMS was intended for this usage but
	  has been used with a differently on various platforms.  We must
	  revisit these macros at some point for normalization.

2004-04-05 17:19  kleanthis

	* include/ambulant/lib/colors.h: Compatibility related changes:
	  typename --> class in template arguments.

2004-04-05 17:18  kleanthis

	* include/ambulant/lib/asb.h: Compatibility related changes.

2004-04-05 17:16  kleanthis

	* include/ambulant/lib/nfa.h: Exclude "cassert" header when under
	  WCE 3.

2004-04-05 17:15  kleanthis

	* include/ambulant/lib/node_navigator.h: WCE 3 specific excludes

2004-04-05 17:14  jackjansen

	* src/player_macosx/Makefile.am: Details

2004-04-05 17:13  kleanthis

	* include/ambulant/lib/tree_builder.h: Add a new function for
	  parsing an in-memory tree without the need for copying buffers.

2004-04-05 17:11  kleanthis

	* include/ambulant/lib/: gtypes.h, string_util.h: Compatibility
	  related changes.

2004-04-05 17:09  kleanthis

	* include/ambulant/lib/system.h: An interface documenting and
	  providing to the rest of the system some platform specific
	  functions.

2004-04-05 17:06  kleanthis

	* include/ambulant/lib/memfile.h: Use a specific win32
	  implementation when under win32.

2004-04-05 17:04  kleanthis

	* include/ambulant/lib/parselets.h: Compatibility related changes.
	  Use "class" in stead of typename in templates arguments.

2004-04-05 16:58  kleanthis

	* include/ambulant/lib/textptr.h: One more handy utility for
	  converting UNICODE to MB and the reverse.

2004-04-05 16:55  kleanthis

	* include/ambulant/lib/byte_buffer.h: A handy buffer used for io
	  similar to the one provided with the java.nio package.

2004-04-05 16:52  kleanthis

	* include/ambulant/lib/logger.h, src/libambulant/lib/logger.cpp: To
	  simplify and extent the design the logger does not support any
	  more streaming output.  The new logger supports std output
	  streams for logging but also platform specific plugins
	  implementing the interfaces of lib/amstream.h

2004-04-05 16:48  kleanthis

	* include/ambulant/lib/amstream.h: A generic input and output
	  stream interface that maybe used by platforms without std
	  iostream support.  Also these interfaces are used by the logger.
	  This enables platforms to implement and use platform specific
	  plugins with the logger.

2004-04-05 16:44  jackjansen

	* include/ambulant/net/raw_audio_datasource.h,
	  src/player_macosx/mainloop.cpp, src/player_unix/qt_mainloop.cpp:
	  Got rid of raw_audio_datasource: it has outlived its usefulness
	  now that we have audio on all platforms.

2004-04-05 16:39  kleanthis

	* src/libambulant/smil2/region_node.cpp: Add shape and coords in
	  the list of attributes that indicate the need for creating a node
	  region.  Also, remove logger::trace_stream ref since its not any
	  more supported.

2004-04-05 16:36  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: Use a map of lists in
	  stead of a multimap for portability reasons.	Also, when a node
	  is AREA and no special region has been created return that of the
	  parent.

2004-04-05 16:34  kleanthis

	* include/ambulant/smil2/smil_layout.h: Use a map of lists in stead
	  of a multimap for portability reasons.

2004-04-05 16:24  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/datasource.cpp: Added a
	  video_datasource_factory, and support for it in the global
	  datasource factory.

	  Also use this in the active_video_renderer, but for the time
	  being we still create a raw_video_datasource manually if the
	  factory returns NULL.

2004-04-05 16:08  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/none/none_video_renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp: - Put virtual
	  baseclass for video_datasource in datasource.h.  - Added size
	  parameter to video_datasource::get_frame and
	  active_video_renderer::show_frame.

2004-04-05 15:29  jackjansen

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Moved code to sourcefile.

2004-04-05 13:22  jackjansen

	* src/libambulant/gui/cocoa/cocoa_image.mm: Copy images with
	  NSCompositeSourceAtop in stead of NSCompositeCopy.  This makes
	  transparency work.

2004-04-05 13:17  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: We
	  worked on the (incorrect) premise that there would be at most one
	  active region per passive_region. Fixed this by keeping a list of
	  active regions.

2004-04-02 17:56  keesblom

	* src/player_unix/: qt_gui.cpp, qt_gui.h, qt_mainloop.cpp,
	  qt_mainloop.h: Changed qt_mainloop to look like the cocoa
	  mainloop Pause/Play now works

2004-04-02 17:24  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  src/libambulant/gui/none/none_video_renderer.cpp: Added a couple
	  of virtual's, removed some dead wood.

2004-04-02 17:00  koelimoe

	* configure.in, include/ambulant/common/renderer.h,
	  include/ambulant/gui/none/none_video_renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/none/none_video_renderer.cpp: Created a
	  active_video_Renderer base class in renderer{.h,.cpp}
	  none_video_renderer is an almost empty class wich uses
	  active_video_renderer as base

2004-04-02 14:56  jackjansen

	* include/ambulant/gui/none/none_video_renderer.h,
	  src/libambulant/gui/none/none_video_renderer.cpp: Implemented
	  pause

2004-04-02 14:44  jackjansen

	* include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/none/none_video_renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  Tweaked some aspects of the non_video_renderer - Put locking in -
	  Added to the Mac project

2004-04-02 13:10  koelimoe

	* include/ambulant/gui/none/none_video_renderer.h,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/gui/none/none_video_renderer.cpp,
	  src/libambulant/net/raw_video_datasource.cpp: Added timing to the
	  none_video_renderer.	some small tweaks to the
	  raw_video_datasource. ( timestamp is now a double)

2004-04-01 17:36  keesblom

	* src/player_unix/qt_gui.cpp: qt_player now also accepts relative
	  pathnames as argument to play initially

2004-04-01 17:08  jackjansen

	* configure.in, include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/Makefile.am, src/player_macosx/Makefile.am,
	  src/player_unix/Makefile.am, src/player_unix/qt_mainloop.cpp,
	  src/player_unix/qt_mainloop.h: Enabled ffmpeg/libavformat support
	  on Linux too. This gives as access to some networked audio, and
	  many more file formats.

	  Also removed some spurious AM_DBG defines.

2004-04-01 16:57  keesblom

	* src/player_unix/: qt_gui.cpp, qt_gui.h, qt_mainloop.h:
	  Commandline argument is used the full pathname of the initial
	  smil file to be played automatically at startup

2004-04-01 14:44  keesblom

	* README: Updated to the S-release version

2004-04-01 14:35  jackjansen

	* include/ambulant/gui/none/none_mouse.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Added a more-or-less
	  dummy mouse-region as none_mouse_region and use that for Qt.

2004-03-31 23:30  jackjansen

	* include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/gui/cocoa/cocoa_video.mm: Added a watchdog
	  callback that tests whether the video is still playing (currently
	  called every 200ms) and call stopped_callback() when it is done.

2004-03-31 13:41  koelimoe

	* include/ambulant/gui/none/: none_factory.h,
	  none_video_renderer.h: the missing .h files for the none_video
	  stuff

2004-03-31 13:40  koelimoe

	* src/libambulant/gui/none/: none_factory.cpp,
	  none_video_renderer.cpp: the missing cpp files for the none_video
	  stuff

2004-03-31 11:13  koelimoe

	* include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/net/raw_video_datasource.cpp: tweaks

2004-03-31 10:46  jackjansen

	* src/player_macosx/systemTestSettings.xml: The defaults for the
	  systemTest settings.

2004-03-31 10:45  kleanthis

	* src/player_mfc/MmView.cpp: When autoplay is enabled we bypass
	  menu enable/disable protection. When a new doc is set stop the
	  previous one.

2004-03-31 10:45  jackjansen

	* src/player_macosx/: Info.plist, MyAppDelegate.mm, mainloop.cpp,
	  mainloop.h, fullcocoambulant.pbproj/project.pbxproj: - Fixed
	  Info.plist files so we can actually play .grins files and such -
	  Added systemTestSettings.xml file to the bundle

2004-03-31 10:36  kleanthis

	* bin/win32/DemoPlayer.exe: latest win32 binary with the autoplay
	  feature.

2004-03-31 10:28  kleanthis

	* src/player_mfc/: DemoPlayer.rc, MmView.cpp, MmView.h, resource.h:
	  When a document is opened start playback, unless the new
	  "autoplay" two state menu entry is unchecked.  Autoplay is
	  enabled on player startup.

2004-03-31 10:05  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary accepting
	  dropped files.

2004-03-31 10:01  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update project with PNG
	  and ZLIB include directories (under third_party_packages).

2004-03-31 09:50  kleanthis

	* src/player_mfc/DemoPlayer.rc: To be more comprehensive, remove
	  load filter button from the toolbar. The command is accecible
	  through the menu.

2004-03-31 09:48  kleanthis

	* src/player_mfc/DemoPlayer.cpp: Accept dropped files and set
	  application's home registry key to Ambulant.

2004-03-31 09:06  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary with fixed PNG
	  byte order.

2004-03-31 09:03  kleanthis

	* include/ambulant/gui/dx/gif_decoder.h: Remove AM_DBG. This symbol
	  symbol should be definned in the including cpp file.

2004-03-31 09:02  kleanthis

	* include/ambulant/gui/dx/png_decoder.h: Reverse the byte order
	  inline after the PNG lib writes its bits to our surface.

2004-03-31 09:01  kleanthis

	* include/ambulant/gui/dx/dx_surface.h: Add a function so that we
	  are able to reverse byte order inline (e.g. avoiding allocating a
	  second buffer for that).

2004-03-30 20:57  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary supporting PNG
	  images.

2004-03-30 20:56  kleanthis

	* bin/win32/: zlib.dll, libpng13.dll: Add png and zlib dlls.

2004-03-30 20:52  kleanthis

	* include/ambulant/gui/dx/png_decoder.h, lib/win32/libpng13.lib,
	  lib/win32/zlib.lib: Provide support for PNG images.

2004-03-30 16:53  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: Started on the
	  demultiplexer. At the moment it can find the audio stream, but
	  the example document I used (the avi file with the BBC demo
	  leader) plays back distorted. This may have to do with the
	  format, though (22050 mono adpcm).

2004-03-30 15:48  kleanthis

	* src/libambulant/gui/dx/: dx_audio.cpp, dx_video.cpp: Temporary:
	  when the src specified seems a url  pass it on to the renderer.

2004-03-30 12:30  jackjansen

	* src/libambulant/net/ffmpeg_datasource.cpp: The ffmpeg WAV file
	  reader doesn't set framerate/channels, or we do something stupid.
	  For now we hardcode 44100/stereo if we find that the values are
	  zero.

2004-03-30 12:25  jackjansen

	* Extras/Welcome/: Welcome-http.smil, Welcome-wav.smil,
	  data/AmbulantTune.wav: Added two more temporary welcome documents
	  for testing: - Welcome-wav.smil reads audio from a wav file in
	  stead of an mp3 file - Welcome-http.smil reads mp3 audio over an
	  HTTP connection in stead   of from the local file.

2004-03-30 11:52  jackjansen

	* src/libambulant/lib/document.cpp: Updated the comment too.

2004-03-30 11:36  jackjansen

	* src/libambulant/lib/document.cpp: Quick fix to allow at least
	  fully qualified URLs to pass through unscathed.

2004-03-29 23:48  jackjansen

	* src/: libambulant/Makefile.am, libambulant/common/region.cpp,
	  libambulant/gui/cocoa/cocoa_gui.mm,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: regions
	  didn't always update the mouse_region correctly: at the time I
	  implemented this want_events was only called for playing
	  playables, but there's nothing that enforces this. The solution
	  is to check whether we need to recompute whenever the current
	  active region changes.

	  Note that this recomputation will also need to be done when we
	  implement regions with the same z-order raising themselves in the
	  stacking order.

2004-03-29 23:45  jackjansen

	* include/ambulant/gui/cocoa/cocoa_mouse.h,
	  src/libambulant/gui/cocoa/cocoa_mouse.m,
	  src/libambulant/gui/cocoa/cocoa_mouse.mm: Moved the
	  implementation to a sourcefile (in stead of inline) for easier
	  debugging.

2004-03-29 23:37  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update project with the
	  new text renderer.

2004-03-29 23:36  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary.

2004-03-29 23:33  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp: Add verification/clipping
	  code so that we never attemp to read or write outside direct draw
	  surfaces.

2004-03-29 23:29  kleanthis

	* include/ambulant/gui/dx/dx_text_renderer.h,
	  include/ambulant/gui/dx/dx_text.h,
	  src/libambulant/gui/dx/dx_text_renderer.cpp,
	  src/libambulant/gui/dx/dx_text.cpp: Add a specific text renderer
	  so that text can participate to transitions, z-order etc.

2004-03-29 22:00  kleanthis

	* src/libambulant/gui/dx/dx_window.cpp,
	  include/ambulant/gui/dx/dx_window.h: Finally the source of the
	  "Image resizing problems" is that the need_redraw() function is
	  called with a rect not clipped to be within the window area.

2004-03-29 19:46  kleanthis

	* bin/win32/DemoPlayer.exe: Binary with blit operation fixed.

2004-03-29 19:43  kleanthis

	* include/ambulant/gui/dx/dx_viewport.h: Remove unnecessary
	  redraw() function.

2004-03-29 19:41  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp: The Blit operation fails
	  when we blit part of the back buffer. Flip the buffer for now.

2004-03-29 16:59  jackjansen

	* src/player_unix/qt_gui.cpp: Allow opening of .grins and .mms
	  files too

2004-03-29 16:58  koelimoe

	* include/ambulant/gui/none/Makefile.am,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  added the none_video_renderer to the makefiles and the
	  qt_mainloop.	something still goes wrong, the none_video_renderer
	  doesn't seem to get a callba ck

2004-03-29 16:31  dcab

	* Extras/Welcome/Welcome2-gif.smil: updated version with pre-scaled
	  regions

2004-03-29 16:08  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/Makefile.am,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/Makefile.am: Got rid of SDL_mixer, which does
	  more bad than good. Replaced it with our own mixer.  Also restart
	  input more often, so the various buffer remain fuller.

2004-03-29 15:45  jackjansen

	* Extras/Welcome/: Welcome-gif.smil, data/ambulant.gif,
	  data/background.gif, data/extensible.gif, data/fast.gif,
	  data/opensource.gif, data/portable.gif, data/visit.gif: Added a
	  variant of the welcome document with GIFs in stead of PNGs, to
	  check whether that plays back on Windows.

2004-03-29 12:39  jackjansen

	* src/libambulant/net/: databuffer.cpp, ffmpeg_datasource.cpp:
	  iFixed some bugs in ffmpeg resampler data size handling. Still
	  not complete.

2004-03-29 12:39  jackjansen

	* src/libambulant/gui/qt/qt_renderer.cpp: Added missing return.

2004-03-29 10:50  koelimoe

	* include/ambulant/net/Makefile.am,
	  include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/raw_audio_datasource.h,
	  include/ambulant/net/raw_video_datasource.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/raw_video_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp: the
	  raw_video_datasource.

2004-03-29 00:09  jackjansen

	* include/ambulant/lib/colors.h: Added missing return.

2004-03-28 23:45  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: Added the extra parameter
	  to user_event.

2004-03-28 17:59  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary.

2004-03-28 17:57  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update VC7 project

2004-03-28 17:56  kleanthis

	* src/player_mfc/: MmView.cpp, MmView.h: Adjust to slightly
	  modified interface.  Select DX or DG gui through a macro for now.
	  This can be done dynamically.

2004-03-28 17:40  kleanthis

	* include/ambulant/mms/timelines.h: Add an empty pointed()
	  callback.

2004-03-28 17:39  kleanthis

	* include/ambulant/lib/colors.h: get_bits_size returns an int
	  instead of a size_t

2004-03-28 17:31  kleanthis

	* src/libambulant/smil2/time_node.cpp: Create the playable first
	  before calling wantclicks.

2004-03-28 17:27  kleanthis

	* src/libambulant/common/region.cpp: Add to user_event function a
	  second argument specifying the type.	Delete mouse regions.
	  Remove also code setting to NULL members. We don't have multiple
	  C++ models!

2004-03-28 17:24  kleanthis

	* include/ambulant/common/renderer.h: Add to user_event function a
	  second argument specifying the type.

2004-03-28 17:22  kleanthis

	* include/ambulant/common/playable.h: Extend playable_notification
	  by one more function: pointed() meaning mouse over.

2004-03-28 17:19  kleanthis

	* include/ambulant/common/region.h: region user_event function
	  accepts a second argument specifying the type of the event (click
	  or mouse over). The code indented for clicks can be reused for
	  mouse over events.

2004-03-28 17:17  kleanthis

	* include/ambulant/common/layout.h: Add an enumeration of user
	  events. A user event can be a click or a mouse over.	Add to
	  renderer::user_event a second argument accepting the type of the
	  user event (as an int to avoid unnecessary imports).

2004-03-28 17:10  kleanthis

	* include/ambulant/smil2/smil_layout.h,
	  src/libambulant/smil2/smil_layout.cpp: The smil_layout exports
	  one more function.

2004-03-28 17:08  kleanthis

	* include/ambulant/smil2/time_node.h: Add create_playable()
	  function to context interface.

2004-03-28 17:07  kleanthis

	* include/ambulant/smil2/smil_player.h: Remove mouse related code.
	  We now use the layout both for mouse clicks and mouse feedback
	  (mouse over or point).  Plus cleanup.

2004-03-28 16:59  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Remove mouse related code.
	  We now use the layout both for mouse clicks and mouse feedback
	  (mouse over or point).  Plus cleanup.

2004-03-28 16:55  kleanthis

	* include/ambulant/gui/dx/dx_rgn.h: Win32 gui region
	  implementation.

2004-03-28 16:54  kleanthis

	* include/ambulant/gui/dx/: dx_area.h, dx_brush.h, dx_img.h,
	  dx_player.h, dx_text.h, dx_video.h, dx_viewport.h, dx_window.h,
	  gif_decoder.h: More or less final form of the DX GUI.

2004-03-28 16:46  kleanthis

	* src/libambulant/gui/dx/: dx_player.cpp, dx_viewport.cpp,
	  dx_window.cpp, dx_text.cpp, dx_video.cpp, dx_brush.cpp,
	  dx_img.cpp: More or less final form of the DX GUI.

2004-03-28 16:43  kleanthis

	* src/libambulant/gui/dg/: dg_viewport.cpp, dg_window.cpp,
	  dg_img.cpp, dg_player.cpp, dg_text.cpp, dg_bgrenderer.cpp,
	  dg_brush.cpp, dg_image_renderer.cpp: A win32 GUI portable to
	  PocketPC.  No audio or video yet but can already play a slideshow
	  with text captions.  The design is the same with the DX GUI
	  though does not uses DirectX.  For some stuff, though common with
	  the DX GUI, we keep copies.  Later we can factor out this common
	  stuff.

2004-03-28 16:39  kleanthis

	* include/ambulant/gui/dg/: jpg_decoder.h, png_decoder.h,
	  dg_wmuser.h, gif_decoder.h, img_decoder.h, dg_text.h,
	  dg_viewport.h, dg_window.h, dg_player.h, dg_rgn.h, dg_surface.h,
	  dg_dib_surface.h, dg_image_renderer.h, dg_img.h, bmp_decoder.h,
	  dg_area.h, dg_bgrenderer.h, dg_brush.h: A win32 GUI portable to
	  PocketPC.  No audio or video yet but can already play a slideshow
	  with text captions.  The design is the same with the DX GUI
	  though does not uses DirectX.  For some stuff, though common with
	  the DX GUI, we keep copies.  Later we can factor out this common
	  stuff.

2004-03-26 17:26  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Fixed silly bug

2004-03-26 17:05  jackjansen

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: More3 bits and pieces
	  for reading audio files.

2004-03-26 15:57  jackjansen

	* src/player_unix/qt_mainloop.cpp: abstract_player -> player

2004-03-26 15:21  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Do some cleanup.

2004-03-26 15:04  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/player_macosx/Info.plist,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: The
	  ffmpeg avformat-based audio file parser is starting to work.

2004-03-26 15:03  jackjansen

	* src/libambulant/net/datasource.cpp,
	  include/ambulant/net/datasource.h: Audio_format can now also be a
	  named format. Named formats and rate/channels/bits formats are
	  never compatible, but named formats have an extra opaque pointer
	  to more information.

2004-03-26 00:03  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on using libavformat to parse audio file formats. Mostly
	  boilerplate right now.

2004-03-25 22:52  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: Renamed
	  ffmpeg_audio_datasource to ffmpeg_decoder_datasource, which is
	  really what it does.

2004-03-25 22:45  jackjansen

	* include/ambulant/smil2/smil_player.h,
	  src/libambulant/mms/mms_player.cpp, src/player_macosx/mainloop.h:
	  Changed a few more abstract_player to player.

2004-03-25 16:18  kleanthis

	* src/player_mfc/MmView.cpp: Adjustments for the slightly modified
	  interface.

2004-03-25 16:15  kleanthis

	* include/ambulant/smil2/smil_player.h,
	  src/libambulant/smil2/smil_player.cpp: Rename abstract_player to
	  simply player.  on_click and on_cursor functions accept also the
	  window as argument.  Use a smil_layout_manager instead of the
	  generic layout_manager to allow experiments with richer
	  interfaces.

2004-03-25 16:10  kleanthis

	* include/ambulant/: common/player.h, mms/mms_player.h: Rename
	  abstract_player to simply player.

2004-03-25 16:05  kleanthis

	* src/libambulant/gui/dx/: dx_audio.cpp, dx_brush.cpp,
	  dx_image_renderer.cpp, dx_img.cpp, dx_player.cpp, dx_text.cpp,
	  dx_video.cpp, dx_gui.cpp, dx_bgrenderer.cpp, dx_window.cpp:
	  Restructure the top-level entities and cleanup. Allow for mutiple
	  top-level windows.

2004-03-25 16:02  kleanthis

	* include/ambulant/gui/dx/: dx_player.h, dx_viewport.h, dx_gui.h,
	  dx_bgrenderer.h, dx_window.h: Restructure the top-level entities
	  and cleanup. Allow for mutiple top-level windows.

2004-03-25 13:57  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Details

2004-03-25 13:34  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Fixed readahead.
	  Fixed a couple of locking issues.  Fixed issues with buffer_full
	  being set inadvertantly.

2004-03-25 11:34  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Added locking to sdl
	  audio renderer.  Try to restart audio playback when we get a
	  callback the the mixer is done with our chunk. Unfortunately we
	  still get breaks in the audio:-(

2004-03-25 10:46  koelimoe

	* include/ambulant/net/raw_video_datasource.h: Added
	  raw_video_datasource for testing purposes

2004-03-25 10:45  koelimoe

	* src/libambulant/net/raw_video_datasource.cpp: Added a
	  raw_video_datasource for testing purposes

2004-03-25 00:02  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/databuffer.h,
	  include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/stdio_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp: Added critical sections
	  to the databuffer, various datasource implementations and the SDL
	  audio renderer.

2004-03-24 14:27  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 binary that is
	  protected against buffer overruns and mt safer.

2004-03-24 14:24  kleanthis

	* include/ambulant/smil2/smil_player.h: Details

2004-03-24 14:23  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Use critical section more
	  sensibly plus some other details.

2004-03-24 14:21  kleanthis

	* src/libambulant/lib/: logger.cpp, win32/win32_asb.cpp: The
	  logging statements can be of any length since part of them may
	  come from the document.  So, to avoid buffer overruns calculate
	  first the length of the formated string and then create the
	  buffer.  Currently implemented only under win32.

2004-03-24 12:56  kleanthis

	* bin/win32/DemoPlayer.exe: The current win32 binary.

2004-03-24 12:49  kleanthis

	* src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Some refinements on the
	  restart = "always" and the toggle behavior (e.g. event delivery).

2004-03-24 12:45  jackjansen

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_unix/qt_mainloop.cpp: Adapted for new
	  datasource_factory stuff.

2004-03-24 00:07  jackjansen

	* src/libambulant/net/: databuffer.cpp, ffmpeg_datasource.cpp:
	  Fixed a few nasty bugs having to do with buffer full not being
	  reset, and looking at enf-of-file on the source in stead of self.

2004-03-24 00:04  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: Normalized names
	  (m_audio_chunk and data_avail).

2004-03-23 23:41  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h: Timing refinements.

2004-03-23 20:39  kleanthis

	* src/libambulant/smil2/time_node.cpp: When the priorityClass
	  specifies peers="never" then not only don't start the element but
	  cancel notifications to dependents

2004-03-23 20:17  kleanthis

	* src/libambulant/smil2/time_node.cpp: Now nodes stop add a timer
	  callback. Take care of excl.

2004-03-23 20:10  kleanthis

	* include/ambulant/gui/dx/: dx_gui.h, dx_img.h, dx_video.h,
	  dx_viewport.h: Details

2004-03-23 20:08  kleanthis

	* src/libambulant/gui/dx/dx_text.cpp: Call redraw on repeat.

2004-03-23 20:07  kleanthis

	* src/libambulant/gui/dx/: dx_img.cpp, dx_video.cpp: When the flag
	  AM_DBG is set, display the message STOPPED in the display area.
	  This is of great help in tuning the scheduler since media are not
	  removed on stop. At least when the layout is missing.

2004-03-23 20:04  kleanthis

	* src/libambulant/gui/dx/dx_audio.cpp: Call schedule update on
	  audio repeat.

2004-03-23 20:03  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp: Allow for text color
	  specification.

2004-03-23 16:38  jackjansen

	* include/ambulant/net/databuffer.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp: - Added set_max_size() call to
	  databuffer, to change max buffer size - Changed name callback()
	  to data_avail() for consistency.

2004-03-23 16:09  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp: Debugging aid: added a define
	  RESAMPLE_READ_ALL that makes the ffmpeg resampler read all data
	  before doing the client callback.  This masks the SDL hiccup
	  problem, so we can debug other things.

2004-03-23 14:41  kleanthis

	* src/player_mfc/MmView.cpp: Adjust to new interface.

2004-03-23 14:40  kleanthis

	* src/libambulant/gui/dx/: dx_audio.cpp, dx_brush.cpp, dx_gui.cpp,
	  dx_img.cpp, dx_text.cpp, dx_video.cpp: Add AM_DBG protection to
	  logging statements plus other minors.

2004-03-23 14:38  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp: New implementation of dx
	  player.

2004-03-23 14:37  kleanthis

	* include/ambulant/gui/dx/dx_player.h: New interface of dx_player.

2004-03-23 14:36  kleanthis

	* include/ambulant/gui/dx/: dx_player_control.h, dx_player_impl.h:
	  Removed due to interface simplification.

2004-03-23 14:33  kleanthis

	* include/ambulant/lib/gtypes.h: Promote transofrmation functions
	  to templates.

2004-03-23 14:29  kleanthis

	* include/ambulant/common/player.h: Remove player_control
	  interface.  Add some state query functions to the
	  abstract_player.  "abstract_player" should be called "player"
	  according to our discussions.

2004-03-23 14:26  kleanthis

	* src/libambulant/smil2/smil_player.cpp: Add some state query
	  functions plus some other minors.  Possible errors due to checkin
	  conflict.

2004-03-23 14:09  kleanthis

	* include/ambulant/smil2/smil_player.h: Add some state query
	  functions plus some other minors.

2004-03-23 14:05  kleanthis

	* src/libambulant/smil2/time_node.cpp,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/time_state.h,
	  src/libambulant/smil2/time_state.cpp: Make some weak parts more
	  precise and in accordance with the smil2 model.

2004-03-23 13:39  jackjansen

	* include/ambulant/common/region_dim.h,
	  include/ambulant/gui/SDL/sdl_audio.h, include/ambulant/lib/nfa.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/lib/nfa.cpp, src/libambulant/mms/timelines.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/test_attrs.cpp: Squashed lots of silly
	  warnings, so the remaining ones actually make some sense.

2004-03-23 12:25  jackjansen

	* Extras/Welcome/Welcome.smil,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/player_macosx/mainloop.cpp: Cleanup: - Added some using
	  namespace net statements to get rid of lots of   net:: prefixes
	  (for stuff in the net namespace) - Cleaned up some error and
	  debug messages

2004-03-23 12:09  jackjansen

	* src/libambulant/net/posix_datasource.cpp: Cannot allocate
	  ref_counted objects on the heap.

2004-03-22 23:24  jackjansen

	* include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/stdio_datasource.h,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/posix_datasource.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/player_macosx/mainloop.cpp: Fixed silly base class bug.
	  Things now sort-of work again, but audio is slow (probably
	  problem with the raw_audio datasource).

2004-03-22 16:58  jackjansen

	* include/ambulant/common/playable.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/raw_audio_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h: -
	  Changed some of the names: datasource_factory is the factory for
	  all	types of datasources, the old one is now called
	  raw_datasource_factory.    Also use the _finder name only for
	  filtering datasources.  - Pass the datasource_factory to the
	  constructor for the various	playable and playable_factory
	  objects that need to create datasources.

	  Everything compiles again (at least on the Mac), but it doesn't
	  work;-)

2004-03-22 15:16  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/raw_audio_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Revamped a lot of the
	  audio_datasource stuff: - audio_format is one format,
	  audio_format_choices is a set of   formats.  - get_audio_format()
	  replaces the separate get_rate(), etc calls.	- The factory
	  classes are now purely for consumers, for the modules   providing
	  funciotnality there are _finder classes.

2004-03-22 11:19  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/posix_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: iresample datasource

2004-03-22 11:18  koelimoe

	* include/ambulant/gui/qt/qt_fill.h: removed the unnessecary
	  net:datasource in qt_active_fill_renderer

2004-03-19 16:59  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/posix_datasource.h,
	  include/ambulant/net/raw_audio_datasource.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Split
	  out raw_audio_datasource.

2004-03-19 16:15  kleanthis

	* bin/win32/DemoPlayer.exe: The current binary providing feedback
	  for hot regions.

2004-03-19 15:32  jackjansen

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/stdio_datasource.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: - Gcc
	  barfed on extra namespace indicator on constructor.  - Slightly
	  reorder stdio datasource stuff.

2004-03-19 15:12  kleanthis

	* include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp: Use a renderer_playable as
	  the base class of renderers.

2004-03-19 15:09  kleanthis

	* include/ambulant/common/renderer.h: Add an alt inline direct base
	  for renderer playables. This is the base used under win32 and its
	  generic enough to be placed in this module.  Actually it is more
	  generic than the existing stuff since it just combines two
	  interfaces and provides a trivial implementation for the benefit
	  od static media.

2004-03-19 15:05  kleanthis

	* include/ambulant/common/playable.h: Set a default value for the
	  second argument of started, stopped and clicked.

2004-03-19 14:48  jackjansen

	* src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/common/renderer.cpp,
	  include/ambulant/common/renderer.h,
	  include/ambulant/net/stdio_datasource.h,
	  src/libambulant/net/stdio_datasource.cpp: Added an alternative
	  datasource, using stdio in stead of posix I/O. This one compiles
	  on Windows, but still doesn't seem to work:-(

2004-03-19 13:16  kleanthis

	* include/ambulant/smil2/smil_player.h: Show hand cursor when over
	  a hot region.

2004-03-19 13:13  kleanthis

	* src/player_mfc/DemoPlayer.aps, src/player_mfc/DemoPlayer.rc,
	  src/player_mfc/DemoPlayer.vcproj, src/player_mfc/MmView.cpp,
	  src/player_mfc/MmView.h, src/player_mfc/resource.h,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  include/ambulant/gui/dx/dx_player_control.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_player.h: Show hand cursor when over a
	  hot region.

2004-03-19 13:12  kleanthis

	* src/player_mfc/res/hand.cur: Hand cursor to be used when over a
	  hot region.

2004-03-19 12:57  jackjansen

	* src/player_macosx/: Info.plist, Makefile.am,
	  English.lproj/Credits.rtf, English.lproj/InfoPlist.strings,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib,
	  fullcocoambulant.pbproj/project.pbxproj: When you build the mac
	  player for production (i.e. with make) the result is now called
	  "Ambulant Player".

	  Various things cleaned up in menus, about boxes, help strings,
	  etc.

2004-03-19 11:42  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update VC7 project.

2004-03-19 11:40  kleanthis

	* src/player_mfc/DemoPlayer.vcproj: Update mfc project.

2004-03-19 11:40  kleanthis

	* src/player_mfc/MmView.cpp: The only file from those created by
	  the wiazard that needs to be touched.

2004-03-19 11:39  kleanthis

	* src/player_mfc/: MmViewPlayer.h, wmuser.h: These files are not
	  needed any more. What remains is the wizard created MFC files.
	  Any wizard created MFC application may use Ambulant to implement
	  a smil player with custom UI.

2004-03-19 11:33  kleanthis

	* include/ambulant/gui/dx/: dx_player_control.h, dx_wmuser.h:
	  Provide an implementation of common player control interface for
	  the dx gui toolkit.

2004-03-19 10:53  kleanthis

	* include/ambulant/common/player.h: Publish an interface
	  summarizing the requirements of a GUI toolkit from a mm toolkit
	  implementing a mm player.  This is incomplete, rather a
	  placeholder. Please feel free to update and refine it.

2004-03-19 10:21  jackjansen

	* src/player_macosx/: Makefile.am, MyAppDelegate.mm: Only play the
	  intro document once.

2004-03-18 23:50  jackjansen

	* src/: libambulant/common/region.cpp,
	  libambulant/gui/SDL/sdl_audio.cpp,
	  libambulant/gui/cocoa/cocoa_fill.mm,
	  libambulant/gui/cocoa/cocoa_gui.mm,
	  libambulant/gui/cocoa/cocoa_video.mm,
	  libambulant/net/ffmpeg_datasource.cpp,
	  player_macosx/MyDocument.h, player_macosx/MyDocument.mm,
	  player_macosx/mainloop.cpp, player_macosx/mainloop.h,
	  player_macosx/pause.png, player_macosx/play.png,
	  player_macosx/playactive.png, player_macosx/stop.png,
	  player_macosx/ui_icons.psd,
	  player_macosx/English.lproj/MainMenu.nib/info.nib,
	  player_macosx/English.lproj/MainMenu.nib/objects.nib,
	  player_macosx/English.lproj/MyDocument.nib/classes.nib,
	  player_macosx/English.lproj/MyDocument.nib/info.nib,
	  player_macosx/English.lproj/MyDocument.nib/objects.nib,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: Merging
	  experimental_jack_macbuttons branch.

2004-03-18 23:46  jackjansen

	* src/: libambulant/gui/cocoa/cocoa_gui.mm,
	  player_macosx/MyDocument.h, player_macosx/MyDocument.mm,
	  player_macosx/mainloop.cpp, player_macosx/mainloop.h,
	  player_macosx/pause.png, player_macosx/play.png,
	  player_macosx/playactive.png, player_macosx/stop.png,
	  player_macosx/ui_icons.psd,
	  player_macosx/English.lproj/MainMenu.nib/info.nib,
	  player_macosx/English.lproj/MainMenu.nib/objects.nib,
	  player_macosx/English.lproj/MyDocument.nib/classes.nib,
	  player_macosx/English.lproj/MyDocument.nib/info.nib,
	  player_macosx/English.lproj/MyDocument.nib/objects.nib,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: - Added
	  play/stop/pause icons to the buttons.  - Got the buttons to work
	  (but the feedback not).  - Fixed a couple of other UI issues.

2004-03-18 21:44  jackjansen

	* src/: libambulant/gui/cocoa/cocoa_gui.mm,
	  player_macosx/English.lproj/MyDocument.nib/info.nib,
	  player_macosx/English.lproj/MyDocument.nib/objects.nib: Got the
	  buttons showing up in the right place.

2004-03-18 17:43  kleanthis

	* bin/win32/DemoPlayer.exe: The latest win32 dx binary.

2004-03-18 17:23  kleanthis

	* include/ambulant/lib/string_util.h: Add support for printing a
	  pointer to a string stream e.g. applying the operator<<

2004-03-18 17:20  kleanthis

	* include/ambulant/lib/gtypes.h: Some very usefull generic
	  coordinate mapping utilities.

2004-03-18 17:17  kleanthis

	* src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/dx_viewport.h: Complete dx gui. Now
	  drawing is perfect.

2004-03-18 16:59  jackjansen

	* src/: libambulant/common/region.cpp,
	  libambulant/gui/SDL/sdl_audio.cpp,
	  libambulant/gui/cocoa/cocoa_fill.mm,
	  libambulant/gui/cocoa/cocoa_gui.mm,
	  libambulant/gui/cocoa/cocoa_video.mm,
	  libambulant/net/ffmpeg_datasource.cpp,
	  player_macosx/English.lproj/MyDocument.nib/info.nib,
	  player_macosx/English.lproj/MyDocument.nib/objects.nib: Started
	  adding play/stop/pause buttons to the Mac gui, but it turns out
	  to be non-trivial, due to the resize code.

	  Also removed lots of AM_DBGs.

2004-03-18 16:20  jackjansen

	* Extras/Welcome/Welcome.smil: Fixed a few nits, and added a link
	  to the webpage (which doesn't work yet).

2004-03-18 16:00  jackjansen

	* src/player_macosx/: Makefile.am, MyAppDelegate.h,
	  MyAppDelegate.m, MyAppDelegate.mm,
	  fullcocoambulant.pbproj/project.pbxproj: For the Macintosh
	  player, include the Welcome document in the application bundle.
	  Also, always play it when starting the player.  (This will later
	  be changed into playing it automatically only the first time you
	  start the player).

2004-03-18 15:44  jackjansen

	* Extras/Welcome/: Welcome.smil, data/AmbulantTune.aif,
	  data/AmbulantTune.mp3, data/ambulant.png, data/background.png,
	  data/extensible.png, data/fast.png, data/opensource.png,
	  data/portable.png, data/visit.png, src/image.psd,
	  src/AmbulantTune.band/projectData,
	  src/AmbulantTune.band/Media/Recording#02.aif,
	  src/AmbulantTune.band/Media/Recording#07.aif: Moving the Welcome
	  document to the source tree.

2004-03-18 14:52  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: More work on the
	  resample datasource

2004-03-18 14:32  jackjansen

	* include/ambulant/config/platform/linux.h,
	  include/ambulant/config/platform/macos.h,
	  src/libambulant/smil2/test_attrs.cpp: Implemented
	  systemOperatingSystem for the 4 platforms we support

2004-03-16 23:05  kleanthis

	* src/libambulant/gui/dx/: dx_audio.cpp, dx_image_renderer.cpp: A
	  new more flexible generation of the dx gui that works smoothly
	  with new layout.

2004-03-16 23:02  kleanthis

	* src/libambulant/gui/dx/: dx_viewport.cpp, dx_video.cpp,
	  dx_video_player.cpp, dx_text.cpp, dx_gui.cpp, dx_player.cpp,
	  dx_img.cpp, dx_brush.cpp: A new more flexible generation of the
	  dx gui that works smoothly with new layout.

2004-03-16 22:58  kleanthis

	* include/ambulant/gui/dx/: dx_img.h, dx_player.h,
	  dx_player_impl.h, dx_surface.h, dx_text.h, dx_video.h,
	  dx_video_player.h, dx_viewport.h, dx_area.h, dx_audio.h,
	  dx_brush.h, dx_gui.h, gif_decoder.h, img_decoder.h,
	  dx_image_renderer.h: A new more flexible generation of the dx gui
	  that works smoothly with new layout.

2004-03-16 13:35  jackjansen

	* include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/gui/cocoa/cocoa_video.mm: First approximation of
	  movie renderer. It plays fine, but it always scales the movie
	  (fit=meet, basically), and moreover it will always play on top of
	  all other media.

2004-03-15 10:44  jackjansen

	* src/libambulant/gui/cocoa/cocoa_fill.mm: Use the color attribute,
	  not the backgroundColor.

2004-03-12 14:08  jackjansen

	* include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/gui/cocoa/cocoa_fill.mm: The surfaces were never
	  communic ated to these renderers.

2004-03-11 17:00  jackjansen

	* include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_video.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_video.m,
	  src/libambulant/gui/cocoa/cocoa_video.mm,
	  src/libambulant/smil2/time_node.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Adding
	  dummy video renderer: it just displays the URL of the video (and
	  even that doesn't work yet:-).

2004-03-11 11:29  jackjansen

	* src/libambulant/smil2/region_node.cpp: node_navigator is in the
	  lib namespace.

2004-03-10 18:24  kleanthis

	* include/ambulant/config/compiler/visualc.h: Turn off the infinity
	  of warnings VC emits due to the virtual bases of the datasource
	  family of classes.

2004-03-10 18:18  kleanthis

	* src/libambulant/smil2/smil_layout.cpp: Delete the layout tree on
	  destruction.

2004-03-10 18:16  kleanthis

	* src/libambulant/smil2/region_node.cpp,
	  include/ambulant/smil2/region_node.h: Destruct the layout tree
	  recursively.

2004-03-10 16:30  jackjansen

	* src/: libambulant/Makefile.am,
	  player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  document.cpp

2004-03-10 16:29  jackjansen

	* include/ambulant/lib/document.h: Got rid of "id", which ObjC++
	  doesn't like as an identifier.

2004-03-10 16:27  koelimoe

	* include/ambulant/common/trace_playable.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/posix_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: added the resample
	  datasource & fixed the bogus ref_count stuff i put in.

2004-03-09 12:37  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Add document.cpp to the
	  win32 project sources.

2004-03-09 12:36  kleanthis

	* include/ambulant/lib/document.h,
	  src/libambulant/lib/document.cpp: Some services would be better
	  associated with a document instance. For example requesting a
	  node by id.  Also, transfer inline functions except those short
	  that need to be executed as fast as possible to a seperate source
	  file.  Please, remember to add lib/document.cpp to the project
	  sources.

2004-03-08 14:18  koelimoe

	* include/ambulant/common/trace_playable.h,
	  include/ambulant/lib/refcount.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  third_party_packages/readme.txt: temp tweaks to make it compile
	  again.

2004-03-05 12:51  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: fixed some SDL stuff
	  and started on the ffmpeg_resample datasource

2004-03-04 14:37  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update win32 project.

2004-03-04 14:35  kleanthis

	* src/libambulant/lib/logger.cpp: Show function implementation.

2004-03-04 14:34  kleanthis

	* src/libambulant/net/databuffer.cpp: Don't include "unistd.h"
	  under win32.

2004-03-04 14:30  kleanthis

	* src/libambulant/smil2/: time_attrs.cpp, time_state.cpp: Declare
	  repr() functions in smil2 namespace.

2004-03-04 14:29  kleanthis

	* src/libambulant/smil2/: smil_player.cpp, time_node.cpp: Timing
	  fine tuning related changes.

2004-03-04 14:28  kleanthis

	* include/ambulant/smil2/time_state.h: Details

2004-03-04 14:27  kleanthis

	* include/ambulant/smil2/time_node.h: Various minors plus allow a
	  time node to use its own timer for fine tuning.

2004-03-04 14:21  kleanthis

	* include/ambulant/net/datasource.h: Declare a datasource as
	  ref_counted object and get rid of virtuals.

2004-03-04 14:20  kleanthis

	* include/ambulant/net/posix_datasource.h: Remove mem file utility
	  class from the datasource stuff.

2004-03-04 14:18  kleanthis

	* include/ambulant/lib/memfile.h: A utility class for reading and
	  handling local files (was in datasource).

2004-03-04 14:15  kleanthis

	* include/ambulant/lib/logger.h: Add a new logger function "show"
	  e.g. temporary emphasize a particular log statement...

2004-03-04 14:07  kleanthis

	* include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp: Update so that the
	  win32 player is buildable again.  Also send notifications for
	  started/stoped so that the timing module can fine tune timing.

2004-03-04 14:03  kleanthis

	* include/ambulant/common/: playable.h, renderer.h: Make a playable
	  a ref_counted_obj and avoid virtuals.

2004-03-02 14:37  koelimoe

	* Extras/DemoPresentation/NYC-MMS+C.smil: The smil file

2004-03-02 14:37  koelimoe

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil,
	  NYC-LG-M.smil, NYC-LG.smil, NYC-SM.smil: This time the right
	  files are gonne be here !

2004-03-02 11:52  koelimoe

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil,
	  NYC-LG-M.smil, NYC-LG.smil, NYC-SM.smil: correct smil files

2004-03-02 11:51  koelimoe

	* Extras/DemoPresentation/: NYC-LG-M.smil, NYC-LG.smil,
	  NYC-ReadMe.txt, NYC-SM.smil: added the correct demo data

2004-03-02 11:44  koelimoe

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil: removing the
	  demo because this one was a mess

2004-02-27 14:09  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Attempting to fix sdl
	  audio, so far with little success:-(

2004-02-26 16:07  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Clean up of ffmpeg
	  datasource and the sdl render code

2004-02-26 13:29  jackjansen

	* src/libambulant/: common/region.cpp, gui/cocoa/cocoa_gui.mm,
	  mms/timelines.cpp: The first event-based start time worked.

2004-02-25 17:01  jackjansen

	* include/ambulant/common/schema.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Implemented switch in
	  layout section, and skipping of layout sections with the wrong
	  type. Seems good enough to play the euros document.

2004-02-25 14:22  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/url.h, src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Merged my datafactory
	  branch

2004-02-25 13:27  jackjansen

	* include/ambulant/common/preferences.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/smil2/region_node.cpp: Use common/preferences.h
	  in stead of hard-coded constants

2004-02-25 13:19  jackjansen

	* include/ambulant/smil2/smil_layout.h,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Subregion positioning on
	  the default region works, but the code is convoluted so I will
	  probably want to take another look at this later.

2004-02-25 13:19  koelimoe

	* include/ambulant/net/: datasource.h, ffmpeg_datasource.h: tweaks

2004-02-25 11:40  koelimoe

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: started to work on the
	  a resample datasource, so i can test the datafactories.  fixed
	  the bug that casued ffmpeg to reported a bogus samplerate

2004-02-24 16:37  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  include/ambulant/net/url.h, src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp:  more datafactorie
	  code

2004-02-24 14:16  jackjansen

	* include/ambulant/common/schema.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Create the id-to-regpoint
	  mapping in the layout manager, when constructing the rest of the
	  layout tree too.

	  There are numerous possibilities for caching (precompute regPoint
	  parameters, cache alignment objects per node) but right now we
	  just recompute everything every time we need it.

2004-02-24 14:10  jackjansen

	* include/ambulant/lib/document.h: Undo previous checkin: we don't
	  need get_node_by_id() after all.

2004-02-24 13:43  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/smil_alignment.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/smil_alignment.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/smil2/smil_layout.cpp: Revamped alignment
	  handling: the alignment is now stored in the surface. This allows
	  the alignment to be created by the layout manager, so the
	  renderer no longer needs to be aware of it.

2004-02-24 13:38  jackjansen

	* include/ambulant/common/region_dim.h: Relative region_dim values
	  couldn't be copied, fixed.

2004-02-24 10:20  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: t least it compiles now

2004-02-23 17:04  jackjansen

	* src/libambulant/common/smil_alignment.cpp: Quick hack to parse
	  regPoint attributes.

2004-02-23 16:57  jackjansen

	* include/ambulant/lib/document.h: Added a method
	  node_context::get_node_by_id(). I'm not 100% sure this is the
	  right place to do this.

2004-02-23 16:01  jackjansen

	* src/libambulant/common/: region.cpp, smil_alignment.cpp: Tweaks.

2004-02-23 15:22  jackjansen

	* src/libambulant/common/: region.cpp, smil_alignment.cpp: regPoint
	  and regAlign work for the standard regpoints, fit=hidden and an
	  image smaller than the region.

	  The other 600+ cases still need to be tested:-)

2004-02-20 17:15  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: worked on the datasource
	  factories. Not happy yet about the design.

2004-02-20 17:11  jackjansen

	* src/libambulant/common/region.cpp: Started on computing the
	  values needed for regPoint/regAlign/fit interaction

2004-02-20 16:40  jackjansen

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/smil_alignment.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  src/libambulant/Makefile.am, src/libambulant/common/region.cpp,
	  src/libambulant/common/smil_alignment.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  infrastructure for doing regPoint/regAlign. Nothing really
	  implemented yet, but the information is transferred.

	  I'm not 100% happy with the design, yet, but that can be fixed
	  later.

2004-02-20 13:11  jackjansen

	* src/libambulant/common/region.cpp: Drawing background color at
	  the end now also works again.

2004-02-20 12:57  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/smil2/smil_layout.cpp: - Call need_redraw() when
	  new regions are created. This makes initial	background colors
	  be drawn correctly.  - Fixed region_node info for subregions. We
	  now draw per-node background	 color overrides correctly.

2004-02-20 00:25  jackjansen

	* include/ambulant/common/schema.h,
	  include/ambulant/lib/document.h,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Got started on subregion
	  positioning.

2004-02-19 22:03  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  the new datasource and databuffer stuff.

2004-02-19 15:49  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/posix_datasource.h,
	  src/libambulant/Makefile.am, src/libambulant/common/renderer.cpp,
	  src/libambulant/net/databuffer.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/libambulant/net/posix_datasource.cpp: further split of
	  datasource : split the cpp files

2004-02-19 15:24  jackjansen

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/layout.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/lib/node.h, include/ambulant/lib/tree_builder.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/Makefile.am, src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/Info.plist, src/player_macosx/MyDocument.h,
	  src/player_macosx/MyDocument.mm, src/player_macosx/mainloop.cpp,
	  src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Merging experimental_jack_newlayout: - The DOM tree is pure once
	  again, smil2_layout_manager creates a   parallel tree with its
	  own information - There's new abstract classes surface_template
	  and surface_factory	which the layout manager uses in stead of
	  being hard-coded to	region.h/region.cpp.  - There are now
	  factory functions for smil2 and mms player, for the	region.cpp
	  surface factory and for the smil2 layout manager. This   means
	  clients no longer have to include the implementation header
	  files.

2004-02-19 14:54  jackjansen

	* include/ambulant/gui/qt/qt_image_renderer.h,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Allow the Qt player to also dynamically select which scheduler to
	  use.

2004-02-19 14:14  jackjansen

	* include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp: Need const versions of
	  get_first_child too.

2004-02-19 14:01  jackjansen

	* include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Layout works again

2004-02-18 21:30  jackjansen

	* include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: The layout tree isn't
	  correct yet, but I need to check this in anyway so I can continue
	  tomorrow.

2004-02-18 16:28  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/net/datasource.cpp: Added
	  global_datasource_factory and datasource_factory. for now it just
	  returns a active_datasource.

2004-02-18 13:12  koelimoe

	* include/ambulant/common/renderer.h,
	  include/ambulant/net/Makefile.am,
	  include/ambulant/net/databuffer.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/posix_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp: Split datasource.h into
	  databuffer.h datasource.h and posix_datasource.h and addadapted
	  files where needed.

2004-02-18 00:03  jackjansen

	* src/player_macosx/: Info.plist, MyDocument.mm, mainloop.cpp,
	  mainloop.h: Now that it is so easy handle both smil and mms
	  documents, each with their own player. Makes debugging easier, as
	  it quickly allows switching.

2004-02-17 23:46  jackjansen

	* include/ambulant/common/player.h,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/mainloop.cpp,
	  src/player_macosx/mainloop.h: Created factory functions for
	  smil_player and mms_player too, so client code doesn't need to
	  include the smil2/mms-dependent header files.

2004-02-17 23:31  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp: Created new abstract
	  classes surface_factory and surface_template. This completely
	  isolates the rest of the world from the passive_region and
	  active_region implementation.

	  Also created factory functions for surface_factory and
	  layout_manager.

2004-02-17 21:04  jackjansen

	* include/ambulant/smil2/region_node.h,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Added method
	  fix_from_dom_node to region_node, which refreshes the local data
	  from the DOM node. Returns true if anything has changed.

2004-02-17 21:02  jackjansen

	* include/ambulant/common/region_dim.h: Added == and != operators
	  to region_dim and region_dim_spec.

2004-02-17 14:16  jackjansen

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/region_node.h,
	  include/ambulant/lib/node.h, include/ambulant/lib/tree_builder.h,
	  include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/region_node.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/smil2/region_node.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on reorganisation of layout handling. region_node moved
	  to smil2 (from common) and it is now a tree in its own right
	  (with m_node pointing to the DOM node). Things compile, but that
	  is about it.

2004-02-16 17:00  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/mms/timeline_builder.cpp: Added a region_info
	  implementation for the MMS player. This allowed removal of the
	  various old constructors for passive_region, and some other dead
	  wood.

2004-02-16 15:55  jackjansen

	* bin/win32/DemoPlayer.exe, include/ambulant/gui/dx/dx_gui.h,
	  src/libambulant/gui/dx/dx_gui.cpp: Got rid of
	  abstract_bg_rendering_source

2004-02-16 15:47  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp: Getting rid of
	  abstract_bg_rendering_source.

2004-02-16 15:33  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/smil2/smil_layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/smil2/smil_layout.cpp: Getting rid of
	  abstract_bg_rendering_source. A background renderer follows the
	  normal renderer API and it is initialized with the correct
	  region_info structure.

	  Also added a helper class background_renderer that background
	  renderers can use to take region_info and surface administration
	  off their hands.

2004-02-16 13:10  koelimoe

	* Extras/bindist-readme.txt: updated

2004-02-16 12:35  jackjansen

	* bin/win32/DemoPlayer.exe, include/ambulant/common/layout.h,
	  include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_layout.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_audio_player.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_unix/qt_mainloop.cpp: Merging branch
	  experimental_jack_newplayable: class names and structure is now
	  mostly in line with what was discussed at the face to face
	  meeting.

2004-02-16 11:34  jackjansen

	* bin/win32/DemoPlayer.exe, include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_audio_player.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp,
	  src/libambulant/gui/none/none_gui.cpp: Adapted for the new state
	  of things.

2004-02-16 10:04  jackjansen

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_unix/qt_mainloop.cpp: Got rid of passive_datasource
	  and rendering_surface parameters in Qt and SDL renderers.

2004-02-15 23:48  jackjansen

	* include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Changed baseclasses to be
	  active_playable in stead of active_renderer.

2004-02-15 22:42  jackjansen

	* include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/common/region.cpp, src/player_macosx/mainloop.h:
	  Moved playable_factory to playable.h

2004-02-14 00:48  jackjansen

	* include/ambulant/common/playable.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/mms/timelines.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/smil2/smil_player.cpp: Got rid of
	  passive_datasource in the playable_factory API.

2004-02-13 17:14  jackjansen

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp: Things work again.

2004-02-13 17:01  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_layout.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h:
	  First big pass to make playables and renderers adhere to the new
	  protocol.  Compiles, but crashes immedeately.

2004-02-13 15:41  jackjansen

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp: Fixed playable names for
	  qt, sdl and arts.

2004-02-13 14:37  jackjansen

	* include/ambulant/common/playable.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/trace_playable.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/trace_player.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Namespaces around playable
	  and playable_notification.

2004-02-13 13:22  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/lib/refcount.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/ffmpeg_datasource.cpp: Fixed names of
	  datasource and friends.

2004-02-13 13:04  jackjansen

	* Documentation/Design/models/: datasource.graffle, datasource.pdf:
	  Wrote down the design as discussed at the f2f. I didn't fully
	  remember the video_datasource design anymore, so this is open to
	  discussion.

2004-02-13 12:39  jackjansen

	* Documentation/Design/models/: playable.graffle, playable.pdf:
	  Make playable inherit refcounted, as discussed at the f2f.

2004-02-13 12:35  jackjansen

	* Documentation/Design/text/: overall.html, overall.txt: Added a
	  note on the use of namespaces.

2004-02-13 11:45  jackjansen

	* bin/win32/DemoPlayer.exe, include/ambulant/common/layout.h,
	  include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/schema.h,
	  include/ambulant/common/trace_playable.h,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/smil2/test_attrs.h,
	  include/ambulant/smil2/timegraph.h,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp, src/player_mfc/MmView.cpp:
	  Namespaces fixed.

2004-02-13 10:44  jackjansen

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/arts_audio.h,
	  include/ambulant/smil2/smil_player.h,
	  src/libambulant/gui/arts/arts.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/player_unix/qt_gui.h, src/player_unix/qt_mainloop.cpp:
	  Namespace stuff finished for qt player.

2004-02-13 10:07  jackjansen

	* src/libambulant/gui/qt/: qt_fill.cpp, qt_image_renderer.cpp,
	  qt_text_renderer.cpp: Fixed namespaces.

2004-02-12 13:23  jackjansen

	* include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: iStarted fixing
	  namespaces for Qt stuff.

2004-02-12 12:51  jackjansen

	* include/ambulant/smil2/trace_player.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/trace_player.cpp: More namespace fixes. The
	  MacOSX player now builds and runs again.

2004-02-12 11:32  jackjansen

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/trace_player.h,
	  include/ambulant/smil2/Makefile.am,
	  include/ambulant/smil2/trace_player.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/trace_player.cpp,
	  src/libambulant/smil2/trace_player.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Moved
	  trace_player from common to smil2.

2004-02-12 11:13  jackjansen

	* include/ambulant/common/trace_player.h,
	  include/ambulant/smil2/time_attrs.h,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/timegraph.cpp: More namespaces.

2004-02-11 12:25  jackjansen

	* include/ambulant/mms/timeline_builder.h,
	  include/ambulant/smil2/smil_layout.h,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/sync_rule.h,
	  include/ambulant/smil2/test_attrs.h,
	  include/ambulant/smil2/time_attrs.h,
	  include/ambulant/smil2/timegraph.h,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/smil_time.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/libambulant/smil2/time_attrs.cpp: Namespaces, namespaces,
	  namespaces...

2004-02-10 14:38  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/mms/timelines.h,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/mms/mms_player.cpp: More namespaces fixed. About
	  half-way there.

2004-02-09 17:34  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/preferences.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_eval.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/schema.h,
	  include/ambulant/common/trace_playable.h,
	  include/ambulant/common/trace_player.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_layout.h,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/sync_rule.h,
	  include/ambulant/smil2/test_attrs.h,
	  include/ambulant/smil2/time_attrs.h,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_state.h,
	  include/ambulant/smil2/timegraph.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: First
	  few steps on getting namespaces sorted out. About 20% done, I
	  guess, and there's not the slightest chance you can compile this
	  right now:-)

2004-02-09 16:38  jackjansen

	* bin/win32/DemoPlayer.exe, include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  src/libambulant/libambulant_win32.vcproj,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp, src/player_mfc/MmView.cpp:
	  Step 1c - Fixed Windows projects and sources for new include file
	  locations.

2004-02-09 16:09  jackjansen

	* include/ambulant/: common/layout.h, common/playable.h,
	  common/player.h, common/preferences.h, common/region.h,
	  common/region_dim.h, common/region_eval.h, common/region_info.h,
	  common/region_node.h, common/renderer.h, common/schema.h,
	  common/smil_handler.h, common/trace_playable.h,
	  common/trace_player.h, gui/qsound/qsound_audio.h,
	  gui/qsound/qsound_factory.h, gui/qt/qt_fill.h,
	  gui/qt/qt_image_renderer.h, gui/qt/qt_includes.h,
	  gui/qt/qt_renderer.h, gui/qt/qt_text_renderer.h,
	  mms/mms_player.h, mms/timeline_builder.h, mms/timelines.h,
	  smil2/smil_layout.h, smil2/smil_player.h, smil2/smil_time.h,
	  smil2/sync_rule.h, smil2/test_attrs.h, smil2/time_attrs.h,
	  smil2/time_node.h, smil2/time_state.h, smil2/timegraph.h: Step 2
	  - fixed the include guards.

2004-02-09 16:01  jackjansen

	* include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Adapted linux-specific sources for new include file locations

2004-02-09 15:48  jackjansen

	* include/ambulant/: mms/Makefile.am, smil2/Makefile.am: Forgot to
	  add two Makefile.ams.

2004-02-09 15:39  jackjansen

	* configure.in, include/ambulant/Makefile.am,
	  include/ambulant/common/Makefile.am,
	  include/ambulant/common/layout.h,
	  include/ambulant/common/mms_player.h,
	  include/ambulant/common/parse_attrs.h,
	  include/ambulant/common/playable.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/schema.h,
	  include/ambulant/common/skeleton.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/common/smil_player.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/common/trace_playable.h,
	  include/ambulant/common/trace_player.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/Makefile.am, include/ambulant/lib/layout.h,
	  include/ambulant/lib/playable.h, include/ambulant/lib/player.h,
	  include/ambulant/lib/schema.h, include/ambulant/lib/smil_time.h,
	  include/ambulant/lib/sync_rule.h,
	  include/ambulant/lib/test_attrs.h,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  include/ambulant/lib/timegraph.h,
	  include/ambulant/lib/trace_playable.h,
	  include/ambulant/lib/trace_player.h,
	  include/ambulant/mms/mms_player.h,
	  include/ambulant/mms/timeline_builder.h,
	  include/ambulant/mms/timelines.h,
	  include/ambulant/smil2/smil_layout.h,
	  include/ambulant/smil2/smil_player.h,
	  include/ambulant/smil2/smil_time.h,
	  include/ambulant/smil2/sync_rule.h,
	  include/ambulant/smil2/test_attrs.h,
	  include/ambulant/smil2/time_attrs.h,
	  include/ambulant/smil2/time_node.h,
	  include/ambulant/smil2/time_state.h,
	  include/ambulant/smil2/timegraph.h, src/libambulant/Makefile.am,
	  src/libambulant/common/mms_player.cpp,
	  src/libambulant/common/schema.cpp,
	  src/libambulant/common/skeleton.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/common/trace_player.cpp,
	  src/libambulant/lib/nfa.cpp, src/libambulant/lib/schema.cpp,
	  src/libambulant/lib/smil_time.cpp,
	  src/libambulant/lib/string_util.cpp,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/test_attrs.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  src/libambulant/lib/trace_player.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/mms/mms_player.cpp,
	  src/libambulant/mms/timeline_builder.cpp,
	  src/libambulant/mms/timelines.cpp,
	  src/libambulant/smil2/smil_layout.cpp,
	  src/libambulant/smil2/smil_player.cpp,
	  src/libambulant/smil2/smil_time.cpp,
	  src/libambulant/smil2/sync_rule.cpp,
	  src/libambulant/smil2/test_attrs.cpp,
	  src/libambulant/smil2/time_attrs.cpp,
	  src/libambulant/smil2/time_node.cpp,
	  src/libambulant/smil2/time_state.cpp,
	  src/libambulant/smil2/timegraph.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Second
	  great renaming, step 1: moved include and source files to the new
	  locations. Linux- and windows-specific sources still need updates
	  to the #includes, and no namespaces have been touched yet.

2004-02-09 11:39  jackjansen

	* Extras/bindist-readme.txt, include/ambulant/net/datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/mainloop.cpp: - Merged last-minute changes for
	  the Mac release of the S player   back to the trunk.	- Redid the
	  fixes that gives datasource::get_write_ptr a size   parameter.

2004-02-09 09:42  jackjansen

	* include/ambulant/lib/: parselets.h, sync_rule.h: Two small fixes
	  by Kleanthis to squash warnings.

2004-02-08 23:33  jackjansen

	* Extras/bindist-readme.txt, src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/player_macosx/mainloop.cpp: Final tweaks for MacOSX release.

2004-02-07 00:29  keesblom

	* include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_gui.h,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h:
	  Code cleanup source layout adapted to Kleanthis' styke

2004-02-06 16:55  jackjansen

	* Documentation/Design/models/: Animation-sketch.graffle,
	  Animation-sketch.pdf, layout.graffle, layout.pdf,
	  playable.graffle, playable.pdf, region.graffle, region.pdf,
	  transition-sketch.graffle, transition-sketch.pdf: Added animation
	  interfaces

2004-02-06 16:19  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: made the API of
	  databuffer/datasource consistent

2004-02-06 16:19  jackjansen

	* Documentation/Design/models/: layout.graffle, layout.pdf,
	  region.graffle, region.pdf, transition-sketch.graffle,
	  transition-sketch.pdf: Initial design for transition engine.

2004-02-06 15:05  jackjansen

	* Documentation/Design/models/: layout.graffle, layout.pdf,
	  playable.graffle, playable.pdf, region.graffle, region.pdf,
	  renderer.graffle, renderer.pdf: JJ and KK redesign layout.

2004-02-05 00:05  jackjansen

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Added a size pointer
	  to databuffer::prepare, and make a guess at the size needed in
	  ffmpeg_datasource.cpp.

2004-02-04 18:15  koelimoe

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil: put them back

2004-02-04 18:07  koelimoe

	* Extras/DemoPresentation/: NYC-LG-M.smil, NYC-LG.smil,
	  NYC-ReadMe.txt, NYC-SM.smil: The new Demo's

2004-02-04 18:04  koelimoe

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil: Replacing it
	  with the new demos

2004-02-04 17:32  koelimoe

	* README, README-ZAURUS, include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/qt_mainloop.h: Turned off the debug information

2004-02-04 13:53  jackjansen

	* src/libambulant/: gui/SDL/sdl_audio.cpp, net/datasource.cpp,
	  net/ffmpeg_datasource.cpp: Decode as much audio as possible in
	  the ffmpeg callback routine.	In addition, we temporarily
	  increased the maximum buffer size to 1MB.  Together this should
	  allow us to decode all audio in one fell swoop, so we can
	  postpone actually fixing the logic in sdl_renderer.

	  Unfortunately there are still some errors that make it crash:-(

2004-02-04 13:50  jackjansen

	* src/player_macosx/cocoambulant.icns: New icon

2004-02-04 13:15  koelimoe

	* README-ZAURUS, configure.in, include/ambulant/version.h: Updated
	  for the upcoming release

2004-02-04 13:13  koelimoe

	* README: Updated the README for the upcomming release.

2004-02-04 10:53  kleanthis

	* bin/win32/DemoPlayer.exe: The S-release binary as created by the
	  currently checked-in source files.

2004-02-04 10:26  kleanthis

	* src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_brush.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  include/ambulant/gui/dx/dx_area.h: Remove references to the
	  offending m_readdone callback.

2004-02-04 10:25  kleanthis

	* src/libambulant/common/smil_player.cpp: Include test_attrs
	  header.

2004-02-04 10:10  kleanthis

	* src/player_mfc/res/DemoPlayer.ico: The AmbulantPlayer-S icon.

2004-02-04 10:09  kleanthis

	* src/player_mfc/: DemoPlayer.aps, MmView.cpp, MmViewPlayer.h:
	  Various minor fixes.

2004-02-04 10:06  kleanthis

	* include/ambulant/gui/dx/: dx_player.h, dx_player_impl.h,
	  dx_viewport.h: Slight modifications to the win32 specific
	  interface

2004-02-04 10:04  kleanthis

	* src/libambulant/gui/dx/: dx_brush.cpp, dx_gui.cpp, dx_img.cpp,
	  dx_player.cpp, dx_text.cpp, dx_video.cpp, dx_viewport.cpp:
	  Modifications related to transparency.  Checking that the objects
	  returned through the region are not null etc.

2004-02-04 09:59  kleanthis

	* src/libambulant/lib/time_node.cpp: Update doc strings.

2004-02-04 09:53  kleanthis

	* include/ambulant/lib/win32/win32_event_processor.h: Forgot to
	  checkin stop->stop_processor_thread renaming.

2004-02-04 09:51  kleanthis

	* src/libambulant/common/smil_player.cpp,
	  include/ambulant/common/smil_player.h: Allow more flexibility in
	  player construction.	For example the layout or the timegraph may
	  need to be re-created when the user preferences change and the
	  layout and/or the body contains conditional (switch) content.

2004-02-04 09:41  kleanthis

	* src/libambulant/lib/timegraph.cpp: Remove read_custom_attributes
	  from this module.  Do read them at a better place and earlier.

2004-02-04 09:35  kleanthis

	* src/libambulant/lib/colors.cpp, include/ambulant/lib/colors.h:
	  Convert a hex color using the correct byte order.

2004-02-04 00:11  jackjansen

	* src/libambulant/gui/arts/arts_audio.cpp: iCreate event when we
	  need it: m_readdone is gone.

2004-02-04 00:03  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  third_party_packages/readme.txt: - The logic around lib::event
	  was incorrect in the various renderers:   you cannot reuse these
	  objects, you must create a new one each time.  - Added more debug
	  output in the sdl_renderer, and fix a few logic errors.    It
	  still doesn't work, though...

2004-02-03 14:00  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: - got rid of lots of
	  debug output - added lock to ffmpeg_audio_reader - revamped some
	  of the start/readdone/callback logic again - trigger use of
	  ffmpeg reader on the URL ending in ".mp3".

	  Raw audio plays back fine, mp3's still don't work:-(

2004-02-03 12:00  keesblom

	* src/libambulant/gui/qt/qt_renderer.cpp: resize implemented in
	  such a way that the top-left position of the window does not
	  change

2004-02-03 11:37  jackjansen

	* configure.in, include/ambulant/gui/SDL/Makefile.am,
	  include/ambulant/gui/SDL/sdl.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/Makefile.am, src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/Makefile.am, src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/Makefile.am, src/player_unix/qt_mainloop.cpp:
	  Various audio fixes from experimental_rawaudio branch merged: -
	  sdl.h renamed to sdl_gui.h - configure/Makefile changed to allow
	  ffmpeg in non-standard place - sdl/ffmpeg support added to Cocoa
	  player - ffmpeg_audio_datasource revamped. It stilll doesn't
	  work, but it doesn't	 crash anymore.  - raw_audio_datasource
	  added.  - sdl_active_audio_renderer revamped.

2004-02-02 21:52  kleanthis

	* bin/win32/DemoPlayer.exe: Latest binary.

2004-02-02 21:45  kleanthis

	* src/player_mfc/MmViewPlayer.h: Decorative change: create player
	  earlier in order to adjust window on document load

2004-02-02 21:45  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp: Decorarive change: create
	  player earlier in order to adjust window on document load

2004-02-02 21:11  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/gif_decoder.h,
	  include/ambulant/gui/dx/dx_viewport.h: Handle transparent images.

2004-02-02 17:17  jackjansen

	* include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_macosx/Makefile.am,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/Makefile.am: - Enable ffmpeg on MacOSX.  -
	  Revamped sdl and ffmpeg stuff.

2004-02-02 17:05  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_unix/qt_mainloop.h: Moved call to
	  (qt_ambulant_widget*)this->show() from its constructor to
	  qt_window_factory::new_window() after all contructions are done.

	  For the Zaurus, disabled resizing the window since ther is no
	  member function mainWidget() defined for QPEApplication.

2004-02-02 15:57  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: Added some error
	  checking and cleanup.

2004-02-02 14:50  kleanthis

	* bin/win32/DemoPlayer.exe: Updated binary

2004-02-02 14:47  kleanthis

	* bin/win32/filter.xml: Example of the new schema accepting also
	  custom tests settings.

2004-02-02 14:41  kleanthis

	* src/libambulant/lib/test_attrs.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  include/ambulant/lib/test_attrs.h: Parse custom attributes and
	  evaluate custom tests.

2004-02-02 14:40  kleanthis

	* include/ambulant/lib/document.h: Define a const version of locate
	  node function.

2004-02-02 14:37  kleanthis

	* include/ambulant/lib/event_processor.h,
	  src/libambulant/common/smil_player.cpp: Rename "stop" to the
	  longer "stop_processor_thread".  Sorry, Kees...

2004-02-02 14:34  jackjansen

	* configure.in, include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/Makefile.am, src/player_unix/Makefile.am:
	  iConfigure tweaks to make ffmpeg work when not installed in the
	  standard location

2004-02-02 13:12  kleanthis

	* include/ambulant/lib/string_util.h: Keep only the reference
	  template for the std::string operator<<

2004-02-02 13:09  jackjansen

	* include/ambulant/gui/SDL/Makefile.am: Renamed sdl.h to sdl_gui.h

2004-02-02 13:09  kleanthis

	* include/ambulant/gui/dx/: bmp_decoder.h, dx_area.h, dx_audio.h,
	  dx_audio_player.h, dx_brush.h, dx_gui.h, dx_img.h, dx_player.h,
	  dx_player_impl.h, dx_surface.h, dx_text.h, dx_video.h,
	  dx_video_player.h, gif_decoder.h: Include config.h before
	  including std headers.

2004-02-02 12:59  kleanthis

	* src/libambulant/libambulant_win32.dsp: Update VC6 project.

2004-02-02 12:12  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Add some more recent
	  win32 specific files to the project.

2004-02-02 12:11  kleanthis

	* src/Ambulant-win32.sln: Remove player_wincon which is not fully
	  supported any more.

2004-02-02 11:57  kleanthis

	* bin/win32/DemoPlayer.exe: The latest binary.

2004-02-02 11:45  kleanthis

	* src/libambulant/lib/win32/win32_asb.cpp: Provide an
	  implementation for show_message() function.

2004-02-02 11:43  kleanthis

	* include/ambulant/gui/dx/bmp_decoder.h,
	  include/ambulant/gui/dx/dx_area.h,
	  include/ambulant/gui/dx/dx_brush.h,
	  include/ambulant/gui/dx/png_decoder.h,
	  src/libambulant/gui/dx/dx_brush.cpp: Add some image decoders
	  placeholders.  Add a brush visual and a placeholder for area (the
	  later should be merged with mouse-region)

2004-02-02 11:40  kleanthis

	* include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_video.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/gif_decoder.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_audio_player.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp: Many changes including:
	  1) Take into account the layout fit hint, background, and z-index
	  2) Cope with the add_ref created indirectly by active_renderer
	  base class which prevented proper destruction.  3) Make video
	  more stable

2004-02-02 11:35  kleanthis

	* include/ambulant/lib/win32/win32_event_processor.h: Stop the
	  provessor when requested.

2004-02-02 11:32  kleanthis

	* src/libambulant/lib/schema.cpp: Add AREA to the time elements.

2004-02-02 11:10  kleanthis

	* include/ambulant/common/smil_player.h,
	  src/libambulant/common/smil_player.cpp: Add done_playback()
	  scheduler notification callback.  Add a destroy_renderer hook to
	  facilitate memory related debuging.

2004-02-02 11:08  kleanthis

	* include/ambulant/lib/logger.h: Add a new lib function
	  show_message() that can be used to facilitate debugging.  This
	  requires a machine-dependent implementation but a dummy default
	  is provided  for not win32 platforms.

2004-02-02 11:06  kleanthis

	* include/ambulant/lib/gtypes.h: Add a default constructor to
	  basic_rect.

2004-02-02 11:05  kleanthis

	* include/ambulant/lib/test_attrs.h: Add custom test structure.

2004-02-02 11:03  kleanthis

	* include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/event_processor.h,
	  src/libambulant/lib/delta_timer.cpp: Some modifications that will
	  not affect anything since defaults are provided.  Cancel returns
	  a boolean value for debugging.

2004-02-02 11:00  kleanthis

	* src/libambulant/lib/time_attrs.cpp,
	  include/ambulant/lib/time_attrs.h: Parse "restart" attibute and
	  handle "restartDefault".

2004-02-02 10:57  kleanthis

	* src/libambulant/lib/time_state.cpp,
	  include/ambulant/lib/time_state.h: Handle some of the RESTART
	  attribute semantics.

2004-02-02 10:54  kleanthis

	* src/libambulant/lib/timegraph.cpp,
	  src/libambulant/lib/time_node.cpp,
	  include/ambulant/lib/time_node.h: Fix a bug in SWITCH (prevented
	  flashlight to work).	Allow scheduling of timed-AREA and
	  ANIMATION elements as children of media elements.

2004-02-02 00:11  jackjansen

	* README, include/ambulant/gui/SDL/sdl.h,
	  include/ambulant/gui/SDL/sdl_gui.h,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/qt_mainloop.cpp: - Enabled building of
	  sdl-ambulant in XCode.  - This forced renaming of sdl.h to
	  sdl_gui.h: the name sdl.h clashed   with the standard header
	  SDL.h:-( - Got started on the SDL crash: I think the problem is
	  sdl_renderer	 cannot cope with non-existent files. Not fixed
	  yet, though.

2004-02-01 23:20  jackjansen

	* src/player_macosx/: Makefile.am, mainloop.cpp: Enable SDL support
	  in the Cocoa player, if SDL is available. This gives us audio
	  again on OSX.

2004-02-01 22:55  jackjansen

	* src/libambulant/gui/SDL/sdl_audio.cpp: Use stdlib.h in stead of
	  the nonstandard malloc.h

2004-01-30 17:32  keesblom

	* README, configure.in, include/ambulant/version.h: Rewrote README
	  and changed Version to 0.4

2004-01-30 17:25  jackjansen

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: Added a
	  raw_audio_datasource minimal wrapper class (around
	  active_datasource). This makes the ffmpeg problems also appear
	  when using raw audio (hence the branch we're checking this in
	  on:-) which will hopefully help us debug the problem.

2004-01-30 15:54  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp: Removed "eraseRect" calls
	  now that background drawing is implemented

2004-01-30 15:51  kleanthis

	* bin/win32/DemoPlayer.exe: Binary supporting gifs, though painting
	  is not yet consistent with transparency

2004-01-30 15:47  kleanthis

	* include/ambulant/gui/dx/gif_decoder.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_video_player.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  src/libambulant/gui/dx/dx_img.cpp: Gif decoder.

2004-01-30 15:43  jackjansen

	* src/player_unix/Makefile.am: Added missing include of
	  $(EXPAT_PREFIX)/include

2004-01-30 15:26  jackjansen

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timelines.cpp: Got rid of the last couple
	  of dynamic_casts by making active_basic_renderer a subclass of
	  ref_counted_obj (in stead of only active_renderer).

2004-01-30 15:12  koelimoe

	* src/libambulant/: gui/SDL/sdl_audio.cpp, net/datasource.cpp,
	  net/ffmpeg_datasource.cpp: SDL works again but only without
	  without ffmpeg stuff

2004-01-30 13:58  jackjansen

	* include/ambulant/common/region_eval.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/lib/node.h, include/ambulant/lib/smil_time.h,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp: Added method
	  is_region_node() to node and region_node, and use this to get rid
	  of dynamic_casts.

2004-01-30 13:00  kleanthis

	* src/libambulant/lib/test_attrs.cpp,
	  include/ambulant/lib/test_attrs.h, bin/win32/DemoPlayer.exe,
	  bin/win32/filter.xml: Add systemComponent test.

2004-01-30 12:54  kleanthis

	* include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_eval.h,
	  src/libambulant/common/region_node.cpp: Simplify region_dim
	  class; was too complex for its job.

2004-01-30 11:32  keesblom

	* configure.in: Added missing include files

2004-01-30 11:30  keesblom

	* include/ambulant/: Makefile.am, common/Makefile.am,
	  config/Makefile.am, config/compiler/Makefile.am,
	  config/platform/Makefile.am, config/stdlib/Makefile.am,
	  lib/Makefile.am: Added missing include files for distribution

2004-01-29 23:54  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  Kleanthis' new files.

2004-01-29 22:45  koelimoe

	* include/ambulant/lib/Makefile.am,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: added test_attrs.h to
	  the Makefile and more tweaks to the datasource and
	  ffmpeg_datasource

2004-01-29 21:59  koelimoe

	* src/libambulant/Makefile.am: added lib/test_attrs.cpp to the
	  libambulant_la_SOURCES

2004-01-29 20:59  koelimoe

	* src/libambulant/: gui/SDL/sdl_audio.cpp, net/datasource.cpp:
	  tweaks

2004-01-29 18:19  kleanthis

	* bin/win32/filter.xml: A sample indicating the supported files for
	  specifying system properties.  When such a file is loaded
	  playback is filtered according to these properties.  When no file
	  is loaded the system will use the default hard-coded. These
	  default hard coded values may be replaced later by OS specific
	  functions that return the "real" system properties.

2004-01-29 18:13  kleanthis

	* bin/win32/DemoPlayer.exe: Win32 binary supporting SWITCH and
	  system tests.

2004-01-29 18:10  kleanthis

	* src/player_mfc/: DemoPlayer.aps, DemoPlayer.rc, MmView.cpp,
	  MmView.h, MmViewPlayer.h, resource.h, wmuser.h, res/Toolbar.bmp:
	  Load system attributes from an XML file. This facilitates a lot
	  SWITCH testing.

2004-01-29 18:05  koelimoe

	* src/libambulant/: common/region.cpp, common/smil_layout.cpp,
	  gui/SDL/sdl_audio.cpp, lib/time_node.cpp,
	  net/ffmpeg_datasource.cpp: switched of debug informatiion, and
	  some more tweaks to ffmpeg stuff

2004-01-29 18:05  kleanthis

	* include/ambulant/lib/test_attrs.h,
	  src/libambulant/lib/test_attrs.cpp,
	  src/libambulant/lib/string_util.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  include/ambulant/lib/string_util.h,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/timegraph.h: Add support for SWITCH and
	  system test attributes.

2004-01-29 16:29  keesblom

	* include/ambulant/gui/qt/qt_includes.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_fill.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_unix/qt_gui.cpp: Added qt_background_renderer & window
	  resize

2004-01-29 15:55  koelimoe

	* configure.in, include/ambulant/version.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/SDL/sdl_audio.cpp: Increased version number
	  to 0.3 Increased version number to 0.3 some tweaks to the SDL
	  stuff

2004-01-29 14:30  koelimoe

	* src/libambulant/gui/SDL/sdl_audio.cpp: tweaks

2004-01-29 13:46  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h: fix so it compiles if no
	  ffmpeg is required

2004-01-29 13:38  keesblom

	* src/libambulant/gui/qt/qt_fill.cpp: Added new file qt_fill.cpp
	  (which is almost empty right now)

2004-01-29 13:21  jackjansen

	* include/ambulant/common/region.h: iAdded missing "const".

2004-01-29 10:08  kleanthis

	* bin/win32/: player_wincon.exe, run.bat: Win32 player as a console
	  is not supported any more.

2004-01-29 10:02  kleanthis

	* bin/win32/DemoPlayer.exe: The latest binary.

2004-01-29 09:17  koelimoe

	* include/ambulant/compat/: limits, stl_config.h: Fix for the
	  zaurus limits probleem

2004-01-28 23:02  kleanthis

	* src/libambulant/common/smil_player.cpp: The destructor repeats
	  stop() operation. Use that.

2004-01-28 22:58  kleanthis

	* src/libambulant/gui/dx/: dx_video_player.cpp, dx_viewport.cpp,
	  dx_audio_player.cpp, dx_img.cpp, dx_video.cpp: Various minors

2004-01-28 22:56  kleanthis

	* include/ambulant/gui/dx/dx_viewport.h: Pass the video player as
	  argument instead of its components.

2004-01-28 18:00  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: tweaks

2004-01-28 17:01  jackjansen

	* Documentation/Design/README.txt,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/lib/layout.h, src/libambulant/common/region.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/mainloop.cpp: Lots of little tweaks.

2004-01-28 16:57  jackjansen

	* include/ambulant/net/datasource.h: Moved callback() to private:.

2004-01-28 16:39  keesblom

	* include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_fill.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/lib/delta_timer.cpp, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_mainloop.h: Added background drawing for
	  images

2004-01-28 16:22  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_mainloop.cpp: 1)
	  removed all compile errors out of  ffmpeg_audio_datasource.  2)
	  tweaks to some Makefile.am 3) implemented the ffmpeg_audio_source
	  into the SDL_audio_renderer

2004-01-28 16:03  jackjansen

	* Extras/readme.txt: Adding a few more demo presentations

2004-01-28 15:56  jackjansen

	* src/libambulant/common/region.cpp: Added missing return statement
	  (ouch).

2004-01-28 15:56  jackjansen

	* include/ambulant/gui/dx/dx_player_impl.h,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/libambulant_win32.vcproj: Adapted for new
	  mms_player

2004-01-28 13:29  jackjansen

	* Documentation/Design/models/: player.graffle, player.pdf: Updated
	  for 0.4

2004-01-28 13:28  jackjansen

	* src/player_unix/qt_mainloop.h: By default use the SMIL scheduler.

2004-01-28 11:31  koelimoe

	* include/ambulant/net/datasource.h: tweaks to make it compile
	  again

2004-01-28 10:50  koelimoe

	* include/ambulant/net/datasource.h: tweaks

2004-01-27 16:42  jackjansen

	* Documentation/Design/models/: datasource.graffle, datasource.pdf,
	  datasource_state.graffle, datasource_state.pdf: Updated to
	  current state of affairs.

2004-01-27 16:41  jackjansen

	* Documentation/Design/text/: overall.html, overall.txt,
	  playable.html: Minor updates, more to c ome.

2004-01-27 15:53  jackjansen

	* Documentation/Design/models/: clocks.graffle, clocks.pdf,
	  dataflow.graffle, dataflow.pdf, layout.graffle, layout.pdf,
	  playable.graffle, playable.pdf, playable_state.graffle,
	  playable_state.pdf, player.graffle, player.pdf, region.graffle,
	  region.pdf, renderer.graffle, renderer.pdf, timeline.graffle,
	  timeline.pdf: Added a text block "this document last updated for
	  ambulant version 0.X" to each file, so we (and, more important,
	  third parties) have a better idea of how outdated the information
	  is).

2004-01-27 15:44  koelimoe

	* configure.in, include/ambulant/net/Makefile.am,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/net/ffmpeg_datasource.cpp,
	  src/player_unix/Makefile.am: 1) added ffmpeg stuff into the
	  makefiles.  2) removed some more errors

2004-01-27 15:25  jackjansen

	* Documentation/Design/models/: dataflow.graffle, dataflow.pdf,
	  datasource.graffle, datasource.pdf, datasource_state.graffle,
	  datasource_state.pdf, layout.graffle, layout.pdf,
	  playable.graffle, playable.pdf, playable_state.graffle,
	  playable_state.pdf, player.graffle, player.pdf, region.graffle,
	  region.pdf, renderer.graffle, renderer.pdf: Getting started with
	  updating the UML diagrams to reflect the current state of
	  affairs. Layout, renderers and regions has been finished.
	  Datasource stuff needs some more work. Nodes, scheduler and
	  player TBD.

2004-01-26 18:44  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Added NULL initialization
	  for cross pointers and checks on them

2004-01-26 17:04  koelimoe

	* include/ambulant/net/datasource.h,
	  include/ambulant/net/ffmpeg_datasource.h,
	  src/libambulant/net/datasource.cpp,
	  src/libambulant/net/ffmpeg_datasource.cpp: rewrote the datasource
	  added a pure virtual base class for the datasource API and the
	  audio_datasource API.  Also rewrote the decoder skeleton into the
	  ffmpeg_d atasource

2004-01-26 16:48  jackjansen

	* src/player_unix/: qt_mainloop.cpp, qt_mainloop.h: Fixed for new
	  abstract_player interface. It does still crash, though.

2004-01-26 16:30  jackjansen

	* include/ambulant/common/Makefile.am,
	  include/ambulant/common/mms_player.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/smil_player.h,
	  include/ambulant/lib/Makefile.am, include/ambulant/lib/player.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/common/mms_player.cpp,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Created new abstract baseclass "abstract_player", made
	  smil_player a subclass of this. Revamped the old passive_player
	  and active_player into a single mms_player class. Changed various
	  include files around too for this.

	  This change should break nothing for smil_player users, but it
	  will break things for users of the old MMS player. I will fix Qt
	  shortly.

2004-01-26 13:38  kleanthis

	* src/libambulant/gui/dx/dx_gui.cpp: Fix comments wording.

2004-01-26 13:36  kleanthis

	* src/libambulant/gui/dx/dx_gui.cpp: Leave the caller delete the
	  window(s) created by the factory.  (Currently this is done by
	  passive_root_layout destructor)

2004-01-26 13:21  kleanthis

	* src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  include/ambulant/lib/time_node.h: Fix naming: defered ->
	  deferred.

2004-01-26 13:19  kleanthis

	* src/libambulant/common/smil_player.cpp: Cast basic to normal
	  renderer.

2004-01-26 13:12  kleanthis

	* src/libambulant/gui/dx/dx_gui.cpp,
	  include/ambulant/gui/dx/dx_gui.h: Add a dummy
	  new_background_renderer

2004-01-26 12:58  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Add some missing files.
	  Also, enable RTTI at least temporary to get a correct a bin.
	  RTTI availability should be discussed and it is in important
	  subject.

2004-01-26 12:55  jackjansen

	* include/ambulant/lib/time_node.h,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/lib/time_node.cpp: Minor fixes to get things
	  compiling again.

2004-01-26 12:46  kleanthis

	* src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_video.cpp,
	  src/libambulant/gui/dx/dx_video_player.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  include/ambulant/gui/dx/dx_viewport.h,
	  src/player_mfc/DemoPlayer.vcproj, src/player_mfc/MmView.cpp,
	  src/player_mfc/MmViewPlayer.h: Various improvements.

2004-01-26 12:44  kleanthis

	* src/libambulant/common/smil_player.cpp: pause_playable accepts a
	  second argument specifying the display mode while paused. Used by
	  EXCL.  Also, handle mouse clicks in an ad-hoc way until i
	  understand how to handle mouse regions.

2004-01-26 12:36  kleanthis

	* include/ambulant/common/smil_player.h: pause_playable accepts a
	  second argument specifying the display mode while paused. Used by
	  EXCL.

2004-01-26 12:30  kleanthis

	* include/ambulant/common/renderer.h: Allow a client to ask a
	  renderer for its rendering surface.

2004-01-26 12:25  kleanthis

	* include/ambulant/lib/playable.h: Define pause_display enumeration
	  in this header.  Normally pause should be modified to accept a
	  value argument from this enumeration.  This interface change is
	  postponed.

2004-01-26 12:20  kleanthis

	* src/libambulant/lib/time_attrs.cpp,
	  include/ambulant/lib/time_attrs.h: Parse priorityClass attributes
	  and built the appropriate data structure to hold the attributes.

2004-01-26 12:17  kleanthis

	* src/libambulant/lib/time_state.cpp: Some refinements related to
	  EXCL handling.

2004-01-26 12:15  kleanthis

	* src/libambulant/lib/timegraph.cpp,
	  include/ambulant/lib/timegraph.h: Recognize the logical "prev"
	  sync base.

2004-01-26 12:13  kleanthis

	* src/libambulant/lib/time_node.cpp,
	  include/ambulant/lib/time_node.h: Some more refinements on EXCL
	  handling.

2004-01-23 13:35  kleanthis

	* src/libambulant/lib/timegraph.cpp: Build priority class data
	  structures when building the timegraph.

2004-01-23 13:30  kleanthis

	* include/ambulant/lib/time_node.h: Add support for the excl
	  element.  Further refinements are needed but we can already play
	  more complex documents than the Birthday demo.  The addition of
	  excl makes now urgent handling correctly mouse clicks (at least
	  the win32 player fails to do so).

2004-01-23 13:27  kleanthis

	* src/libambulant/lib/time_node.cpp: Add support for the excl
	  element.  Further refinements are needed but we can already play
	  more complex documents than the Birthday demo.  The addition of
	  excl makes now urgent handling correctly mouse clicks (at least
	  the win32 player fails to do so).

2004-01-21 23:24  jackjansen

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Dependencies and the class browser work!!

	  At the expense of having to put full pathnames into the include
	  dir (-I) options, so the project needs fiddling when run by
	  anyone but me, but I think that's worth it for now.

2004-01-21 17:30  koelimoe

	* include/ambulant/lib/smil_time.h: 1) Made a small change to
	  smill_time.h to include the limit that works for the zaurus.
	  (Added as a comment).  2) Added the linux audio decoder
	  skeletons.

2004-01-21 15:13  jackjansen

	* src/: libambulant/common/smil_layout.cpp,
	  libambulant/common/smil_player.cpp, player_macosx/MyDocument.mm,
	  player_macosx/mainloop.cpp, player_macosx/mainloop.h: Create the
	  smil_player when opening the document, not when playing it.
	  Together with some more rigorous thinking of what to destruct
	  when this makes documents playable multiple times, and cleanup
	  work as expected.

2004-01-21 12:37  jackjansen

	* include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/none/none_gui.cpp: Adapted the tests for the
	  API change wrt. background renderers.

2004-01-21 12:32  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/common/region.cpp: Commented in test
	  m_mouse_region && m_parent not being NULL before playing with
	  them in :mouse_region_changed(); it caused a core dump

2004-01-21 00:33  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/mainloop.h: Started on cleaning up the trash
	  behind us. Seems to work, at least on MacOSX. You still can't
	  play a document twice, though, without reopening
	  (smil_layout_manager needs work).

2004-01-20 17:52  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/player_unix/qt_mainloop.cpp: Changed from ARTS to SDL, starts
	  to work

2004-01-20 17:00  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h: tweaks

2004-01-20 16:48  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/layout.h, src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/lib/colors.cpp: abstract_bg_rendering_source is
	  no longer a subclass of abstract_rendering_source: it is now a
	  stateless object and you pass the info and rendering_surface
	  objects every time you want a background rendered. There is now
	  one background renderer per toplevel window (could be global, but
	  this was easier) that is shared by all regions. The factory
	  function has moved to the window_factory class.

2004-01-20 16:37  keesblom

	* include/ambulant/gui/qt/Makefile.am: Renamed qt.h to
	  qt_includes.h

2004-01-20 13:22  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/smil_player.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/layout.h,
	  src/libambulant/Makefile.am, src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_fill.m,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/Info.plist: Merging
	  experimental_jack_basicrenderer branch: - active_basic_renderer
	  is now the "default" renderer class, it provides the complete API
	  (including redraws). Active_renderer only adds datasource usage.
	  new_renderer() returns active_basic_renderers.  - Were moving
	  towards a design where all the info for region creation and
	  maintainance is gathered from an abstract_smil_region_info
	  object.  All the arguments to the region constructor will slowly
	  go.  - z-order is partially implemented, as is background
	  filling.  - Cocoa player now also uses top-left=(0, 0). And
	  images and text are rendered with the correct orientation:-)

2004-01-20 13:17  koelimoe

	* src/: libambulant/Makefile.am, libambulant/gui/SDL/sdl_audio.cpp,
	  player_unix/Makefile.am: Merged the experimental SDL mixer
	  branch.

2004-01-20 12:20  kleanthis

	* src/libambulant/gui/dx/dx_viewport.cpp: Clip dx-regions to the
	  dx-viewport.	We need access to the layout hierarchy and the fit
	  attribute to do the corect painting in more complex situations.

2004-01-20 11:45  kleanthis

	* src/player_mfc/wmuser.h: WM_USER category messages.

2004-01-20 11:45  kleanthis

	* src/player_mfc/: DemoPlayer.vcproj, MainFrm.cpp, MmView.cpp,
	  MmView.h, MmViewPlayer.h: Adjust window size according to the top
	  layout size.

2004-01-20 11:43  kleanthis

	* src/libambulant/gui/dx/: dx_gui.cpp, dx_player.cpp, dx_text.cpp,
	  dx_viewport.cpp: Details.

2004-01-20 11:42  kleanthis

	* src/libambulant/common/smil_layout.cpp: Use preferences const for
	  default layout.

2004-01-20 11:41  kleanthis

	* include/ambulant/gui/dx/dx_viewport.h: Use preferences const for
	  default arguments.

2004-01-20 11:39  kleanthis

	* include/ambulant/common/preferences.h: A header for storing hard
	  coded preferences.  We will need at some point an external config
	  file.

2004-01-20 10:11  kleanthis

	* include/ambulant/lib/gtypes.h: Define repr() for sizes.

2004-01-20 10:10  kleanthis

	* include/ambulant/lib/string_util.h: Define to string output
	  operator for unsigned int.

2004-01-20 10:09  kleanthis

	* src/libambulant/common/region.cpp: Fix some crashes so that we
	  can continue development.  abstract_smil_region_info may be null
	  so protect the code against the fact.

2004-01-20 09:15  koelimoe

	* src/libambulant/gui/SDL/sdl_audio.cpp: Mixing works

2004-01-19 21:22  kleanthis

	* src/libambulant/common/smil_layout.cpp: Fix some id printouts.
	  The id maybe null.

2004-01-19 21:20  kleanthis

	* include/ambulant/lib/colors.h: Explicitly cast to float to avoid
	  compiler warnings.

2004-01-19 21:19  kleanthis

	* include/ambulant/lib/schema.h: Schema get_layout_elements()
	  returned the time elements instead of the layout elements.

2004-01-19 21:17  kleanthis

	* include/ambulant/lib/string_util.h: Transfer string output
	  operators to the global namespace.

2004-01-19 21:16  kleanthis

	* include/ambulant/lib/gtypes.h: Add a repr() function for
	  screen_rect and point.

2004-01-19 21:13  kleanthis

	* src/libambulant/common/smil_player.cpp,
	  include/ambulant/common/smil_player.h: Factor out renderer
	  creation.

2004-01-19 20:53  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/lib/document.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/player_macosx/Info.plist: - Fixed back-to-front rendering of
	  Cocoa text - implemented z-index and showBackground - started on
	  getting region information straight from the info struct, with
	  local caching only.

2004-01-17 00:40  jackjansen

	* src/libambulant/: common/region.cpp, gui/cocoa/cocoa_image.mm:
	  Fixed crash with default layout.

2004-01-17 00:26  jackjansen

	* src/libambulant/common/region.cpp: implemented fit handling.

2004-01-16 23:33  jackjansen

	* include/ambulant/common/region_dim.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm: - "fraction" or
	  "percentage" is a difference of two orders of magnitude:-) -
	  minor cleanup.

2004-01-16 18:05  keesblom

	* include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_includes.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/lib/layout.h,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_gui.h, src/player_unix/qt_mainloop.cpp,
	  src/player_unix/qt_mainloop.h: Reorganized qt_player code to get
	  better separation of GUI and renderer codes. paintEvents are now
	  received and handled properly.  Needed to go back to
	  include/ambulant/lib/layout.h version 1.4 to be able to compile
	  with version gcc 3.2

2004-01-16 16:41  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/layout.h, src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/none/none_gui.cpp: A few more steps towards
	  rendering backgrounds.

2004-01-16 16:33  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: SDL mixer supports now the
	  mixing  multiple sound channels

2004-01-16 01:23  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/none/none_gui.cpp: Started on the background
	  renderer.

2004-01-16 00:28  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/layout.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timelines.cpp: Got the new structure for
	  active_basic_renderer and active_render to work, after a lot of
	  wailing and gnashing of teeth.

2004-01-15 16:51  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/lib/smil_time.h, src/libambulant/Makefile.am,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/player_unix/Makefile.am: Almost changed everything to
	  SDL_mixer

2004-01-15 16:39  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/smil_player.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_fill.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Refactoring renderer
	  classes.

2004-01-15 11:00  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: tweaks

2004-01-15 00:09  jackjansen

	* include/ambulant/gui/cocoa/cocoa_fill.h,
	  src/libambulant/gui/cocoa/cocoa_fill.m,
	  src/libambulant/gui/cocoa/cocoa_fill.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on a new renderer that handles filling, and will probably
	  also be used (or a subclass) to handle background fills.
	  Unfortunately this pointed out some problems (again) with the
	  active_renderer and friends, so it doesn't work yet, but I need
	  to get it off my laptop.

2004-01-14 17:04  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: Starting to add audio
	  mixing to the SDL renderer

2004-01-14 14:11  koelimoe

	* src/libambulant/lib/time_attrs.cpp: Tweak so it compiles with the
	  arm cross compiler

2004-01-14 13:28  jackjansen

	* Extras/DemoPresentation/Demo.smil, include/ambulant/lib/colors.h,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Things
	  are slowly startnig to work: background color from the region is
	  now picked up correctly.

2004-01-13 23:49  jackjansen

	* Extras/DemoPresentation/: Demo.smil, Demo_wav.smil: AARGH! The
	  demo document had incorrect region sizes...

2004-01-13 17:12  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/region_info.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/lib/layout.h, src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  an abstract_smil_region_info class allowing you to get info like
	  background color, z-index, etc. Allow access to this info from
	  abstract_rendering_surface objects. Implement this interface in
	  region_node and fill in the info in smil_layout.cpp.

	  Nothing of this is used yet, that'll be implemented later.

2004-01-13 17:03  koelimoe

	* include/ambulant/gui/SDL/sdl_audio.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp: implemented the
	  freeze/stop/pause functions

2004-01-12 16:46  jackjansen

	* include/ambulant/common/region.h, include/ambulant/lib/layout.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm: Added get_fit_rect() to
	  abstract_rendering_surface. You pass it a size, it returns a rect
	  on the source and a screen_rect on the destination.  Renderers
	  should then bitblit that source area to the destination.

	  For now get_fit_rect() only implements fit=fill (i.e. nothing
	  changes visually) but that's up next.

2004-01-12 15:06  jackjansen

	* include/ambulant/common/player.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/node.h,
	  include/ambulant/lib/schema.h,
	  include/ambulant/lib/tree_builder.h, src/libambulant/Makefile.am,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/node.cpp, src/libambulant/lib/schema.cpp,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/English.lproj/MyDocument.nib/info.nib,
	  src/player_macosx/English.lproj/MyDocument.nib/objects.nib,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging experimental_jack_smillayout branch into main tree.

2004-01-12 14:38  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: - Adjust size of toplevel
	  window when SMIL code requires that - Changed the way the
	  cocoa_window and AmbulantView are tied   together.  - Better
	  debug output.

2004-01-12 14:36  jackjansen

	* src/player_macosx/English.lproj/MyDocument.nib/: info.nib,
	  objects.nib: The ambulant widget should change size with the
	  window.

2004-01-12 12:44  jackjansen

	* src/libambulant/common/region.cpp: Defensive programming: allow
	  for m_gui_window==NULL without crashing.

2004-01-10 12:17  kleanthis

	* include/ambulant/lib/parselets.h,
	  src/libambulant/lib/parselets.cpp: Add a fast-and-dirty
	  coordinates parser.

2004-01-09 23:51  jackjansen

	* src/libambulant/: Makefile.am, common/smil_layout.cpp: - Got unix
	  Makefiles to work again - Fixed warning

2004-01-09 17:04  koelimoe

	* src/libambulant/gui/SDL/sdl_audio.cpp: put the initialiisation of
	  SDL in a better place

2004-01-09 16:48  jackjansen

	* include/ambulant/common/smil_layout.h,
	  src/libambulant/common/smil_layout.cpp: Added quick-and-dirty
	  parsing of the layout attributes.

2004-01-09 16:11  jackjansen

	* include/ambulant/common/region_node.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/schema.h,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/lib/schema.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Regions now seem to be built correctly, and we have support
	  (untested) for all of SMIL 1.0-style layout, SMIL 2.0 basic
	  layout and SMIL 2.0 hierarchical layout.

2004-01-09 15:48  koelimoe

	* include/ambulant/gui/SDL/Makefile.am: This Makefile.am is needed
	  ofcourse.

2004-01-09 15:39  koelimoe

	* README-ZAURUS, include/ambulant/gui/SDL/sdl.h,
	  include/ambulant/lib/parselets.h,
	  include/ambulant/lib/string_util.h,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_mainloop.cpp:
	  tweaks

2004-01-09 10:04  koelimoe

	* include/ambulant/gui/arts/arts.h, src/player_unix/Makefile.am:
	  fixed some errors in Makefile.am.

2004-01-09 00:36  jackjansen

	* include/ambulant/common/region_node.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/lib/document.h,
	  src/libambulant/common/region_node.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  Split region_node.cpp out from region_node.h.  - Added an extra
	  step (between parsing the tree and running it) where	 we examine
	  the layout section and fill it with the relevant values.
	  Doesn't work yet, but hey!

2004-01-08 16:54  koelimoe

	* configure.in, include/ambulant/common/renderer.h,
	  include/ambulant/gui/Makefile.am, include/ambulant/gui/SDL/sdl.h,
	  include/ambulant/gui/SDL/sdl_audio.h,
	  include/ambulant/gui/arts/arts.h, src/libambulant/Makefile.am,
	  src/libambulant/gui/SDL/sdl.cpp,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts.cpp, src/player_unix/Makefile.am,
	  src/player_unix/qt_mainloop.cpp: tweaks in the arts stuff and a
	  non compiling sdl audio renderer

2004-01-07 18:14  kleanthis

	* src/libambulant/common/timeline_builder.cpp: Activate the video
	  nodes similarly to img ones for the MMS layout.

2004-01-07 18:09  kleanthis

	* include/ambulant/gui/dx/dx_gui.h,
	  src/libambulant/gui/dx/dx_gui.cpp: Add the missing mouse related
	  functions. Now as dummy.

2004-01-07 17:21  jackjansen

	* include/ambulant/common/player.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/lib/node.h, src/libambulant/common/player.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/lib/node.cpp,
	  src/libambulant/lib/tree_builder.cpp: More bits and pieces. The
	  only thing left to do (I think) is getting the coordinate data
	  into the region_node objects. And debugging:-)

2004-01-07 17:12  koelimoe

	* include/ambulant/gui/arts/arts.h,
	  include/ambulant/gui/arts/decoder.h,
	  include/ambulant/gui/arts/decoder_skeleton.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/gui/SDL/sdl_audio.cpp,
	  src/libambulant/gui/arts/arts_audio.cpp,
	  src/libambulant/gui/arts/decoder_skeleton.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/net/datasource.cpp: Datasource has a new buffer
	  now

2004-01-07 15:20  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: Finnished with the bug spray.

2004-01-07 15:19  jackjansen

	* include/ambulant/common/smil_layout.h,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp: Use the SMIL layout
	  manager. Not that it does a lot just yet: it always returns the
	  default region.

2004-01-07 15:15  jackjansen

	* src/libambulant/lib/: time_state.cpp, timegraph.cpp,
	  sync_rule.cpp, time_node.cpp: Put all debug output behind AM_DBG
	  conditional.

2004-01-07 00:23  jackjansen

	* include/ambulant/common/region_node.h,
	  include/ambulant/common/smil_layout.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/lib/schema.h,
	  include/ambulant/lib/tree_builder.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/smil_layout.cpp,
	  src/libambulant/common/smil_player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/lib/schema.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Getting started on SMIL 2.0 layout. Most of the structure is
	  there, and things actually compile, but there's a lot of code
	  that still needs to be written.

2004-01-06 16:50  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: Using a lot of bug spray on
	  the new datasource

2004-01-05 16:18  koelimoe

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: tweaks

2004-01-05 15:20  koelimoe

	* configure.in, include/ambulant/gui/qsound/qsound_audio.h,
	  src/libambulant/gui/qsound/qsound_audio.cpp,
	  src/libambulant/gui/qsound/qsound_factory.cpp,
	  src/player_unix/qt_gui.cpp, src/player_unix/qt_mainloop.cpp,
	  src/player_unix/qt_mainloop.h: Last minut checkin of some files a
	  forgot to checkin.

2004-01-05 15:16  koelimoe

	* src/libambulant/lib/schema.cpp: minor tweak to make it compile on
	  Linux

2004-01-05 13:11  koelimoe

	* include/ambulant/gui/SDL/: sdl.h, sdl_audio.h: SDL audio renderer
	  header files

2004-01-05 13:10  koelimoe

	* src/libambulant/gui/SDL/: sdl.cpp, sdl_audio.cpp: The SDL audio
	  renderer for the zaurus PDA and Linux

2003-12-30 15:02  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/lib/layout.h, include/ambulant/lib/playable.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/player_macosx/mainloop.h,
	  src/player_macosx/English.lproj/MyDocument.nib/info.nib,
	  src/player_macosx/English.lproj/MyDocument.nib/objects.nib:
	  Merging experimental_jack_mouseregion branch. This gives us mouse
	  event handling.

	  Cocoa and Qt support code has been added, Windows code probably
	  needs a bit of work (initially dummy new_mouse_region() method in
	  the window factory, user_event() and mouse_region_changed()
	  methods in the window class).

2003-12-30 14:29  jackjansen

	* include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  include/ambulant/lib/timegraph.h,
	  include/ambulant/lib/trace_playable.h,
	  src/libambulant/Makefile.am, src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  src/libambulant/lib/trace_player.cpp,
	  src/player_macosx/Makefile.am,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Mass
	  checkin of things that were needed to get the new scheduler
	  working on MacOSX: - Adding relevant files to Makefiles and
	  projects - Renaming "id" to "ident" everywhere (id is a reserved
	  word for ObjC(++)).  - Added get_cookie() plus support to
	  trace_playable.  - Added a missing c_str() in a trace call in
	  sync_rule.cpp.  - Added the & gcc requires when taking a method
	  address.

2003-12-29 19:08  kleanthis

	* src/libambulant/gui/dx/: dx_text.cpp, dx_img.cpp: Fixes for when
	  the node repeats.

2003-12-29 19:07  kleanthis

	* src/player_mfc/res/: DemoPlayer.ico, Toolbar.bmp: Add a show
	  source and show log commands to facilitate testing.

2003-12-29 19:06  kleanthis

	* src/player_mfc/: DemoPlayer.aps, DemoPlayer.rc,
	  DemoPlayer.vcproj, MmView.cpp, MmView.h, resource.h: Add a show
	  source and show log to facilitate testing.

2003-12-29 19:01  kleanthis

	* include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  src/libambulant/lib/time_node.cpp: Tuning and some details.

2003-12-28 19:25  kleanthis

	* include/ambulant/lib/callback.h,
	  include/ambulant/lib/time_node.h,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/common/smil_player.cpp: Allow for raising events
	  asynchronously. This makes UI intercation more smooth.

2003-12-28 17:46  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Update project with
	  smil time source file.

2003-12-28 17:44  kleanthis

	* src/libambulant/lib/win32/win32_event_processor.cpp: Initialize
	  COM libs for DX player.

2003-12-28 17:43  kleanthis

	* src/player_mfc/: MmView.cpp, MmView.h, MmViewPlayer.h: Propagate
	  clicks and keyboard input for activateEvent and accesskey.

2003-12-28 17:39  kleanthis

	* include/ambulant/common/smil_player.h: Update smil player
	  interface.

2003-12-28 17:37  kleanthis

	* include/ambulant/gui/dx/: dx_video.h, dx_video_player.h,
	  dx_player.h, dx_player_impl.h, dx_viewport.h: Add a video
	  renderer.

2003-12-28 17:36  kleanthis

	* include/ambulant/gui/dx/: dx_audio.h, dx_audio_player.h:
	  Re-design audio player as a playable.

2003-12-28 17:32  kleanthis

	* src/libambulant/gui/dx/: dx_audio_player.cpp, dx_audio.cpp:
	  Re-design audio player as a playable.

2003-12-28 17:31  kleanthis

	* src/libambulant/gui/dx/: dx_video.cpp, dx_video_player.cpp,
	  dx_gui.cpp, dx_img.cpp, dx_player.cpp, dx_text.cpp,
	  dx_viewport.cpp: Add a video renderer for testing and playing.

2003-12-28 17:28  kleanthis

	* src/libambulant/common/smil_player.cpp: The experimenatl smil
	  player supports now accesskey, click events etc.

2003-12-28 17:25  kleanthis

	* include/ambulant/lib/node.h, include/ambulant/lib/playable.h,
	  src/libambulant/lib/node.cpp: Allow a node to carry an integer
	  identifier. Simplify playable by keeping only the integer
	  version.  This forces the smil scheduler to keep a map but this
	  seems less bad than other solutions.

2003-12-28 17:17  kleanthis

	* include/ambulant/lib/time_state.h,
	  include/ambulant/lib/smil_time.h,
	  include/ambulant/lib/sync_rule.h,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_node.h,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/smil_time.cpp: Bring the timing stuff to the
	  level desired for the next release.  All the timing modules are
	  implemented except Excl/restart, and SyncBehavior.

2003-12-28 17:11  kleanthis

	* include/ambulant/lib/timegraph.h,
	  src/libambulant/lib/timegraph.cpp: Build the complete timegraph.

2003-12-24 16:40  kleanthis

	* include/ambulant/lib/sync_rule.h,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp: Important change: Raise the
	  floating timestamp to an unambiguous time instance within the
	  model.  This will make the code both cleaner and verifiable.

	  Minors: Schedule begin offsets (positive or negative) Remove
	  critical section from time node (if proven needed we may find a
	  workaround) More uniform tracing.

2003-12-24 12:44  kleanthis

	* src/libambulant/common/smil_player.cpp: Forgot to check-in this.

2003-12-23 18:14  kleanthis

	* include/ambulant/: lib/delta_timer.h, lib/event.h,
	  lib/event_processor.h, lib/time_node.h, lib/trace_player.h,
	  common/smil_player.h: Canceling events plus some other details.

2003-12-23 18:13  kleanthis

	* src/libambulant/lib/: time_node.cpp, time_state.cpp,
	  trace_player.cpp: Bind the cancel event mechanism.

2003-12-23 18:11  kleanthis

	* src/libambulant/lib/delta_timer.cpp: Add a function for canceling
	  events.

2003-12-23 15:51  jackjansen

	* include/ambulant/lib/smil_time.h: Added a missing parenthesis.

2003-12-23 15:51  jackjansen

	* src/player_macosx/: mainloop.cpp, mainloop.h,
	  fullcocoambulant.pbproj/project.pbxproj: Allow use of either the
	  old MMS scheduler or Kleanthis' new scheduler (based on a define
	  of WITH_MMS_SCHEDULER). The new scheduler does little more than
	  printing some stuff, but at least it doesn't crash:-)

2003-12-23 15:15  kleanthis

	* include/ambulant/lib/document.h: Add a document factory function
	  for creating also docs from strings.

2003-12-23 15:01  kleanthis

	* src/libambulant/lib/time_attrs.cpp,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/trace_playable.h: Replace
	  smil_time<double>::indefinite() with its actual value
	  std::numeric_limits<double>::max() Plus some other details.

2003-12-23 12:47  kleanthis

	* src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/trace_playable.h,
	  include/ambulant/lib/trace_player.h: Some fixes and some more
	  traces to help debugging.

2003-12-23 12:45  kleanthis

	* include/ambulant/lib/string_util.h: Workaround for toolsets with
	  missing stringstream functionality.  It is a pain to pollute
	  unnecessary for simple things the source code with those ugly
	  #ifdefs

2003-12-23 09:50  kleanthis

	* src/libambulant/lib/time_attrs.cpp: Add static
	  lib::smil_time<double> dummy; to force all compilers to create
	  code for this template instance.

2003-12-23 09:17  kleanthis

	* src/libambulant/libambulant_win32.vcproj: The latest version of
	  the VC 7.1 project.

2003-12-23 09:14  kleanthis

	* include/ambulant/lib/trace_playable.h,
	  include/ambulant/lib/trace_player.h,
	  src/libambulant/lib/trace_player.cpp: A no-gui player and
	  playable for testing scheduling related features

2003-12-22 16:49  kleanthis

	* include/ambulant/common/smil_player.h,
	  src/libambulant/common/smil_player.cpp: Update smil_player.

2003-12-22 15:09  kleanthis

	* include/ambulant/lib/smil_time.h: Add missing time_type_to_secs()
	  function. Sorry, i had to redo the offline changes and forgot to
	  add this.

2003-12-22 11:49  jackjansen

	* src/libambulant/: common/region.cpp, common/timelines.cpp,
	  gui/cocoa/cocoa_gui.mm: Disabled debug output

2003-12-19 16:15  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Started on getting this
	  to work for Qt too.

2003-12-19 13:30  jackjansen

	* include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/player_macosx/English.lproj/MyDocument.nib/info.nib,
	  src/player_macosx/English.lproj/MyDocument.nib/objects.nib:
	  Tweaks.

2003-12-19 01:22  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: Event routing and
	  communication of mouse regions works.

2003-12-19 00:07  kleanthis

	* include/ambulant/lib/smil_time.h: Since std streams are actually
	  not supported entities on the platforms we are interested try to
	  minimize their usage.

2003-12-19 00:01  kleanthis

	* src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  include/ambulant/lib/parselets.h,
	  include/ambulant/lib/time_attrs.h: Start using timing the
	  attributes in scheduling playback.

2003-12-18 23:59  jackjansen

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: Started on code to
	  communicate mouse regions to cocoa.  Started on event routing
	  code.

2003-12-18 13:03  koelimoe

	* include/ambulant/gui/qsound/qsound_audio.h,
	  include/ambulant/gui/qsound/qsound_factory.h,
	  src/libambulant/gui/qsound/qsound_audio.cpp,
	  src/libambulant/gui/qsound/qsound_factory.cpp,
	  src/player_unix/Makefile.am: Tweaks

2003-12-18 12:01  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_mouse.h,
	  include/ambulant/lib/layout.h, src/libambulant/common/region.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: A few
	  more bits and pieces of the mouse region implementation.

2003-12-18 11:07  kleanthis

	* include/ambulant/lib/time_node.h: Query a playable for its
	  duration.

2003-12-18 11:01  kleanthis

	* src/libambulant/lib/time_node.cpp,
	  include/ambulant/common/smil_player.h: Query a playable for its
	  duration.

2003-12-17 23:52  kleanthis

	* include/ambulant/lib/time_attrs.h,
	  src/libambulant/lib/time_attrs.cpp: Fill-in some gaps: parse
	  endsync and accesskey plus some other minors.

2003-12-17 22:33  kleanthis

	* include/ambulant/lib/string_util.h: Remove scope operator from
	  "isspace" to make arm-linux compiler happy (as proposed by
	  Daniel).

2003-12-17 17:12  jackjansen

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/layout.h, include/ambulant/lib/playable.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/delta_timer.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Starting on handling mouse input. I don't like the design of this
	  yet (it's partially bottom-up, partially top-down), but I can't
	  seem to get my brain around a correct way to do this.

	  Checking in on a branch so I can continue at home.

2003-12-17 13:35  koelimoe

	* include/ambulant/gui/qsound/qsound_audio.h,
	  include/ambulant/gui/qsound/qsound_factory.h,
	  src/libambulant/gui/qsound/qsound_audio.cpp,
	  src/player_unix/qt_mainloop.cpp: tweaks

2003-12-17 13:34  koelimoe

	* include/ambulant/gui/qsound/Makefile.am: makefile.am for the
	  zaurus sound stuff

2003-12-17 13:33  koelimoe

	* configure.in, include/ambulant/gui/Makefile.am,
	  src/libambulant/Makefile.am, src/player_unix/Makefile.am:
	  Addapded for the Zaurus sound code

2003-12-16 23:49  kleanthis

	* src/libambulant/lib/parselets.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  include/ambulant/lib/parselets.h,
	  include/ambulant/lib/string_util.h,
	  include/ambulant/lib/time_attrs.h: Parse almost all timing
	  attributes.  Now that we have the correct infrastructure this
	  task is very simple if not trivial.

2003-12-15 23:39  kleanthis

	* include/ambulant/lib/string_util.h: Fix a very nasty bug here.

2003-12-15 23:38  kleanthis

	* include/ambulant/lib/parselets.h,
	  src/libambulant/lib/parselets.cpp: A lot of new stuff plus a
	  parselet for syncbase values.

2003-12-15 16:56  koelimoe

	* src/libambulant/gui/qsound/: qsound_audio.cpp,
	  qsound_factory.cpp: Zaurus audio code

2003-12-15 16:55  koelimoe

	* include/ambulant/gui/qsound/: qsound_audio.h, qsound_factory.h:
	  Zaurus Audio headers

2003-12-15 15:31  keesblom

	* include/ambulant/: common/region_dim.h, config/compiler/gcc.h,
	  lib/colors.h, lib/document.h, lib/gtypes.h, lib/nfa.h,
	  lib/node.h, lib/smil_time.h, lib/time_node.h, lib/timegraph.h,
	  net/datasource.h: For gcc2.95, #define AMBULANT_NO_OSTREAM and
	  use <ostream.h> instead of <ostream>

2003-12-15 13:57  jackjansen

	* src/player_macosx/: cocoambulant.pbproj/project.pbxproj,
	  fullcocoambulant.pbproj/project.pbxproj: Adapted for new
	  sourcefiles.

2003-12-15 11:57  koelimoe

	* include/ambulant/: gui/arts/arts.h, gui/arts/decoder.h,
	  gui/arts/decoder_skeleton.h, net/datasource.h: tweaks

2003-12-15 11:56  koelimoe

	* src/libambulant/: gui/qt/qt_renderer.cpp, net/datasource.cpp: [no
	  log message]

2003-12-15 11:55  koelimoe

	* src/libambulant/gui/arts/decoder_skeleton.cpp: start of the
	  skeleton decoder c++ code

2003-12-15 09:54  koelimoe

	* include/ambulant/gui/arts/decoder_skeleton.h: added function to
	  select decoder type

2003-12-12 18:22  keesblom

	* README-ZAURUS, configure.in, include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/logger.h,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/timegraph.h,
	  include/ambulant/lib/unix/unix_mtsync.h, src/Makefile.am,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/lib/delta_timer.cpp, src/player_unix/Makefile.am,
	  src/player_unix/qt_gui.cpp: Added Sharp SL-5600 Zaurus port.

2003-12-12 16:59  koelimoe

	* src/libambulant/net/datasource.cpp,
	  include/ambulant/net/datasource.h: added a function to return the
	  pointer to the beginning of the buffer

2003-12-12 16:55  kleanthis

	* src/libambulant/lib/nfa.cpp: Change long return type name with
	  something equivalent but shorter.

2003-12-12 16:54  koelimoe

	* src/libambulant/gui/arts/arts_audio.cpp: arts audio uses the new
	  datasource structure

2003-12-12 16:49  kleanthis

	* include/ambulant/lib/nfa.h: Use Jack's sugestion for passing
	  arguments to matches()

2003-12-12 16:31  koelimoe

	* include/ambulant/gui/arts/decoder_skeleton.h: decoder datasource
	  skeleton first try

2003-12-12 16:29  koelimoe

	* include/ambulant/net/datasource.h: some minor tweaks

2003-12-12 13:02  kleanthis

	* include/ambulant/lib/parselets.h: Parse any list of types for
	  which a parselet exists.  Simplify optional and pairs usage.

2003-12-12 11:46  kleanthis

	* include/ambulant/lib/parselets.h, include/ambulant/lib/nfa.h,
	  include/ambulant/lib/string_util.h,
	  src/libambulant/lib/parselets.cpp, src/libambulant/lib/nfa.cpp:
	  After a lot of experimentation on parsing attributes, the "keep
	  it simple" principle won. My conclusion is that attribute parsing
	  can be done more easily using a set of atomic parsers that can be
	  combined in various ways to form more complex ones. The regex
	  (nfa) approach seems not to be best vehicle for our needs.
	  Currently an nfa-based parser is also provided but future
	  versions may remove this support along with all the nfa stuff.

2003-12-12 11:12  koelimoe

	* include/ambulant/net/datasource.h: header file for the datasource

2003-12-11 15:15  koelimoe

	* src/libambulant/net/datasource.cpp:  new buffer code but still
	  untested

2003-12-09 10:20  koelimoe

	* include/ambulant/net/datasource.h: Start on the new datasource

2003-12-09 00:23  kleanthis

	* src/libambulant/libambulant_win32.vcproj: An experimental player
	  for testing the new smil scheduler.  The win32 player started
	  using the new scheduler.  Since attr parsing and proper layout
	  has not been added yet it can play only MMS documents.  But
	  anyway the new scheduler is now alive.

2003-12-09 00:19  kleanthis

	* src/libambulant/: common/smil_player.cpp, gui/dx/dx_player.cpp,
	  gui/dx/dx_viewport.cpp, lib/time_state.cpp, lib/nfa.cpp,
	  lib/time_node.cpp: An experimental player for testing the new
	  smil scheduler.  The win32 player started using the new
	  scheduler.  Since attr parsing and proper layout has not been
	  added yet it can play only MMS documents.  But anyway the new
	  scheduler is now alive.

2003-12-09 00:16  kleanthis

	* include/ambulant/: common/smil_player.h, lib/time_node.h,
	  lib/string_util.h, lib/nfa.h, gui/dx/dx_player_impl.h: An
	  experimental player for testing the new smil scheduler.  The
	  win32 player started using the new scheduler.  Since attr parsing
	  and proper layout has not been added yet it can play only MMS
	  documents.  But anyway the new scheduler is now alive.

2003-12-08 11:27  koelimoe

	* configure.in: Removed the ugly error message configure gave if
	  there is no arts-devel stuff installed.

2003-12-05 16:04  koelimoe

	* include/ambulant/gui/arts/decoder.h: first draft of the header
	  file for the audio decoder.

2003-12-05 14:46  jackjansen

	* include/ambulant/lib/Makefile.am, src/libambulant/Makefile.am:
	  Adapted the makefiles for the new files added by KK.

2003-12-05 14:17  jackjansen

	* Documentation/Design/models/: datasource_state.graffle,
	  datasource_state.pdf: Changed layout to allow more easy
	  top-to-bottom reading.

2003-12-05 14:05  jackjansen

	* Documentation/Design/models/: datasource_state.graffle,
	  datasource_state.pdf: When getting dataAvail while waiting we
	  should also test for EOF.

2003-12-05 13:53  jackjansen

	* Documentation/Design/models/: datasource_state.graffle,
	  datasource_state.pdf: State diagram for data sources.

2003-12-05 13:21  kleanthis

	* src/libambulant/lib/win32/win32_timer.cpp: Use global namespace
	  floor for portability.

2003-12-05 13:19  kleanthis

	* include/ambulant/net/url.h: A simplification and portability
	  change.

2003-12-05 13:18  kleanthis

	* src/libambulant/net/url.cpp: A simplification and protability
	  change.

2003-12-05 13:17  kleanthis

	* src/libambulant/lib/nfa.cpp: Remove a cout printout and fix
	  misspositioned bracket visible on platforms withoout iostreams.

2003-12-05 13:01  kleanthis

	* include/ambulant/lib/node.h: Restore the exact state the node had
	  before g++ 2.95 porting Please update me on any compilation
	  problems you see.

2003-12-05 13:00  kleanthis

	* src/libambulant/lib/node.cpp: Restore the exact state the node
	  had before g++ 2.95 prorting Please update me on any compilation
	  problems you see.

2003-12-05 12:48  kleanthis

	* include/ambulant/lib/nfa.h, src/libambulant/lib/nfa.cpp: Add
	  again the nfa stuff but this time in a separate file.

2003-12-05 12:47  kleanthis

	* include/ambulant/lib/string_util.h: Make the builtin behavior of
	  the scanner more useful.

2003-12-05 12:46  kleanthis

	* src/libambulant/lib/node.cpp: Put back node::size()

2003-12-03 23:45  kleanthis

	* include/ambulant/lib/logger.h: Excluded one line that is
	  shouldn't. G++ 2.95 has io streams but problems with operators.

2003-12-03 22:26  kleanthis

	* src/libambulant/gui/none/none_gui.cpp: Exclude lib::endl
	  definition and associated stuf for g++ 2.95 and othet old
	  compilers

2003-12-03 22:22  kleanthis

	* include/ambulant/lib/logger.h: Exclude lib::endl definition and
	  associated stuf for g++ 2.95 and othet old compilers

2003-12-03 17:34  kleanthis

	* include/ambulant/lib/sax_types.h: Revert to previous state since
	  g++ 2.95 defines string operators.

2003-12-03 17:31  kleanthis

	* include/ambulant/lib/node_iterator.h: Define operator == and !=
	  in global namespace.

2003-12-03 16:18  kleanthis

	* src/libambulant/lib/node.cpp, include/ambulant/lib/node.h,
	  src/libambulant/common/timeline_builder.cpp: Remove some g++ 2.95
	  offending code that is not used.

2003-12-03 15:01  jackjansen

	* Documentation/Design/models/: dataflow.graffle, dataflow.pdf:
	  Document the possible data flow scenarios: how media data flows
	  from the net to the screen (or speaker).

2003-12-03 14:54  jackjansen

	* src/libambulant/Makefile.am: Added string_util.cpp

2003-12-03 13:33  kleanthis

	* include/ambulant/lib/node_navigator.h: Declare explicitly
	  reverse_iterator as a typename.

2003-12-03 13:31  kleanthis

	* src/libambulant/lib/string_util.cpp,
	  include/ambulant/lib/string_util.h: Remove support for nfa
	  matcher for now. We may return to this after fixing g++ 2.95

2003-12-03 10:44  kleanthis

	* src/libambulant/lib/logger.cpp: Include stdio.h for sprintf.

2003-12-03 10:29  kleanthis

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: Simplify
	  list content for g++ 2.95

2003-12-03 10:27  kleanthis

	* include/ambulant/lib/: node.h, sax_types.h: Define operator== for
	  lhs a string and rhs a const char* for g++ 2.95

2003-12-02 21:58  kleanthis

	* include/ambulant/lib/string_util.h,
	  src/libambulant/lib/string_util.cpp: Bring nfa matcher to a
	  usable state. Add some methods and documentation.  Change 'or'
	  function to or_expr since Jack's compiler complains about this
	  name (obviously a copmiler bug; or is not a c/c++ keyword)

2003-12-02 13:54  jackjansen

	* include/ambulant/config/compiler/gcc.h: It seems gcc 3.3 is fine
	  too, so I'm getting rid of the warning.

2003-12-02 13:53  jackjansen

	* src/libambulant/Makefile.am: Automake warns about CXXFLAGS. Use
	  AM_CXXFLAGS in stead.

2003-12-01 21:48  kleanthis

	* include/ambulant/lib/string_util.h,
	  src/libambulant/lib/string_util.cpp: Add some more char class
	  level functions to the scanner.  Implement a simple not optimized
	  NFA based regular expression matcher.  This matcher may be used
	  to match short strings created by the scanner against hand made
	  (coded) regex.  The task of this thread is to simplify attributes
	  parsing as much as possible without requiring one more third
	  party package (regex).

2003-12-01 15:12  kleanthis

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: Forgot
	  the checkin this.

2003-12-01 13:21  kleanthis

	* include/ambulant/lib/string_util.h: Make the scanner more
	  comprehensive, add short documentation strings and make it a
	  template so that it can work with both char and wchar_t.  The
	  scanner will be more useful once enhanced to recogize posix char
	  classes.  This will be the next step in scanner's evolution.

2003-12-01 09:15  kleanthis

	* src/libambulant/lib/logger.cpp: Add a space after emitting the
	  time field.  BUT, the logger output needs to be redesigned in
	  order to support plaforms that do not have a std lib with
	  streams.  For the logger this is not a major task.

2003-11-30 19:11  kleanthis

	* src/libambulant/gui/none/none_gui.cpp: Remove WIN32_WCE specific
	  section.  The emVC4 compiler gets confused due to the namespace
	  qualification which is not actually needed.

2003-11-30 19:01  kleanthis

	* include/ambulant/gui/none/none_gui.h: Include config.h before
	  including std and ambulant headers.

2003-11-30 18:58  kleanthis

	* include/ambulant/gui/dx/: dx_viewport.h, img_decoder.h: Fix an
	  error reported by Jack: "Various files try to include a file
	  "ambulant/config/visualc.h", but  this file doesn't exist." The
	  various are these 2 and this ref was forgotten from my first
	  configuration approach.

2003-11-30 18:51  kleanthis

	* src/libambulant/common/region.cpp: The this pointer must not be
	  used before the object is constructed.

2003-11-28 14:55  jackjansen

	* lib/: wince-arm/expat.lib, wince-arm/libjpeg.lib,
	  wince-emu/expat.lib, wince-emu/libjpeg.lib: Adding compiled
	  third-party libraries.

2003-11-28 14:53  jackjansen

	* include/ambulant/net/datasource.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/layout.h, include/ambulant/lib/mtsync.h,
	  src/libambulant/libambulant_wince.vcp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_wince/player_wince.vcp: Tweaked to make things compile
	  under emVC++ 4.0

2003-11-26 20:35  kleanthis

	* src/libambulant/libambulant_win32.vcproj: Restore windows player.

2003-11-26 20:33  kleanthis

	* include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp: Resrore windows player.

2003-11-26 11:34  jackjansen

	* third_party_packages/wince-projects/: readme.txt,
	  INTO-expat/expat_wince.vcp, INTO-expat/expat_wince.vcw,
	  INTO-expat/INTO-lib/winconfig.h, INTO-expat/INTO-lib/xmlparse.c,
	  INTO-expat/INTO-lib/xmlrole.c, INTO-expat/INTO-lib/xmltok.c:
	  Projects and files for building expat for Windows CE. It compiles
	  and builds, but that is all testing it has received so far.

2003-11-25 22:41  kleanthis

	* include/ambulant/lib/string_util.h: Use operator[] instead of the
	  function "at" since it is not implemented by gcc 2.95

2003-11-25 16:44  jackjansen

	* src/: Ambulant-wince.vcw, libambulant/libambulant_wince.vcp,
	  player_wince/player_wince.cpp, player_wince/player_wince.vcp: The
	  dummy main program (which only prints the version) now runs on
	  the WinCE emulator. Not on the Compaq yet, that needs some work,
	  mainly some design of the filesystem layout for building.

2003-11-25 14:50  jackjansen

	* src/player_unix/Makefile.am: Replaced INCLUDES with AM_CPPFLAGS
	  so arts support actually works.

2003-11-25 14:36  jackjansen

	* configure.in, src/player_unix/Makefile.am,
	  src/player_unix/qt_mainloop.cpp: Make configure automatically
	  detect arts, and use this to enable/disable arts support in the
	  QT player.

2003-11-24 15:08  koelimoe

	* include/ambulant/gui/arts/arts_audio.h: initialisation aRtsd
	  fixed

2003-11-24 15:07  koelimoe

	* src/libambulant/gui/arts/arts_audio.cpp: Initialisation fixed.
	  Now aRtsd is initialised only once.

2003-11-24 13:32  kleanthis

	* src/libambulant/libambulant_win32.vcproj: VC 7.1  project update.

2003-11-24 13:31  kleanthis

	* src/libambulant/libambulant_wince.vcp: EVC 4.0  (WINCE) project

2003-11-24 13:30  kleanthis

	* src/libambulant/libambulant_win32.dsp: VC 6.0 project

2003-11-24 13:27  kleanthis

	* src/libambulant/: lib/delta_timer.cpp, lib/logger.cpp,
	  lib/node.cpp, lib/schema.cpp, lib/sync_rule.cpp,
	  lib/time_attrs.cpp, lib/time_node.cpp, lib/timegraph.cpp,
	  lib/timer.cpp, lib/tree_builder.cpp, lib/win32/win32_asb.cpp,
	  lib/win32/win32_error.cpp, lib/win32/win32_timer.cpp,
	  common/player.cpp, common/renderer.cpp,
	  common/timeline_builder.cpp, common/timelines.cpp, net/url.cpp:
	  Protect (conditionally include) some first blocks based on the
	  configuration flags.	Ambulant lib now compiles for WIN32 using
	  VC 7.1, VC 6.0 and EVC 4.0 (WINCE).

2003-11-24 13:23  kleanthis

	* include/ambulant/net/: connection.h, datasource.h, socket.h,
	  url.h: Import configuration header.  Protect (conditionally
	  include) some first blocks based on the configuration flags.

2003-11-24 13:20  kleanthis

	* include/ambulant/: lib/gtypes.h, lib/delta_timer.h,
	  lib/document.h, lib/event.h, lib/event_processor.h,
	  lib/expat_parser.h, lib/filesys.h, lib/asb.h, lib/callback.h,
	  lib/colors.h, lib/logger.h, lib/mtsync.h, lib/node.h,
	  lib/node_iterator.h, lib/node_navigator.h, lib/nscontext.h,
	  lib/playable.h, lib/refcount.h, lib/sax_handler.h,
	  lib/sax_types.h, lib/schema.h, lib/smil_time.h,
	  lib/string_util.h, lib/sync_rule.h, lib/thread.h,
	  lib/time_attrs.h, lib/time_node.h, lib/time_state.h,
	  lib/timegraph.h, lib/timer.h, lib/tree_builder.h,
	  lib/win32/win32_asb.h, lib/win32/win32_error.h,
	  lib/win32/win32_event_processor.h, lib/win32/win32_mtsync.h,
	  lib/win32/win32_thread.h, lib/win32/win32_timer.h,
	  common/parse_attrs.h, common/player.h, common/region.h,
	  common/region_dim.h, common/region_eval.h, common/region_node.h,
	  common/renderer.h, common/skeleton.h, common/smil_handler.h,
	  common/timeline_builder.h, common/timelines.h: Import
	  configuration header.  Protect (conditionally include) some first
	  blocks based on the configuration flags.

2003-11-24 13:18  kleanthis

	* include/ambulant/config/stdlib/: dinkumware.h, libcomo.h,
	  libstdcpp3.h, modena.h, msl.h, roguewave.h, sgi.h, stlport.h,
	  vacpp.h: Import Boost configuration to be used as a startup
	  config framework.  Add support for WINCE.

2003-11-24 13:14  kleanthis

	* include/ambulant/config/: config.h, posix_features.h,
	  select_compiler_config.h, select_platform_config.h,
	  select_stdlib_config.h, suffix.h, user.h, compiler/borland.h,
	  compiler/comeau.h, compiler/common_edg.h, compiler/compaq_cxx.h,
	  compiler/gcc.h, compiler/greenhills.h, compiler/hp_acc.h,
	  compiler/intel.h, compiler/kai.h, compiler/metrowerks.h,
	  compiler/mpw.h, compiler/sgi_mipspro.h, compiler/sunpro_cc.h,
	  compiler/vacpp.h, compiler/visualc.h, platform/aix.h,
	  platform/amigaos.h, platform/beos.h, platform/bsd.h,
	  platform/cygwin.h, platform/hpux.h, platform/irix.h,
	  platform/linux.h, platform/macos.h, platform/solaris.h,
	  platform/win32.h: Import Boost configuration to be used as a
	  startup config framework.  Add support for WINCE.

2003-11-21 11:21  koelimoe

	* src/libambulant/gui/arts/arts_audio.cpp: Sound works !

2003-11-20 16:45  koelimoe

	* Extras/DemoPresentation/Demo_wav.smil: The demo smil file and
	  data for qt_player

2003-11-20 16:16  koelimoe

	* include/ambulant/gui/arts/: Makefile.am, arts.h, arts_audio.h:
	  aRts sound works mod some initialisation problems with the arts
	  server (only 44100,16 mono wavs)

2003-11-20 16:14  koelimoe

	* src/player_unix/qt_mainloop.cpp: WITH_ARTS is not yet properly
	  defined so added a #define WITH_ARTS

2003-11-20 16:12  koelimoe

	* src/libambulant/gui/arts/: arts.cpp, arts_audio.cpp: Rts sound
	  kind of works mod some initialisation problems and only with
	  44100 khz 16 bits mone wavs

2003-11-19 16:50  koelimoe

	* include/ambulant/gui/qt/qt_renderer.h: Gave the
	  qt_renderer_factory and the qt_window_factory public baseclass.

2003-11-19 16:45  koelimoe

	* src/player_unix/Makefile.am: Added the right LDFLAGS for  the
	  arts stuff

2003-11-19 16:44  koelimoe

	* src/libambulant/gui/qt/qt_renderer.cpp: Changed the
	  qt_renderer_factory so that it returns NULL if there is no
	  suitable factory

2003-11-19 16:41  koelimoe

	* src/libambulant/gui/arts/arts_audio.cpp: After the split
	  arts_audio.cpp contains the code for	the
	  arts_active_audio_renderer

2003-11-19 16:40  koelimoe

	* src/libambulant/gui/arts/arts.cpp: After the split arts.cpp only
	  contains the code for the arts renderer factory.

2003-11-19 16:39  koelimoe

	* src/libambulant/Makefile.am: Addapted Makefile.am to the split of
	  arts.cpp in arts.cpp and arts_audio.cpp.

2003-11-19 16:35  koelimoe

	* src/player_unix/qt_mainloop.cpp: Added arts_renderer_factory to
	  the mainloop and in the process changed it to the structure of
	  the global_renderer_factory

2003-11-19 16:30  koelimoe

	* include/ambulant/gui/arts/arts.h: Now arts.h contains only the
	  arts_renderer_factory.

2003-11-19 16:28  koelimoe

	* include/ambulant/gui/arts/Makefile.am: Addapted to the split of
	  arts.h in arts.h and arts_audio.h

2003-11-19 16:27  koelimoe

	* include/ambulant/gui/arts/arts_audio.h: This file now contains
	  the arts_active_audio_renderer class.

2003-11-19 11:13  koelimoe

	* include/ambulant/gui/arts/arts.h: arts.h compiles

2003-11-19 11:13  koelimoe

	* src/libambulant/gui/arts/arts.cpp: arts.cpp compiles.

2003-11-18 16:26  jackjansen

	* Documentation/Design/models/layout.graffle,
	  Documentation/Design/models/layout.pdf,
	  Documentation/Design/models/region.graffle,
	  Documentation/Design/models/region.pdf,
	  Documentation/Design/models/renderer.graffle,
	  Documentation/Design/models/renderer.pdf,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/lib/Makefile.am, include/ambulant/lib/layout.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/player_macosx/MyDocument.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  src/player_unix/qt_gui.cpp: Merging layout manager stuff back in
	  to the trunk. The none, Mac and Qt gui stuff has been adapted to
	  the new interfaces, then Windows code has not.

2003-11-18 15:31  jackjansen

	* include/ambulant/lib/Makefile.am: Added layout.h

2003-11-18 15:29  jackjansen

	* Documentation/Design/models/: region.graffle, region.pdf,
	  renderer.graffle, renderer.pdf: Adapted to layout manager and
	  playable changes

2003-11-18 15:22  jackjansen

	* include/ambulant/: common/layout.h, common/player.h,
	  common/region.h, common/renderer.h, common/timeline_builder.h,
	  common/timelines.h, gui/cocoa/cocoa_gui.h, gui/none/none_gui.h,
	  gui/qt/qt_image_renderer.h, gui/qt/qt_renderer.h,
	  gui/qt/qt_text_renderer.h, lib/layout.h: Layout.h is a completely
	  abstract set of interfaces, so I think it is better placed in lib
	  than common.

2003-11-18 15:20  jackjansen

	* Documentation/Design/models/: region.graffle, region.pdf: Adapted
	  to the new layout manager interfaces.

2003-11-18 13:20  jackjansen

	* Documentation/Design/models/: layout.graffle, layout.pdf: Started
	  on UML diagrams for layout manager

2003-11-17 17:27  jackjansen

	* include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/player_unix/qt_gui.cpp: Updated to the new layout stuff.

2003-11-17 17:17  jackjansen

	* include/ambulant/common/player.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/MyDocument.h: Got rid of a couple of includes
	  of region.h, which is no longer an official API, and got the
	  design tests to compile again.

2003-11-17 16:22  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/none/none_gui.cpp: Abstracted the GUI side of
	  the layout manager too: there is now an abstract baseclass
	  abstract_window from which the GUI windows should subclass. The
	  connection to the layout manager is through a pointer to a
	  passive_root_layout object. When you create these you pass the
	  window factory to create the gui-dependent side.

2003-11-17 14:05  jackjansen

	* include/ambulant/common/region.h: Passive regions are
	  abstract_rendering_source's, active regions are both
	  abstract_rendering_source and abstract_rendering_surface.

2003-11-17 13:43  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/none/none_gui.cpp: Got rid of the topleft
	  argument to redraw, replaced it by a method on
	  abstract_rendering_surface to get the window topleft offset.

2003-11-17 09:43  koelimoe

	* include/ambulant/gui/arts/arts.h: work in progress

2003-11-17 09:42  koelimoe

	* src/libambulant/gui/arts/arts.cpp: added code, work in progress

2003-11-14 16:52  koelimoe

	* include/ambulant/gui/arts/arts.h:
	  not much changed here

2003-11-14 16:51  koelimoe

	* src/libambulant/gui/arts/arts.cpp: more code, no interessting
	  changes

2003-11-14 16:48  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Abstracted the renderer,
	  and changed some names.

2003-11-13 10:29  kleanthis

	* include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp: Next step on SMIL timing. I
	  think that at this level the engine has enough functionality to
	  start driving rich enough seq/par presentations.  The steps
	  after this are: parse attributes for creating the sync rules and
	  connecting with real playables.

2003-11-13 10:23  kleanthis

	* include/ambulant/lib/sync_rule.h: Add one more service function
	  (=static)  to the time converter.

2003-11-13 10:21  kleanthis

	* include/ambulant/lib/callback.h: Use reinterpret_cast operator
	  instead of c-casting for event_calback.

2003-11-13 10:19  kleanthis

	* include/ambulant/lib/event.h: Add cancel_all_events() function to
	  the requirements of the event scheduler.

2003-11-13 10:18  kleanthis

	* include/ambulant/lib/event_processor.h: Add cancel_all_events()
	  function to the event_processor interface.

2003-11-13 10:15  kleanthis

	* include/ambulant/lib/delta_timer.h,
	  src/libambulant/lib/delta_timer.cpp: Provide a clear events
	  function.

2003-11-12 22:19  jackjansen

	* src/libambulant/common/timeline_builder.cpp: Fixed creation of
	  renderer_surfaces. Things now work again.

2003-11-12 13:02  jackjansen

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp: Actually return the
	  rendering surface:-)

	  (Note: this currently doesn't compile, but I want to continue on
	  it tonight).

2003-11-12 11:36  jackjansen

	* include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Updated qt support for
	  new layout stuff

2003-11-12 11:34  jackjansen

	* src/libambulant/common/timeline_builder.cpp: Oops: a bit too
	  enthusiastic about cleaning up things.

2003-11-11 23:49  jackjansen

	* include/ambulant/common/layout.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on isolating the layout manager. Mostly finished, but
	  unfortunately it doesn't work yet:-)

2003-11-10 19:20  kleanthis

	* include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  include/ambulant/lib/timegraph.h,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp: Provide the first strings to
	  move the gears.

2003-11-10 19:18  kleanthis

	* include/ambulant/lib/event.h: Requirements specification for an
	  event scheduler. These should be integrated gradually with the
	  event processor.

2003-11-10 19:16  kleanthis

	* include/ambulant/lib/callback.h: Add one more callback type.
	  This one passes itself as the callback argument. So, you get back
	  the struct you have scheduled.

2003-11-10 15:17  kleanthis

	* include/ambulant/lib/logger.h: Evaluate expression before
	  applying not operator.

2003-11-10 15:14  kleanthis

	* include/ambulant/lib/logger.h: Fix LOGGER_ASSERT macro bug
	  pointed by Jack.

2003-11-10 12:36  kleanthis

	* include/ambulant/lib/logger.h: Add an assert function to the
	  logger.

2003-11-10 12:35  kleanthis

	* include/ambulant/lib/time_node.h,
	  include/ambulant/lib/time_state.h,
	  src/libambulant/lib/logger.cpp,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp: Some more SMIL2 timing bits.

2003-11-10 12:33  kleanthis

	* include/ambulant/lib/sync_rule.h: Simplify and en-rich time
	  converter.

2003-11-10 12:32  kleanthis

	* include/ambulant/lib/smil_time.h: Add REM and MOD operations to
	  smil time data type.	Add some handy functions to smil interval
	  data type (contains, before, after, etc).

2003-11-07 16:01  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/lib/playable.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging the playable changes into the trunk. This is an
	  incompatible change: the interface for renderers has changed, see
	  renderer.h for details.  The Qt and Cocoa code has been adapted
	  for the new interface, the windows code has not.

2003-11-07 15:03  jackjansen

	* include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/gui/qt/qt_renderer.cpp: Adapted qt renderer to
	  new playable interface.

2003-11-07 14:24  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/playable.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Put the cookie parameter
	  type inside the playable_callback class, and created
	  instantiations of the templates {active,passive}_playable and
	  {active,passive}_playable_events.

2003-11-07 12:37  kleanthis

	* src/libambulant/lib/win32/win32_factory.cpp: And something from
	  the past. Forgot to check in this change.

2003-11-07 12:35  kleanthis

	* include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_node.h,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp: Implement default par/seq
	  implicit duration.

2003-11-07 12:32  kleanthis

	* include/ambulant/lib/sync_rule.h,
	  src/libambulant/lib/sync_rule.cpp: Add a new type of sync rule
	  that may simplify some parts of the model.  The new rule is a
	  special model rule that differs from the rest, in that it does
	  not contribute to the model through its instance times.  This new
	  rule called a trigger rule may link dependent nodes when the
	  dependency cannot be expressed through instance times.  The alt
	  mechanism implemented by a trigger rule is knowledge transfer
	  between nodes.  The syncbase node may use this link to wake up
	  the target when the target may take benefit of the newly acquired
	  info at the syncbase.

2003-11-06 21:21  kleanthis

	* include/ambulant/lib/smil_time.h,
	  include/ambulant/lib/sync_rule.h,
	  include/ambulant/lib/time_node.h,
	  include/ambulant/lib/timegraph.h,
	  include/ambulant/lib/time_attrs.h,
	  include/ambulant/lib/time_state.h,
	  src/libambulant/lib/schema.cpp,
	  src/libambulant/lib/sync_rule.cpp,
	  src/libambulant/lib/time_attrs.cpp,
	  src/libambulant/lib/time_node.cpp,
	  src/libambulant/lib/time_state.cpp,
	  src/libambulant/lib/timegraph.cpp: The first testable version of
	  the SMIL 2.0 timing code.  Timing attributes parsing is still
	  missing.  Excl has not been touched yet.  The engine is not
	  connected yet with any real playables.

2003-11-06 17:40  keesblom

	* include/ambulant/Makefile.am,
	  include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/lib/Makefile.am, src/player_unix/Makefile.am:
	  Adapted various Makefile.am's so that "make distcheck" now works.
	  To prevent errors such as Wytze van der Raay detected on our
	  first distribution, please use: make distcheck
	  DISTCHECK_CONFIGURE_FLAGS=--with-expat=<your-dir>/expat-1.95.7
	  until you see: =============================================
	  ambulant-x.y.tar.gz is ready for distribution
	  ============================================= This creates a
	  tar-file for distribution, then unpacks this tar-file, does a
	  ./configure and make, and verifies that the make-targets
	  "distclean" and "uninstall" work properly.

2003-11-06 14:16  keesblom

	* src/: libambulant/Makefile.am, player_unix/Makefile.am: Merged
	  changes in distribution with main trunk (no *moc.cpp in distro,
	  no redefinition of EXPAT_PREFIX)

2003-11-06 13:58  koelimoe

	* include/ambulant/gui/qt/Makefile.am: removed the arts.h entry

2003-11-05 16:42  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/playable.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp: Templated the
	  playable_events on the cookie type, added a node-index to
	  playdone-event-index mapping to passive_timeline, and everything
	  is starting to work again.

	  Disabled audio for Cocoa by default: on Panther it appears to be
	  pretty broken:-(

2003-11-05 16:40  koelimoe

	* src/libambulant/gui/qt/arts.cpp: arts.cpp has left gui/qt

2003-11-05 16:39  koelimoe

	* src/libambulant/gui/arts/arts.cpp: I got a new home in gui/arts
	  :-)

2003-11-05 16:37  koelimoe

	* src/libambulant/Makefile.am: ddapted for the new location of
	  arts.cpp

2003-11-05 16:37  koelimoe

	* configure.in: addapted to create Makefile in the gui/arts/
	  directory

2003-11-05 16:35  koelimoe

	* include/ambulant/gui/Makefile.am: changed for the new arts.h
	  location

2003-11-05 16:34  koelimoe

	* include/ambulant/gui/arts/Makefile.am: Makefile.am for arts.h

2003-11-05 16:33  koelimoe

	* include/ambulant/gui/qt/arts.h: moved to new location

2003-11-05 16:31  koelimoe

	* include/ambulant/gui/arts/arts.h: gave it a new home :-)

2003-11-05 13:33  koelimoe

	* src/libambulant/gui/qt/arts.cpp: aRts cpp file stilla mess and
	  not working

2003-11-05 13:31  koelimoe

	* include/ambulant/gui/qt/arts.h: aRts header file still a mess and
	  not working.

2003-11-05 13:29  koelimoe

	* include/ambulant/gui/qt/Makefile.am: Added stuff to compile Arts
	  support

2003-11-05 13:28  koelimoe

	* src/libambulant/Makefile.am: Added stuff to compile aRts support

2003-11-05 13:26  koelimoe

	* configure.in: added an --with-arts option to the configure
	  script. Without --with-arts the arts stuff is ignored.

2003-11-03 18:05  keesblom

	* src/libambulant/Makefile.am: Used $(EXPAT_PREFIX) (value of
	  --with-expat configure argument) to define "expat_dir"

2003-11-03 16:51  jackjansen

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/playable.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on converting API for renderers to use the playable
	  interface.  Things work for a while, and then stop because I
	  haven't firgured out how to do the callbacks to the
	  active_timeline yet.

2003-11-03 16:34  koelimoe

	* include/ambulant/lib/Makefile.am: removed the vnode.h entry,
	  since vnode.h is not used anymore.

2003-11-03 12:31  jackjansen

	* README-CVS: Added a note that autoreconf may do most of the work
	  needed.

2003-11-02 18:44  kleanthis

	* include/ambulant/lib/: schema.h, time_node.h, timegraph.h: Some
	  more smil timing pieces.

2003-11-02 18:41  kleanthis

	* include/ambulant/lib/sync_rule.h: A more complete sync rule
	  design.  Add also a time convertion helpet class.

2003-11-02 18:39  kleanthis

	* include/ambulant/lib/smil_time.h: Copy to this module time traits
	  and add docs notes.

2003-11-02 18:37  kleanthis

	* include/ambulant/lib/node_navigator.h: Add some more handy
	  functions to this utility class.

2003-11-01 00:28  kleanthis

	* include/ambulant/lib/time_node.h: Store as a set of flags the
	  info of whether a timing attribute has been specified or not.
	  This info is used in timing calculations and needs to be handy.

2003-10-31 20:41  kleanthis

	* include/ambulant/lib/: schema.h, sync_rule.h, time_node.h,
	  timegraph.h: Some first pieces of SMIL 2 timing.

2003-10-31 20:37  kleanthis

	* include/ambulant/lib/vnode.h: vnode is not needed.

2003-10-31 20:35  kleanthis

	* include/ambulant/lib/node.h: Add a static node counter memory
	  verifier variable.

2003-10-31 20:32  kleanthis

	* include/ambulant/lib/node_navigator.h,
	  src/libambulant/lib/node.cpp: Remove const qualifier since this
	  trait can be passed in with the template argument.  So, this
	  becomes even more generic.

2003-10-31 20:30  kleanthis

	* include/ambulant/lib/smil_time.h: Add a smil interval class and a
	  structure time_traits for holding timing prefrences.	Fix smil
	  time to work with integral data types.

2003-10-31 16:26  jackjansen

	* Documentation/Design/text/todo.txt: Moved the bugs that were
	  still relevant to the SF tracker.

2003-10-31 15:26  keesblom

	* src/player_unix/Makefile.am: Removed qt_gui-moc.cpp from
	  distribution

2003-10-31 14:27  jackjansen

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  a new object global_renderer_factory, which is a renderer
	  "super-factory": you add factories to it (with the add_factory()
	  method), and then calling its new_renderer() call will try all
	  those factories in order, with the none_renderer_factory as the
	  final default.

	  The point of all this is to allow various audio implementations
	  to live together with various GUI implementations without
	  interdependencies.

	  All renderer factories (except the none_renderer factory) should
	  now return NULL without complaining for any media type they don't
	  understand.

	  player_macosx/mainloop.cpp has example usage code.

2003-10-31 13:36  jackjansen

	* Makefile.am, README, configure.in,
	  include/ambulant/gui/Makefile.am,
	  include/ambulant/gui/qt/Makefile.am, src/player_unix/Makefile.am:
	  Merging Kees' changes to the Linux distribution back into the
	  trunk.

2003-10-30 15:13  keesblom

	* Makefile.am, README, configure.in,
	  include/ambulant/gui/Makefile.am,
	  include/ambulant/gui/qt/Makefile.am, src/player_unix/Makefile.am:
	  Updated the distribution tar ball to contain missing qt*.h files
	  and the Dick's Demo Presentation

2003-10-29 16:20  jackjansen

	* Extras/bindist-readme.txt: A few more warnings about Mac and
	  linux functionality.

2003-10-29 15:32  keesblom

	* src/player_unix/qt_gui.cpp: Added AM_DBG to turn off TRACE msgs

2003-10-29 15:14  keesblom

	* include/ambulant/gui/qt/qt_renderer.h,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp: Added
	  AM_DBG to turn off TRACE msgs Modified Makefile.am to produce
	  statically linked executable

2003-10-29 15:09  jackjansen

	* src/libambulant/lib/timer.cpp: Put debug output behind AM_DBG.

2003-10-29 15:08  jackjansen

	* src/libambulant/gui/cocoa/: cocoa_audio.mm, cocoa_text.mm: Minor
	  tweaks.

2003-10-29 13:33  jackjansen

	* src/player_unix/qt_mainloop.cpp: iA few more modifications for
	  the timer reorganization

2003-10-28 16:17  kleanthis

	* include/ambulant/lib/win32/win32_event_processor.h,
	  src/libambulant/lib/win32/win32_event_processor.cpp: Accept a
	  timer instead of an abstract timer.

2003-10-28 15:29  jackjansen

	* Extras/bindist-readme.txt: Minor tweaks.

2003-10-28 15:28  jackjansen

	* Extras/: bindist-readme.txt, readme.txt,
	  DemoPresentation/Demo.smil: Added the auxiliary files for a
	  binary distribution: the readme and the demo document.

2003-10-28 15:16  jackjansen

	* third_party_packages/readme.txt: iAdded missing newline

2003-10-28 15:05  jackjansen

	* include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/timer.h,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/player_macosx/mainloop.cpp: Various changes to finish off the
	  split between timer_client and abstract_timer: - Adapted the
	  cocoa audio renderer - Use timer in stead of abstract_timer in
	  the event_processor - When instantiating an event_processor don't
	  pass a realtime_timer,   but wrap it in a timer.

2003-10-28 15:02  jackjansen

	* README-CVS: Removed trailing tab.

2003-10-28 15:00  jackjansen

	* src/player_macosx/: cocoambulant.icns, Info.plist, Makefile.am,
	  fullcocoambulant.pbproj/project.pbxproj,
	  cocoambulant.pbproj/project.pbxproj: Added the ambulant player
	  icon.

2003-10-27 15:13  jackjansen

	* src/libambulant/libambulant_win32.vcproj: Added missing _AMBULANT
	  defines (needed for the modified libjpeg).

2003-10-26 17:42  kleanthis

	* include/ambulant/lib/win32/win32_timer.h: Details.

2003-10-26 17:41  kleanthis

	* src/libambulant/lib/timer.cpp: Trace construction/destruction.

2003-10-26 17:38  kleanthis

	* include/ambulant/lib/event_processor.h,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp: An event
	  processor can create the critical_section itself. So, remove it
	  from the constructor.  Also document that the timer is not owned
	  by the event processor.

2003-10-26 16:23  kleanthis

	* src/libambulant/lib/win32/win32_timer.cpp: Remove speed_changed()
	  notification from this.

2003-10-26 16:22  kleanthis

	* src/libambulant/lib/timer.cpp: Update timers: a) Adjust timers to
	  what it seems we need for SMIL timing. Try to avoid implementing
	  a new timer class for this purpose.  b) Try to preserve as much
	  as possible the previous design (i think quite everything is
	  preserved).

2003-10-26 16:21  kleanthis

	* include/ambulant/lib/node.h: Add comments to some functions.

2003-10-26 16:19  kleanthis

	* include/ambulant/lib/playable.h: The playable interface that is
	  used by the scheduler to control the objects being scheduled.
	  This is a slightly modified version from the one discused.
	  Please review and comment. It will certainly modified again as
	  the scheduler needs become more mature.  The intent is to make
	  the interaction between both sites (scheduler and playables) as
	  simple and convenient as possible.

2003-10-26 16:11  kleanthis

	* include/ambulant/lib/smil_time.h: A data type modeling a time
	  value as defined by the SMIL 2.0 spec.

2003-10-26 16:08  kleanthis

	* include/ambulant/lib/timer.h: Update timers: a) Adjust timers to
	  what it seems we need for SMIL timing. Try to avoid implementing
	  a new timer class for this purpose.  b) Try to preserve as much
	  as possible the previous design (i think quite everything is
	  preserved).

2003-10-23 17:53  kleanthis

	* bin/win32/: DemoPlayer.exe, player_wincon.exe: Latest demo bins.

2003-10-23 17:51  kleanthis

	* src/player_mfc/res/: DemoPlayer.ico, DemoPlayerDoc.ico: Ambulant
	  icons.

2003-10-23 17:49  kleanthis

	* src/libambulant/gui/dx/: dx_img.cpp, dx_text.cpp: Check that
	  media exist at the correct place.

2003-10-22 23:54  jackjansen

	* src/libambulant/common/timeline_builder.cpp: Check that the dur
	  attribute of a par is of the form dur="1000ms", and honour that
	  duration.

2003-10-22 21:47  kleanthis

	* bin/win32/: player_wincon.exe, DemoPlayer.exe: Replace demo bins.

2003-10-22 21:44  kleanthis

	* src/: libambulant/libambulant_win32.vcproj,
	  player_mfc/DemoPlayer.vcproj, player_wincon/player_wincon.vcproj:
	  Use static libs for the release version e.g minimize dependencies

2003-10-22 21:36  kleanthis

	* src/player_mfc/res/DemoPlayer.ico: Replace mfc icon.

2003-10-22 21:35  kleanthis

	* src/player_mfc/MmViewPlayer.h: Use pause and resume.

2003-10-22 21:34  kleanthis

	* src/libambulant/gui/dx/: dx_gui.cpp, dx_img.cpp: Trace renderer
	  destruction.

2003-10-22 21:33  kleanthis

	* src/libambulant/gui/dx/dx_audio.cpp: Implement pause and resume.

2003-10-22 21:33  kleanthis

	* src/libambulant/gui/dx/dx_player.cpp: Forward pause to the base
	  player and implement resume.

2003-10-22 21:25  kleanthis

	* src/libambulant/common/player.cpp: Implement stop/pause/resume.

2003-10-22 21:24  kleanthis

	* src/libambulant/common/timelines.cpp: Use release instead of
	  delete for renderers.  Implement stop/pause/resume.

2003-10-22 21:20  kleanthis

	* include/ambulant/: gui/dx/dx_audio.h, common/player.h,
	  common/renderer.h, common/timelines.h: Add pause and resume
	  functions.

2003-10-22 21:20  kleanthis

	* include/ambulant/gui/dx/: dx_player.h, dx_player_impl.h: Add
	  resume function.

2003-10-22 21:18  kleanthis

	* Documentation/Design/text/: playable.html, playable.txt: Change
	  function "continue" to "resume". Continue is a keyword for most
	  languages.

2003-10-22 00:16  jackjansen

	* src/player_macosx/: Makefile.am,
	  cocoambulant.pbproj/project.pbxproj: Dirty hack (I think) to make
	  a standalone executable: link against the static libraries inside
	  the .libs directories in stead of with the -lambulant and similar
	  names.

	  Not only does this have the advantage that the resulting binary
	  is self-contained (and, hence, distributable), but it also works
	  around the C++ library error.

2003-10-21 23:05  jackjansen

	* README, README-CVS,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj,
	  third_party_packages/expat.h.patch,
	  third_party_packages/readme.txt: Got rid of the expat patch, and
	  tell people to use expat-1.95.7.

2003-10-21 16:43  jackjansen

	* Documentation/Design/: models/playable_state.graffle,
	  models/playable_state.pdf, text/Makefile, text/playable.html,
	  text/playable.txt: Initial design of playable interface.

2003-10-17 17:02  jackjansen

	* src/: Makefile.am, player_macosx/.cvsignore,
	  player_macosx/Makefile.am, player_macosx/MyAmbulantView.m,
	  player_macosx/MyDocument.m: Cocoambulant.app can now be built
	  with automake. Unfortunately the result still doesn't work due to
	  C++ shared library issues.

2003-10-17 12:34  jack

	* src/libambulant/gui/cocoa/: cocoa_gui.mm, cocoa_image.mm,
	  cocoa_text.mm: Removed debug-clears.

2003-10-17 12:22  jack

	* COPYING, include/ambulant/version.h,
	  include/ambulant/common/parse_attrs.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_eval.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/skeleton.h,
	  include/ambulant/common/smil_handler.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  include/ambulant/gui/dx/dx_surface.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/lib/abstract_mtsync.h,
	  include/ambulant/lib/asb.h, include/ambulant/lib/basic_types.h,
	  include/ambulant/lib/callback.h, include/ambulant/lib/colors.h,
	  include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/event.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/filesys.h, include/ambulant/lib/gtypes.h,
	  include/ambulant/lib/logger.h, include/ambulant/lib/mtsync.h,
	  include/ambulant/lib/node.h,
	  include/ambulant/lib/node_iterator.h,
	  include/ambulant/lib/node_navigator.h,
	  include/ambulant/lib/nscontext.h,
	  include/ambulant/lib/refcount.h,
	  include/ambulant/lib/sax_handler.h,
	  include/ambulant/lib/sax_types.h,
	  include/ambulant/lib/string_util.h,
	  include/ambulant/lib/thread.h, include/ambulant/lib/timer.h,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/vnode.h,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_mtsync.h,
	  include/ambulant/lib/unix/unix_thread.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  include/ambulant/lib/win32/win32_error.h,
	  include/ambulant/lib/win32/win32_event_processor.h,
	  include/ambulant/lib/win32/win32_mtsync.h,
	  include/ambulant/lib/win32/win32_thread.h,
	  include/ambulant/lib/win32/win32_timer.h,
	  include/ambulant/net/connection.h,
	  include/ambulant/net/datasource.h, include/ambulant/net/socket.h,
	  include/ambulant/net/url.h, src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/skeleton.cpp,
	  src/libambulant/common/smil_handler.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_player.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/lib/colors.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/logger.cpp, src/libambulant/lib/node.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_mtsync.cpp,
	  src/libambulant/lib/unix/unix_thread.cpp,
	  src/libambulant/lib/unix/unix_timer.cpp,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  src/libambulant/lib/win32/win32_error.cpp,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/lib/win32/win32_factory.cpp,
	  src/libambulant/lib/win32/win32_thread.cpp,
	  src/libambulant/lib/win32/win32_timer.cpp,
	  src/libambulant/net/datasource.cpp, src/libambulant/net/url.cpp,
	  src/player_macosx/MyAmbulantView.h,
	  src/player_macosx/MyAmbulantView.mm,
	  src/player_macosx/MyAppDelegate.h,
	  src/player_macosx/MyAppDelegate.m,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/main.m, src/player_macosx/mainloop.cpp,
	  src/player_macosx/mainloop.h, src/player_mfc/DemoPlayer.cpp,
	  src/player_mfc/DemoPlayer.h, src/player_mfc/MainFrm.cpp,
	  src/player_mfc/MainFrm.h, src/player_mfc/MmDoc.cpp,
	  src/player_mfc/MmDoc.h, src/player_mfc/MmView.cpp,
	  src/player_mfc/MmView.h, src/player_mfc/MmViewPlayer.h,
	  src/player_mfc/resource.h, src/player_mfc/stdafx.cpp,
	  src/player_mfc/stdafx.h, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h,
	  src/player_wince/MainFrm.cpp, src/player_wince/MainFrm.h,
	  src/player_wince/StdAfx.cpp, src/player_wince/StdAfx.h,
	  src/player_wince/newres.h, src/player_wince/player_wince.cpp,
	  src/player_wince/player_wince.h,
	  src/player_wince/player_winceDoc.cpp,
	  src/player_wince/player_winceDoc.h,
	  src/player_wince/player_winceView.cpp,
	  src/player_wince/player_winceView.h, src/player_wince/resource.h,
	  src/player_wincon/main_dx.cpp, src/player_wincon/main_none.cpp:
	  Added GPL copyright notices.

2003-10-15 16:28  jack

	* configure.in, src/libambulant/Makefile.am,
	  src/player_unix/Makefile.am: Auto-detect QT if QTDIR is set (as
	  it appears to be on redhat), and otherwise allow the qt prefix to
	  be set as an option to --with-qt.

2003-10-15 16:27  jack

	* README: Minor tweaks.

2003-10-15 15:20  kees

	* README, include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/net/url.cpp, src/player_unix/qt_gui.cpp,
	  third_party_packages/readme.txt: Updated #include paths for qt
	  and adpated various README files with installation instructions.

2003-10-15 12:58  anadelt

	* bin/win32/: DemoPlayer.exe, player_wincon.exe: Versions
	  appropriate for distribution.  They are much larger but they
	  don't depend on MFC or MSVCRT dlls.

2003-10-15 11:30  anadelt

	* src/: libambulant/libambulant_win32.vcproj,
	  player_wincon/player_wincon.vcproj: Latest verified projects.

2003-10-15 11:28  anadelt

	* src/player_wincon/main_dx.cpp: Utilize the latest dx interface.

2003-10-15 11:26  anadelt

	* src/player_mfc/MmViewPlayer.h: The MFC windowed ambulant dx
	  player exposing a std windows UI: open/play/pause/stop/about menu
	  and toolbar commands.  This class impleemnts the interface
	  between dx classes and the ui.

2003-10-15 11:25  anadelt

	* src/player_mfc/: DemoPlayer.aps, DemoPlayer.cpp, DemoPlayer.h,
	  DemoPlayer.rc, DemoPlayer.vcproj, MainFrm.cpp, MmDoc.cpp,
	  MmView.cpp, MmView.h, resource.h, res/Toolbar.bmp: The MFC
	  windowed ambulant dx player exposing a std windows UI:
	  open/play/pause/stop/about menu and toolbar commands.

2003-10-15 11:21  anadelt

	* src/libambulant/common/player.cpp: Add a couple of handy
	  functions to the active player.  Also remove blocking feature of
	  active player start function under windows (#ifdef _WIN32). This
	  is bad anyway for all platforms i think.

2003-10-15 11:19  anadelt

	* include/ambulant/common/player.h: Add a couple of handy functions
	  to the active player.

2003-10-15 11:17  anadelt

	* include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  include/ambulant/gui/dx/dx_player.h,
	  include/ambulant/gui/dx/dx_player_impl.h,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  src/libambulant/gui/dx/dx_player.cpp: Changes so that the dx gui
	  works both in bare bones mode and in a windowed environment.

2003-10-15 11:13  anadelt

	* bin/win32/: player_wincon.exe, run.bat: Latest versions.

2003-10-15 11:12  anadelt

	* bin/win32/DemoPlayer.exe: The bin windowed version of the
	  ambulant dx player for inspection.

2003-10-14 16:52  kees

	* README, src/libambulant/Makefile.am,
	  src/player_unix/qt_mainloop.h: Changed ambulant/lib/player.h ->
	  ambulant/common/player.h

2003-10-14 16:13  jack

	* include/ambulant/common/parse_attrs.h,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_eval.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/skeleton.h,
	  include/ambulant/common/smil_handler.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_surface.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/lib/abstract_mtsync.h,
	  include/ambulant/lib/asb.h, include/ambulant/lib/callback.h,
	  include/ambulant/lib/colors.h,
	  include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/document.h, include/ambulant/lib/event.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/filesys.h, include/ambulant/lib/gtypes.h,
	  include/ambulant/lib/logger.h, include/ambulant/lib/mtsync.h,
	  include/ambulant/lib/node.h,
	  include/ambulant/lib/node_iterator.h,
	  include/ambulant/lib/node_navigator.h,
	  include/ambulant/lib/nscontext.h,
	  include/ambulant/lib/refcount.h,
	  include/ambulant/lib/sax_handler.h,
	  include/ambulant/lib/sax_types.h,
	  include/ambulant/lib/string_util.h,
	  include/ambulant/lib/thread.h, include/ambulant/lib/timer.h,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/vnode.h,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_mtsync.h,
	  include/ambulant/lib/unix/unix_thread.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  include/ambulant/lib/win32/win32_error.h,
	  include/ambulant/lib/win32/win32_event_processor.h,
	  include/ambulant/lib/win32/win32_mtsync.h,
	  include/ambulant/lib/win32/win32_thread.h,
	  include/ambulant/lib/win32/win32_timer.h,
	  include/ambulant/net/connection.h,
	  include/ambulant/net/datasource.h, include/ambulant/net/socket.h,
	  include/ambulant/net/url.h, src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/skeleton.cpp,
	  src/libambulant/common/smil_handler.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  src/libambulant/lib/colors.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/logger.cpp, src/libambulant/lib/node.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_mtsync.cpp,
	  src/libambulant/lib/unix/unix_thread.cpp,
	  src/libambulant/lib/unix/unix_timer.cpp,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  src/libambulant/lib/win32/win32_error.cpp,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/lib/win32/win32_factory.cpp,
	  src/libambulant/lib/win32/win32_thread.cpp,
	  src/libambulant/lib/win32/win32_timer.cpp,
	  src/libambulant/net/datasource.cpp, src/libambulant/net/url.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Removed copyright placeholders, added cvs id's to various files.

2003-10-14 15:13  jack

	* include/ambulant/net/url.h: Removed trailing whitespace.

2003-10-14 15:09  jack

	* .cvsignore, configure.in, include/ambulant/Makefile.am,
	  include/ambulant/common/.cvsignore,
	  include/ambulant/common/Makefile.am,
	  include/ambulant/common/player.h,
	  include/ambulant/common/region_eval.h,
	  include/ambulant/common/region_node.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h,
	  include/ambulant/lib/Makefile.am, src/libambulant/Makefile.am,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/skeleton.cpp,
	  src/libambulant/common/smil_handler.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/mainloop.h:
	  After reorganization: fixed most of the includes and
	  Makefile.am's to refer to the new files.

2003-10-13 23:44  anadelt

	* src/: libambulant/libambulant_win32.vcproj,
	  player_wincon/player_wincon.vcproj: Link with MT DLL libs.

2003-10-13 23:43  anadelt

	* src/Ambulant-win32.sln: Add the MFC wrapper project to the
	  workspace.

2003-10-13 23:41  anadelt

	* src/player_mfc/: res/DemoPlayer.ico, res/DemoPlayerDoc.ico,
	  res/Toolbar.bmp, .cvsignore: Remove MDI mfc application and add
	  an SDI one.  This will be one of the wrappers for the dx windows
	  player.

2003-10-13 23:38  anadelt

	* src/player_mfc/: MainFrm.cpp, MainFrm.h, ReadMe.txt, resource.h,
	  stdafx.cpp, DemoPlayer.cpp, DemoPlayer.h, DemoPlayer.rc,
	  DemoPlayer.vcproj, MmDoc.cpp, MmDoc.h, MmView.cpp, MmView.h,
	  DemoPlayer.aps, res/DemoPlayer.rc2: Remove MDI mfc application
	  and add an SDI one.  This will be one of the wrappers for the dx
	  windows player.

2003-10-13 18:20  kees

	* src/player_unix/Makefile.am, src/player_unix/qt_gui.cpp,
	  src/player_unix/qt_mainloop.cpp, src/player_unix/qt_mainloop.h,
	  src/libambulant/gui/qt/qt_image_renderer.cpp,
	  src/libambulant/gui/qt/qt_renderer.cpp,
	  src/libambulant/gui/qt/qt_text_renderer.cpp,
	  include/ambulant/gui/qt/Makefile.am,
	  include/ambulant/gui/qt/qt_gui.h,
	  include/ambulant/gui/qt/qt_image_renderer.h,
	  include/ambulant/gui/qt/qt_renderer.h,
	  include/ambulant/gui/qt/qt_text_renderer.h: qt_player for Linux
	  plays text and pics. Still TBD: - remove superfluous widgets; -
	  implement pause (button works, must make mainloop non-static) -
	  make it properly terminating

2003-10-13 16:46  jack

	* configure.in, src/Makefile.am, src/libambulant/Makefile.am,
	  src/player_macosx/.cvsignore, src/player_macosx/Makefile.am,
	  src/player_macosx/fullcocoambulant.pbproj/.cvsignore,
	  src/player_unix/Makefile.am: Added various bits and pieces to
	  make "make dist" work again.	Still unix-only, though.

2003-10-13 16:26  anadelt

	* bin/win32/readme.txt: Some more notes on building the library and
	  application(s) under windows.

2003-10-13 15:57  anadelt

	* include/ambulant/net/datasource.h: Remove "READ" debug logging
	  statement.

2003-10-13 15:55  anadelt

	* src/libambulant/gui/dx/dx_img.cpp: Remove #pragma for including
	  libjpeg.lib. Transfer it to a more visible place.

2003-10-13 15:53  anadelt

	* src/: libambulant/libambulant_win32.vcproj,
	  player_wincon/main_dx.cpp, player_wincon/player_wincon.vcproj:
	  Add ../../lib/win32 as an extension lib path.

2003-10-13 15:51  anadelt

	* bin/win32/readme.txt: Short instructions on how to build
	  player_wincon project.

2003-10-13 15:50  anadelt

	* lib/win32/: libexpat.lib, libjpeg.lib: A well known directory
	  containing the libs that the application ink against.

2003-10-13 15:20  anadelt

	* src/libambulant/net/url.cpp, include/ambulant/lib/document.h:
	  Keep the path un-touched. At least for now.

2003-10-13 14:59  jack

	* include/ambulant/lib/document.h: Pass a string, not a char
	  (doesn't work on Unix, at least).

2003-10-13 14:36  jack

	* Documentation/Design/models/: clocks.graffle, clocks.pdf,
	  renderer.graffle, renderer.pdf, timeline.graffle, timeline.pdf:
	  Updated the diagrams to the current state of affairs.

2003-10-13 14:14  anadelt

	* include/ambulant/lib/document.h: Add root indicator for unix
	  paths.

2003-10-13 14:06  jack

	* README, README-CVS: Updated.

2003-10-13 13:34  jack

	* src/libambulant/Makefile.am: Added net/url.cpp.

2003-10-13 13:34  jack

	* include/ambulant/lib/string_util.h: Added missing include for
	  ctype.h, which is needed on unix.

2003-10-12 23:35  anadelt

	* bin/win32/run.bat: Cmd line to start mmsdoc.smil

2003-10-12 23:34  anadelt

	* bin/win32/: libexpat.dll, player_wincon.exe: Add the dx MMS-like
	  player binaries for inspection until the instructions for
	  building are avalaible.

2003-10-12 23:32  anadelt

	* src/libambulant/libambulant_win32.vcproj: Add dx gui to the win32
	  libambulant lib.

2003-10-12 23:31  anadelt

	* src/player_wincon/player_wincon.vcproj: Set main_dx as the
	  default main.

2003-10-12 23:30  anadelt

	* src/player_wincon/: main_dx.cpp, main_none.cpp: We keep two
	  versions of "main". One for the the none gui and one for the dx
	  gui.

2003-10-12 23:19  anadelt

	* include/ambulant/common/renderer.h: Add a virtual destructor to
	  renderer factory. Otherwise the base pointer can not be used to
	  delete the subclass.

2003-10-12 23:19  anadelt

	* include/ambulant/common/region.h: Add getters for clipping
	  rectangle and parent.  Add a virtual destructor to window
	  factory. Otherwise the base pointer can not be used to delete the
	  subclass.

2003-10-12 23:14  anadelt

	* src/libambulant/net/url.cpp: Two handy functions for setting a
	  url from a windows or a unix path.

2003-10-12 23:11  anadelt

	* include/ambulant/lib/win32/win32_timer.h: Update win32 timer
	  interface

2003-10-12 23:07  anadelt

	* include/ambulant/lib/: asb.h, document.h: Some arrangements so
	  that file urls work also for windows that use the backslash as
	  file separator.

2003-10-12 23:05  anadelt

	* include/ambulant/lib/string_util.h: Keep and make available the
	  string the scanner is working on.

2003-10-12 23:04  anadelt

	* include/ambulant/net/url.h: Two handy functions for setting a url
	  from a windows or a unix path.

2003-10-12 23:02  anadelt

	* include/ambulant/net/datasource.h: Add a stdio-like interface to
	  the data source.

2003-10-12 22:58  anadelt

	* src/libambulant/lib/win32/win32_event_processor.cpp: Write event
	  processor id. This proves that we have 2 processors running. Why
	  do we need two?

2003-10-12 22:55  anadelt

	* src/libambulant/lib/win32/win32_timer.cpp: Fix win32 timer.

2003-10-12 22:52  anadelt

	* include/ambulant/gui/dx/dx_surface.h,
	  include/ambulant/gui/dx/dx_text.h,
	  include/ambulant/gui/dx/dx_viewport.h,
	  include/ambulant/gui/dx/img_decoder.h,
	  include/ambulant/gui/dx/jpg_decoder.h,
	  include/ambulant/gui/dx/dx_audio.h,
	  include/ambulant/gui/dx/dx_audio_player.h,
	  include/ambulant/gui/dx/dx_gui.h,
	  include/ambulant/gui/dx/dx_img.h,
	  src/libambulant/gui/dx/dx_audio.cpp,
	  src/libambulant/gui/dx/dx_gui.cpp,
	  src/libambulant/gui/dx/dx_img.cpp,
	  src/libambulant/gui/dx/dx_text.cpp,
	  src/libambulant/gui/dx/dx_viewport.cpp: A full feature MMS-like
	  player under win32.  Uses direct draw surfaces for display (text
	  and images).	Uses the available infrastructure under windows for
	  audio playback (direct show).  Uses the jpeglib for jpeg
	  decoding.  The wrapper window is missing yet but this is the easy
	  part (the console is handy to have till the last moment).

2003-10-10 18:58  anadelt

	* src/libambulant/libambulant_win32.vcproj: Update project with
	  timer related source files.

2003-10-10 18:49  anadelt

	* include/ambulant/lib/event_processor.h: Event processor does not
	  own the timer any more and therefore should not delete it.

2003-10-10 18:46  anadelt

	* include/ambulant/lib/win32/win32_event_processor.h,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/lib/win32/win32_factory.cpp: Event processor
	  constructor accepts now a timer (borrows actually according to
	  the design)

2003-10-10 18:44  anadelt

	* include/ambulant/lib/win32/win32_timer.h,
	  src/libambulant/lib/win32/win32_timer.cpp: Provide an
	  abstract_timer  based timer for win32.

2003-10-10 17:15  jack

	* include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_audio.h,
	  include/ambulant/gui/cocoa/cocoa_image.h,
	  include/ambulant/gui/cocoa/cocoa_text.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_audio.m,
	  src/libambulant/gui/cocoa/cocoa_audio.mm,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/cocoa/cocoa_image.m,
	  src/libambulant/gui/cocoa/cocoa_image.mm,
	  src/libambulant/gui/cocoa/cocoa_text.m,
	  src/libambulant/gui/cocoa/cocoa_text.mm,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Split
	  the three Cocoa renderers out of cocoa_gui.mm and moved them to
	  their own files.

2003-10-09 00:01  jack

	* include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_thread.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_thread.cpp: Found and fixed a nasty
	  bug (with help from valgrind and Kees): the unix_event_processor
	  and unix_thread destructors didn't call stop() to stop the actual
	  threads, so they continued running in a destructed object.

2003-10-08 17:34  jack

	* configure.in, Documentation/Design/text/objects.html,
	  Documentation/Design/text/objects.txt,
	  include/ambulant/version.h,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/common/player.h,
	  include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/node_navigator.h,
	  include/ambulant/lib/timer.h,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_timer.cpp,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/cocoambulant_Prefix.pch,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/English.lproj/MainMenu.nib/info.nib,
	  src/player_macosx/English.lproj/MainMenu.nib/objects.nib,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Merging the timer modifications back to the trunk.

2003-10-08 17:17  jack

	* configure.in, Documentation/Design/text/objects.html,
	  Documentation/Design/text/objects.txt,
	  include/ambulant/version.h: Documented the new stuff.  Upped the
	  version number.

2003-10-08 17:00  jack

	* include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/timer.h,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/timer.cpp: - Split the timer notification
	  code out into a new baseclass   abstract_timer_client. Also use a
	  set in stead of a vector to	remember the children.	- Added a
	  call to event_processor to get at the timer.	- Use all this in
	  the cocoa audio renderer to actually pause audio   playback when
	  the user presses Pause.

2003-10-08 16:56  jack

	* src/player_macosx/English.lproj/MainMenu.nib/: info.nib,
	  objects.nib: Added shortcuts for play/stop/pause.

2003-10-08 16:56  jack

	* src/player_macosx/MyDocument.mm: - Allow pause to unpause too.  -
	  Removed menu handling debug prints.

2003-10-08 14:27  kees

	* src/libambulant/lib/unix/unix_event_processor.cpp: Initialized
	  mutex and condition (Jack, valgrind)

2003-10-08 14:25  kees

	* include/ambulant/lib/unix/unix_event_processor.h: Added check for
	  premature deletion (Jack)

2003-10-08 14:24  jack

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/node_navigator.h,
	  include/ambulant/lib/timer.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  src/libambulant/lib/timer.cpp: - Extended the timer interface
	  with calls to get notification of   speed changes, and get the
	  current realtime speed - Squanshed a few more compiler warnings.

2003-10-08 14:22  jack

	* src/player_macosx/: cocoambulant_Prefix.pch,
	  fullcocoambulant.pbproj/project.pbxproj: Minor tweaks to make the
	  XCode builds a bit more palatable.

2003-10-08 12:37  jack

	* include/ambulant/lib/event_processor.h,
	  src/libambulant/Makefile.am: Updated for the new timer
	  interfaces.

2003-10-07 23:58  jack

	* Documentation/Design/text/objects.txt: dded a preliminary
	  description of clocks.

2003-10-07 23:01  jack

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Revamped things so that play/stop/pause buttons can be enabled
	  and disabled at the right time, and we can get current
	  play/stop/pause state.

	  Pausing is untested.

2003-10-07 17:15  jack

	* include/ambulant/common/player.h,
	  include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/timer.h,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/timer.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_timer.cpp,
	  src/player_macosx/mainloop.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on new timer design: the client interface is
	  abstract_timer, of which timer is one implementation, depending
	  on a parent timer.  Another implementation is the OS-dependent
	  realtime timer (currently implemented for Unix only). Speed can
	  be set with set_speed().  Currently by default timers are created
	  by default with speed==1.0, but I think 0.0 is probably a better
	  choice, eventually.

	  There are now also calls to set the speed of the presentation,
	  but this hasn't been tested yet.

	  The API for renderers that can provide time also hasn't been done
	  yet.

2003-10-06 17:32  jack

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Added critical sections
	  to all renderers: this is needed because we have multiple threads
	  (which I had conveniently forgotten:-) so we could be trying to
	  stop renderers while they're busy redrawing.

	  I'm not 100% convinced that this isn't a refcount problem, but
	  locking at least fixes the crashes for now.

2003-10-06 15:01  jack

	* src/libambulant/gui/cocoa/cocoa_gui.mm: Added an audio renderer
	  for Cocoa. This is a very simple-minded one, based on NSSound,
	  but it'll do as a placeholder.

2003-10-06 15:01  jack

	* configure.in: Upped the version number.

2003-10-06 15:00  jack

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp: Added a new superclass
	  active_basic_renderer, of which active_renderer is now a
	  subclass. The new base class does nothing with activating
	  datasources and regions, and is therefore a better base class for
	  an external audio renderer.

	  It think the two bits of additional functionality that are now in
	  active_renderer (activating the datasource and handling
	  region/redraw) should probably be split out to mixin classes, but
	  this remains TBD.

2003-10-06 14:11  jack

	* src/libambulant/net/datasource.cpp,
	  include/ambulant/net/datasource.h: Added a get_url() method to
	  passive_datasource.  Changed m_url member to std::string.

2003-10-03 17:07  jack

	* include/Makefile.am, include/ambulant/Makefile.am,
	  include/ambulant/version.h, include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/basic_types.h,
	  include/ambulant/lib/colors.h, src/libambulant/get_version.cpp,
	  src/player_macosx/mainloop.h,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: -
	  moved basic_types.h to ambulant/lib - removed ambulant.h -
	  created ambulant/version.h which has the version number (upped to
	  0.1)	 and also a new inline routine check_version() which tests
	  that the   shared library is the same version as the current
	  headers

2003-10-03 14:33  jack

	* include/ambulant/lib/document.h,
	  include/ambulant/lib/string_util.h, include/ambulant/net/url.h,
	  src/libambulant/common/player.cpp, src/libambulant/net/url.cpp:
	  Squashed more gcc 3.3 warnings.

2003-10-03 14:04  jack

	* include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/lib/node.cpp, src/player_macosx/MyDocument.mm:
	  Put most debug output behind AM_DBG, but added some to the
	  none_gui classes (so you actually see something with demoplayer).
	  Use the new stream logger interface in some places.

2003-10-03 13:08  jack

	* include/ambulant/common/renderer.h,
	  include/ambulant/lib/logger.h,
	  src/libambulant/common/timelines.cpp: Squashed a few more
	  compiler warnings (gcc 3.3).

2003-10-01 18:00  anadelt

	* include/ambulant/lib/logger.h: Logger now makes available thread
	  safe ostream like logging.  Usage example: lib::logger::ostream
	  os = lib::logger::get_logger()->trace_stream(); os << "message1:
	  " << object1 << lib::endl; os << "message2: " << object2 <<
	  lib::endl; The lib::endl() injects the message at the appropriate
	  log level. The above example would output 2 tracing messages.

2003-10-01 17:06  jack

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/net/datasource.cpp,
	  src/player_macosx/mainloop.cpp, src/player_macosx/mainloop.h: Use
	  ref_counted_obj baseclass in stead of ref_counted protocol.

2003-10-01 16:26  jack

	* include/ambulant/common/player.h,
	  src/libambulant/common/player.cpp: Use no_arg_callback in stead
	  of more heavyweight callback.

2003-10-01 16:22  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Use
	  scalar_arg_callback in stead of more heavyweight callback.

2003-10-01 15:19  anadelt

	* Documentation/Design/models/: node.pdf, node.svg: Add a comment
	  on template arguments requirements.

2003-10-01 15:00  jack

	* Documentation/Design/: Makefile, README.txt, index.html,
	  index.txt, text/README, text/objects.html, text/objects.txt,
	  text/overall.html, text/overall.txt, text/timeline.html,
	  text/timeline.txt, text/todo.txt: Next pass over the documents. I
	  think everything is done now.

2003-10-01 14:08  anadelt

	* Documentation/Design/models/event_processor.svg: Save event
	  processor model as SVG.

2003-10-01 14:08  anadelt

	* Documentation/Design/models/event_processor.pdf: Update event
	  processor model.

2003-10-01 13:23  anadelt

	* Documentation/Design/models/callback.svg: Save callbacks model as
	  SVG.

2003-10-01 13:23  anadelt

	* Documentation/Design/models/callback.pdf: Update callbacks model

2003-10-01 12:53  anadelt

	* include/ambulant/lib/: expat_parser.h, sax_handler.h: Fill in the
	  missing xml_parser interface referenced in the UML model.

2003-10-01 12:51  anadelt

	* Documentation/Design/models/parser.svg: XML parser UML model as
	  SVG.

2003-10-01 12:51  anadelt

	* Documentation/Design/models/parser.pdf: XML parser UML model as
	  PDF.

2003-10-01 11:55  anadelt

	* Documentation/Design/models/: document.pdf, document.svg: Show
	  also document association with the namespace registry.

2003-10-01 11:36  anadelt

	* Documentation/Design/models/node.svg: Node UML model as SVG.

2003-10-01 11:36  anadelt

	* Documentation/Design/models/node.pdf: Node UML model as PDF.

2003-10-01 11:15  jack

	* Documentation/Design/text/: Makefile, auxobjects.html,
	  auxobjects.txt, datasource.html, datasource.txt, document.html,
	  document.txt, event_processor.html, event_processor.txt,
	  objects.html, objects.txt, player.html, player.txt, region.html,
	  region.txt, renderer.html, renderer.txt, timeline.html,
	  timeline.txt: Split most of objects.txt into separate files, and
	  use the same names as for the models.

	  Not fully done yet, some text still has to be moved.

2003-10-01 10:21  anadelt

	* Documentation/Design/models/document.svg: Document UML model as
	  SVG..

2003-10-01 10:21  anadelt

	* Documentation/Design/models/document.pdf: Document UML model as
	  PDF.

2003-10-01 00:14  jack

	* Documentation/Design/text/objects.txt: Updated to the current
	  state of affairs.

2003-09-30 23:08  jack

	* Documentation/Design/models/: player.graffle, player.pdf: Fixed
	  title.

2003-09-30 22:57  jack

	* Documentation/Design/models/: datasource.graffle, datasource.pdf,
	  player.graffle, player.pdf, region.pdf, renderer.graffle,
	  renderer.pdf, timeline.graffle, timeline.pdf: Finished all UML
	  diagrams, except the document/node/parser ones.  Grayed out some
	  objects that don't currently exist.

2003-09-30 22:29  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Changed some misleading member and type names that showed up
	  during documenting.

2003-09-30 17:06  jack

	* Documentation/Design/models/: region.graffle, timeline.graffle:
	  Finished a few more objects.

2003-09-30 16:45  jack

	* Documentation/Design/models/: player.graffle, region.graffle,
	  renderer.graffle: Started on documenting current state of
	  affairs. About half-way done.

2003-09-30 14:31  jack

	* include/ambulant/lib/logger.h: Made windows-specific __cdecl
	  optional.

2003-09-29 23:53  anadelt

	* include/ambulant/lib/logger.h: Experimental (or just playing):
	  Allow ostream operators to be applied on loggers. For example
	  allow the syntax: (*logger) << message << " " << n << lib::endl;

2003-09-29 22:01  anadelt

	* include/ambulant/lib/logger.h: Fill in the gaps for logging
	  direcly objects and specifically strings.

2003-09-29 21:50  anadelt

	* include/ambulant/net/datasource.h: Add an alternative std c++
	  implementation to data source so that Jack's design compiles also
	  on platforms that don't have unistd.h.  I don't fix the original
	  to compile under win32 because I think the whole subject of the
	  data sources need re-thinking. So, i follow the simpler solution
	  for me.

2003-09-29 17:16  jack

	* include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/player_macosx/cocoambulant.pbproj/project.pbxproj: Oops: now
	  that active_renderer is a pure virtual class we can't use it
	  anymore to create renderers for unknown media types. We use the
	  none_active_renderer class in stead (which is now exported in
	  none_gui.h).

2003-09-29 14:53  jack

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm: - Adapted to the new
	  coordinate scheme and the new signatures.  - Added ObjC methods
	  to do conversion from ambulant screen_rect   to NSRect and
	  vice-versa, converting the topleft-based coordinate	system to a
	  bottom-left based one.  - In need_redraw() honour the rectangle
	  passed in, in stead of scheduling   a redraw for the whole view.

2003-09-29 14:51  jack

	* src/libambulant/gui/none/none_gui.cpp: Moved the default redraw()
	  routine to a new class none_active_renderer.

2003-09-29 14:50  jack

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/lib/logger.cpp: Changed the way coordinate
	  systems work in regions. All regions now use a topleft (0, 0)
	  based coordinate system internally, with m_inner_bounds the
	  definition of this. Regions also store their own rectangle in the
	  parent coordinate system as m_outer_bounds. Conversion is done
	  when calling parent need_redraw() or child redraw() methods.

	  Redraw() has a different signature, passing the dirty area in
	  local coordinates along with a reference to the toplevel window
	  and the coordinates of local (0, 0) in toplevel window space.

	  active_renderer::redraw() has become a true virtual function, and
	  the old default functionality of it has moved to a new class
	  none_active_renderer, so you'll get compiler errors if you don't
	  override it after the signature change.

2003-09-29 14:44  jack

	* include/ambulant/lib/gtypes.h: - Got rid of 4-argument
	  constructor for screen_rect.	- Changed names of inset() and
	  outset() to innercoordinates() and   outercoordinates().

2003-09-29 14:37  jack

	* include/ambulant/common/renderer.h,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp: Made
	  active_renderer::redraw() a true virtual method, to forestall
	  bugs with accidentally not overriding it when its signature
	  changes:-)

	  Moved the old default active_renderer::redraw() to a new class
	  none_active_renderer, and adapted the dead_renderer code in
	  timelines too.

2003-09-29 14:12  jack

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/lib/gtypes.h, include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/common/timeline_builder.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Things
	  seem to work. Getting ready to merge, after testing that
	  everything still compiles on Linux.

2003-09-29 00:05  jack

	* include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/lib/gtypes.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Almost
	  there: we now get the right coordinates (and a pointer to the
	  toplevel window, which was also needed, sigh) in the renderer
	  redraw routine. Only converting the coordinates remains to be
	  done.

2003-09-26 16:41  jack

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/lib/gtypes.h, src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/lib/logger.cpp: Started on using local
	  coordinates within regions. This makes conversion to Cocoa
	  coordinates localized, and it should eventually make it a lot
	  easier to hande animated regions and such too.

	  The code is unfinished, so I'm checking it in on a branch.

2003-09-26 14:33  dbenden

	* src/libambulant/net/datasource.cpp: removed the FATAL no file
	  open error

2003-09-25 17:25  anadelt

	* bin/win32/readme.txt: Some notes.

2003-09-25 17:16  anadelt

	* include/ambulant/lib/callback.h: Provide a no argument callback
	  and a callback that may accept either a built in arg or a
	  reference to an object.  Actualy this second is more generic than
	  the existing since it may accept pointers as a special case (but
	  will not delete them).  The no arg and the by-value-or-ref
	  callbacks are provided for both ref counted and not ref counted
	  objects.

2003-09-25 16:24  anadelt

	* include/ambulant/lib/event.h: Some things are simple and this
	  should be reflected in the code.  Provide a simple but handy flag
	  event.  When the event fires toggles a boolean flag. The flag is
	  passed by reference and therefore the creator of the event can
	  monitor the flag.

2003-09-25 16:19  anadelt

	* include/ambulant/lib/expat_parser.h: Remove #ifdef WIN32 section.
	  We can give simpler instructions to third people if this is
	  missing.

2003-09-25 16:18  anadelt

	* include/ambulant/common/renderer.h: Member m_dest should be
	  initialized in the destructor since its defined as a const
	  pointer.

2003-09-25 16:17  anadelt

	* include/ambulant/gui/none/none_gui.h: Make ineritance
	  relationship public so that we don't have to cast.

2003-09-25 16:15  anadelt

	* src/libambulant/libambulant_win32.vcproj: Update workspace with
	  the current ambulant lib.  The workspace includes the kib plus
	  the none gui windows player console.

2003-09-25 16:13  anadelt

	* src/player_wincon/player_wincon.vcproj: A none gui windows player
	  console.

2003-09-24 13:06  jack

	* src/player_macosx/: MyAppDelegate.h, MyAppDelegate.m,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib,
	  fullcocoambulant.pbproj/project.pbxproj: Disabled the "New"
	  command, and don't open a new empty document on startup.

2003-09-24 00:17  jack

	* include/ambulant/lib/gtypes.h: Added width() and height()
	  methods, and inset().

2003-09-23 15:34  jack

	* include/ambulant/common/region_eval.h,
	  include/ambulant/lib/gtypes.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/common/region.cpp,
	  src/player_macosx/fullcocoambulant.pbproj/project.pbxproj:
	  Started on the new rectangle design, but I'm not happy with it,
	  so I'm checking it in on a branch.

2003-09-23 15:25  dbenden

	* src/libambulant/net/datasource.cpp: Fixed : // XXX This does too
	  much work for pos==m_used, and fails silently for pos>m_used in
	  databuffer::shift_down.

2003-09-23 11:38  dbenden

	* src/libambulant/net/datasource.cpp: improved	codig style.

2003-09-22 23:45  jack

	* include/ambulant/common/player.h,
	  include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/string_util.h,
	  src/libambulant/gui/cocoa/cocoa_gui.mm,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/node.cpp,
	  src/libambulant/lib/unix/unix_thread.cpp,
	  src/player_macosx/cocoambulant.pbproj/project.pbxproj: Squashed
	  compiler warnings (mainly about initialization order of members).
	  Made cocoa drawing a bit more palatable.

2003-09-22 23:44  jack

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Made
	  paths to the libambulant sources relative.

2003-09-22 16:53  jack

	* src/: libambulant/gui/cocoa/cocoa_gui.mm,
	  player_macosx/cocoambulant_Prefix.pch: We can draw text now, too!
	  At least: sometimes:-)

2003-09-22 15:40  jack

	* src/player_macosx/fullcocoambulant.pbproj/project.pbxproj: Added
	  a project "fullcocoambulant" which is similar to cocoambulant,
	  but it builds everything from source in stead of using the
	  pre-built libraries for ambulant. This should make the
	  build/debug cycle a bit shorter, and debugging easier.

2003-09-22 15:37  jack

	* src/libambulant/gui/cocoa/: cocoa_gui.m, cocoa_gui.mm: Moved the
	  actual code to cocoa_gui.mm, as it really is ObjC++ code.  Added
	  a new cocoa_gui.m file, which includes cocoa_gui.mm. All this
	  cruft is needed because automake doesn't understand about ObjC++
	  (yet), and the workarounds in the automake manual don't seem to
	  work when building shared libraries.

2003-09-22 15:18  jack

	* src/libambulant/gui/cocoa/cocoa_gui.m: Fixed lots of small bugs.
	  We can now draw images.

2003-09-22 15:17  jack

	* src/libambulant/net/datasource.cpp: Fixed off-by-one error
	  (reading all data failed), and added a comment about some code
	  that needs review.

2003-09-20 00:37  jack

	* src/libambulant/common/renderer.cpp,
	  src/libambulant/gui/cocoa/cocoa_gui.m,
	  include/ambulant/common/renderer.h: Added a new renderer
	  subclass, active_final_renderer, that has a readdone method that
	  collects all data into m_data, and then calls need_redraw(). Use
	  this as the base class for the cocoa classes.  Also, in the Cocoa
	  image renderer class started on creating the image.

2003-09-19 16:09  jack

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp: The last active_region created
	  is not a good initalizer for m_cur_active_region: that is the
	  region being prerolled. Added an explicit show() message to
	  passive_region, which is called by active_region.show().

	  Also added lots of debug output.

2003-09-19 16:07  jack

	* src/libambulant/common/timeline_builder.cpp: Screen_rect are
	  ltrb-style, not xywh.

2003-09-19 16:06  jack

	* include/ambulant/common/timelines.h: Squashed another compiler
	  warning.

2003-09-19 16:05  jack

	* src/libambulant/gui/cocoa/cocoa_gui.m,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/player_macosx/MyAmbulantView.h,
	  src/player_macosx/MyAmbulantView.mm,
	  src/player_macosx/MyDocument.h, src/player_macosx/MyDocument.mm,
	  src/player_macosx/English.lproj/MyDocument.nib/classes.nib,
	  src/player_macosx/English.lproj/MyDocument.nib/info.nib,
	  src/player_macosx/English.lproj/MyDocument.nib/objects.nib,
	  src/player_macosx/cocoambulant.pbproj/project.pbxproj: Moved most
	  of the cocoa-ambulant glue code back to cocoa_gui.m.	Changed the
	  class in the player to MyAmbulantView (inheriting from
	  AmbulantView, which is now defined my cocoa_gui).

2003-09-18 00:06  anadelt

	* include/ambulant/lib/string_util.h: A handy wrapper around the
	  scanner. Holds tokens and their values and offers some basic join
	  operations on them.  Currently this wrapper is used for parsing
	  URLs.

2003-09-18 00:03  anadelt

	* include/ambulant/net/url.h, src/libambulant/net/url.cpp: A basic
	  URL class implementation. Very limited now but capable to evolve
	  as the need arise.

2003-09-17 23:46  jack

	* src/libambulant/gui/cocoa/cocoa_gui.m: Added some drawing code.
	  Only clear to blue/red, and we don't always see it, but at least
	  it's something:-)

2003-09-17 23:18  jack

	* src/Makefile.am: Don't try to build player_unix if WITH_QT isn't
	  defined.  Added the same infrastructure for player_cocoa, but it
	  isn't enabled yet (because I haven't worked out how to build it
	  with automake).

2003-09-17 23:16  jack

	* configure.in: Oops, forgot to check in the comment pointing to
	  the source of the workaround.

2003-09-17 23:05  jack

	* configure.in: The problem with OBJCDEPMODE turns out to be a bug
	  in automake.	Added a workaround googled from the automake
	  mailing list.

2003-09-17 14:30  kees

	* configure.in, src/Makefile.am: Changed some things some that my
	  files compile.

2003-09-17 14:26  kees

	* src/player_unix/Makefile.am: Added ambulant_qt, an initial GUI
	  for the ambulant player.

2003-09-17 00:04  jack

	* src/player_macosx/: MyDocument.h, MyDocument.mm, mainloop.cpp,
	  mainloop.h, English.lproj/MyDocument.nib/classes.nib,
	  English.lproj/MyDocument.nib/info.nib,
	  English.lproj/MyDocument.nib/objects.nib: Ambulant can now send
	  need-redraw messages to Cocoa, and Cocoa calls the ambulant
	  redraw code. But I'm not happy with the structure yet: it's
	  fairly spaghetti-like and ugly.

2003-09-17 00:03  jack

	* include/ambulant/common/: region.h, timelines.h: Fixed some
	  warnings.

2003-09-16 17:03  jack

	* configure.in, include/ambulant/gui/cocoa/cocoa_gui.h,
	  include/ambulant/gui/none/none_gui.h,
	  include/ambulant/common/region.h, src/libambulant/Makefile.am,
	  src/libambulant/gui/cocoa/cocoa_gui.m,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/common/region.cpp,
	  src/player_macosx/cocoambulant.pbproj/project.pbxproj: Lots of
	  different little changes (unfortunately difficult to split out):
	  - Changed cocoa code to ObjC++, and put it in a separate library
	  libambulant_cocoa.a.  - Changed various "char *name" to
	  "std::string &name".	- For the time being compile the library
	  with inlining and optimizing off.

2003-09-16 00:07  anadelt

	* include/ambulant/lib/document.h: Allow a client to detach the
	  root. If not detached then the doc remains the owner.

2003-09-16 00:03  anadelt

	* include/ambulant/lib/node.h, src/libambulant/lib/node.cpp: Add a
	  function thas searches ancestors of a node for the existance of
	  specific  attribute. We are currently interested for the
	  "xml::base" attribute.

2003-09-15 23:59  anadelt

	* include/ambulant/lib/string_util.h: Add to string utilities a
	  generic string scanner/tokenizer.  May be used to parse URLs for
	  example when we pass ":/?" as delimiters.

2003-09-15 13:20  jack

	* configure.in, src/libambulant/Makefile.am: Conditionally include
	  cocoa toolkit files, depending on --with-cocoa configure option.

2003-09-15 12:36  jack

	* configure.in, include/ambulant/gui/Makefile.am,
	  include/ambulant/gui/cocoa/.cvsignore,
	  include/ambulant/gui/cocoa/Makefile.am,
	  include/ambulant/gui/cocoa/cocoa_gui.h,
	  src/libambulant/Makefile.am, src/player_macosx/mainloop.cpp:
	  Brought the cocoa (dummy) code up-to-date.

2003-09-15 11:33  jack

	* configure.in: Build makefiles in include/ambulant/gui

2003-09-15 11:33  jack

	* include/ambulant/: Makefile.am, gui/.cvsignore, gui/Makefile.am,
	  gui/none/.cvsignore, gui/none/Makefile.am: Added infrastructure
	  to get gui and gui/none installed

2003-09-15 11:31  jack

	* src/player_macosx/: mainloop.cpp,
	  cocoambulant.pbproj/project.pbxproj: Updated to the new api.

2003-09-15 11:30  jack

	* include/ambulant/common/region.h: Added two semicolons, for what
	  I think can only be a bug in gcc 3.3 when compiling ObjC++ code.
	  Without the semicolons C++ code compiles fine, but for ObjC++
	  code we need to add empty declarations between adjacent class
	  declarations.

2003-09-15 09:56  jack

	* include/ambulant/common/player.h,
	  include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timeline_builder.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/gui/none/none_gui.h,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/player_macosx/cocoambulant_Prefix.pch,
	  src/player_macosx/cocoambulant.pbproj/project.pbxproj: There's a
	  new subclass passive_window of passive_region that is a toplevel
	  window. The passive regions maintain the region structure and
	  take care of routing redraw events. Creating subregions is done
	  through a method of passive_region.

	  Window_factory and renderer_factory are now classes, stored in
	  the player object and passed along to timeline_builder and
	  active_timeline as needed.

2003-09-12 16:55  jack

	* include/ambulant/common/region.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp: Added a need_redraw() method
	  to active_region, and call this whenever we need a redraw. Also
	  added screen_bounds to the passive region.

	  In the active_region baseclass the need_redraw() calls are
	  short-circuited to redraw(), in the toolkit-dependent subclasses
	  it will probably post and event to the GUI event loop, which will
	  then subsequently call our redraw routine.

2003-09-12 16:53  jack

	* src/player_macosx/: English.lproj/MyDocument.nib/classes.nib,
	  English.lproj/MyDocument.nib/info.nib,
	  English.lproj/MyDocument.nib/objects.nib,
	  cocoambulant.pbproj/project.pbxproj: AmbulantView is a subclass
	  of NSView that will eventually take care of routing the redraw
	  events to the ambulant code in the library. At the moment it
	  simply paints the region red.

2003-09-12 16:16  jack

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h, src/libambulant/Makefile.am,
	  src/libambulant/gui/none/none_gui.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp: Added a "gui" section to
	  the library, with "none" and "cocoa" subsections under it. This
	  contains toolkit-dependent code, currently only a renderer
	  factory. toolkit-dependent active_renderers are subclasses of
	  active_renderer.

	  Use the renderer factory in the timeline code.

	  Made various methods in active_region and active_renderer
	  virtual.

2003-09-12 14:04  jack

	* include/ambulant/common/player.h: Url argument to passive_player
	  constructor is readonly.

2003-09-12 09:52  anadelt

	* include/ambulant/lib/filesys.h,
	  include/ambulant/lib/win32/win32_asb.h,
	  src/libambulant/lib/win32/win32_asb.cpp: Add two filesys
	  functions we would like to have available in platform independent
	  code: getcwd() and resolve_path() Implement them on windows and
	  provide a dummy implementation for other platforms. Certainly
	  these will exist as direct functions on most if not all of the
	  plaforms.

2003-09-12 00:03  anadelt

	* include/ambulant/lib/callback.h: Define explicitly target member
	  function based on the template arguments.  Jack, i hope that now
	  Gcc 3.3 will not give any warnings.  Please update me if it does.

2003-09-11 23:19  jack

	* src/libambulant/common/: player.cpp, timeline_builder.cpp: Use
	  the new document class to create the document, and use
	  node::get_url to get URLs. We can now play documents in other
	  directories, yeah!

2003-09-11 23:18  jack

	* include/ambulant/lib/Makefile.am: Added the new include files,
	  and put all files on separate lines to make updating this file
	  (and keeping it sorted) easier.

2003-09-11 23:17  jack

	* src/libambulant/lib/node.cpp: Fixed what I think was a typo in a
	  node constructor. Kleanthis: please double-check!

2003-09-11 17:40  anadelt

	* include/ambulant/lib/document.h, include/ambulant/lib/filesys.h,
	  include/ambulant/lib/node.h, include/ambulant/lib/string_util.h,
	  src/libambulant/lib/node.cpp: Fix process of locating nodes using
	  simple xpath like paths.  Use filesys path utilities for joining
	  path components.  Remove/rewrite some stuff in string util.

2003-09-11 15:07  anadelt

	* include/ambulant/lib/filesys.h: Some first file system path
	  related utilities. Mainly os path split/join.

2003-09-11 12:21  anadelt

	* include/ambulant/lib/callback.h: Fix a wrong comment.

2003-09-11 12:20  anadelt

	* include/ambulant/lib/node.h, include/ambulant/lib/nscontext.h,
	  include/ambulant/lib/tree_builder.h,
	  src/libambulant/lib/node.cpp,
	  src/libambulant/lib/tree_builder.cpp: Sync with the following:
	  Add an interface (node_context) specifying the context services
	  required by node objects.  Add a document class, representing an
	  XML document and implementing the node_context interface.  One of
	  the services that the node context has to offer is resolving URLs
	  based on the algorithm of XML Base spec.

2003-09-11 12:19  anadelt

	* include/ambulant/lib/document.h: Add an interface (node_context)
	  specifying the context services required by node objects.  Add a
	  document class, representing an XML document and implementing the
	  node_context interface.  One of the services that the node
	  context has to offer is resolving URLs based on the algorithm of
	  XML Base spec.

2003-09-10 16:35  jack

	* src/player_macosx/cocoambulant.pbproj/project.pbxproj: Use
	  relative paths for include and libs.

2003-09-10 16:28  anadelt

	* include/ambulant/lib/callback.h: A more flexible implementation
	  for callbacks. Allow the client to choose among the available
	  options.  The changes keep compatibility with the current code
	  base. No code changes are required elsewhere.

2003-09-10 16:14  jack

	* include/ambulant/lib/Makefile.am: renderer.h wasn't installed.
	  Fixed.

2003-09-10 15:58  jack

	* src/libambulant/lib/unix/unix_event_processor.cpp: Unfortunately
	  pthread_cond_timedwait_relative_np() isn't implemented on Linux,
	  so we need to use pthread_cond_timedwait() with absolute time.
	  The current code is not really good enough, because it should get
	  the current time in nanoseconds (it only does seconds right now).

2003-09-10 14:37  jack

	* src/libambulant/common/: player.cpp, skeleton.cpp: Got rid of
	  refcount initializations.

2003-09-10 09:45  anadelt

	* include/ambulant/lib/refcount.h: Add a ref_counted wrapper
	  (auto_ref) that converts normal objects to a ref_counted objects.
	  The cost is that you have to get the wrapped object using
	  get_ptr().  As all ref_counted objects and this one is created
	  with the operator new.

2003-09-09 23:09  jack

	* src/player_macosx/: MyDocument.mm, cocoambulant_Prefix.pch: Use
	  the filename of the document in stead of a dummy name to play.

2003-09-09 22:37  anadelt

	* include/ambulant/common/skeleton.h: A second example on the usage
	  of ref_counted_obj.

2003-09-09 22:36  anadelt

	* include/ambulant/common/player.h: An example code can be removed
	  using ref_counted_obj.

2003-09-09 22:35  anadelt

	* include/ambulant/lib/refcount.h: Even though was left rather
	  difficult to implement ref counted objects, a not negligible
	  portion of the code uses ref counting. As a consequence repeats
	  again and again the same boiler plate code.  Implement a class
	  (ref_counted_obj) that willl simplify all refcounted objects.
	  Just change ref_counted to ref_counted_obj and remove all the
	  code related with ref counting.  Simplify this module by removing
	  support for non self destroying objects since natural selection
	  decided so.

2003-09-09 15:35  jack

	* include/ambulant/common/renderer.h,
	  src/libambulant/common/renderer.cpp: We now actually create the
	  data sources and let them pump data to the renderers. The
	  renderers only print the size of the data, but at least all
	  scheduling issues (well, some scheduling issues:-) have surfaced
	  and been resolved.

2003-09-09 15:29  jack

	* src/libambulant/common/timeline_builder.cpp: Use 2 seconds as the
	  (temporary) default for mms par durations in stead of 2
	  microseconds.

2003-09-09 15:28  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Delays were only half
	  implemented. Fixed.

2003-09-09 15:27  jack

	* include/ambulant/lib/unix/unix_event_processor.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_mtsync.cpp: - Use condition
	  variables and timeouts for synchronizing on the   event queue -
	  Got rid of (now unused) counting semaphores - Better error
	  messages

2003-09-09 15:25  jack

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: - Better error messages -
	  Changed member name to follow m_ convention - Fixed off-by-one
	  error while copying filename - Added missing size() method -
	  Added a few const's

2003-09-09 15:08  jack

	* src/libambulant/: common/renderer.cpp,
	  lib/unix/unix_event_processor.cpp: Got things to work, ready to
	  merge with main branch.

2003-09-09 13:17  jack

	* include/ambulant/lib/unix/unix_event_processor.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp: Do
	  synchronisation with condition variables in stead of counting
	  semaphores.

2003-09-09 13:17  jack

	* src/libambulant/lib/unix/unix_mtsync.cpp: Better error messages.

2003-09-09 13:16  jack

	* src/libambulant/net/datasource.cpp: When copying the url the
	  terminating nul;l byte wasn't copied. Fixed.

2003-09-08 16:54  jack

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/net/datasource.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/net/datasource.cpp: Checking in on a branch.

	  Enabling datasources revealed a number of bugs all over the
	  place, such as not handling delays in the timeline scheduler, and
	  fixing that showed the unix event processor to be incorrect.

	  Continuing development on a branch, I'll merge when things work
	  again.

2003-09-08 14:55  jack

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: Datasource used single-byte
	  read()/realloc() loop, which didn't perform very well:-) For now,
	  replaced by a BUFSIZ-sized loop. Eventually it'll need something
	  smarter, but that's for later.  Enabled the test.

2003-09-08 14:53  jack

	* Documentation/Design/text/todo.txt: Removed a few, added a few

2003-09-08 14:37  jack

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: Replaced unix-specific
	  objects in datasource with their new platform-independent
	  counterparts.  Added << operators for datasource objects.
	  Include datasource_test1 in the test set, but don't run it yet:
	  it hangs.

2003-09-08 14:04  jack

	* include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp: Started on handling of data
	  sources. The are now passed along together with the node, but are
	  still initialized to NULL and not used by the renderer yet.

2003-09-08 13:24  jack

	* src/libambulant/net/datasource.cpp,
	  include/ambulant/net/datasource.h: Datasource.h used an extra
	  namespace "datasource" under ambulant::net.  Got rid of this.

2003-09-08 00:13  jack

	* include/ambulant/common/timeline_builder.h,
	  src/libambulant/common/timeline_builder.cpp: Implemented the
	  three MMS regions. Hardwired, for now.

2003-09-07 23:50  jack

	* include/ambulant/lib/node.h, include/ambulant/lib/sax_types.h,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/lib/node.cpp: Made nodes printable with <<. Moved
	  old funcitonality of << on a node into dump().

2003-09-07 22:59  jack

	* include/ambulant/common/region.h,
	  include/ambulant/common/renderer.h,
	  include/ambulant/common/timelines.h, src/libambulant/Makefile.am,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/renderer.cpp,
	  src/libambulant/common/timelines.cpp: Added a skeleton renderer
	  object, and moved some of the functionality that was in
	  active_region there.

2003-09-06 00:31  jack

	* src/player_macosx/: .cvsignore, Info.plist,
	  cocoambulant.pbproj/.cvsignore,
	  cocoambulant.pbproj/project.pbxproj: Forgot to add the project,
	  done now.  Added .cvsignores, and minor tweaks to the plist file.

2003-09-05 00:07  jack

	* src/player_macosx/: Info.plist, MyDocument.h, MyDocument.mm,
	  cocoambulant_Prefix.pch, main.m, mainloop.cpp, mainloop.h,
	  version.plist, English.lproj/Credits.rtf,
	  English.lproj/InfoPlist.strings, English.lproj/locversion.plist,
	  English.lproj/MainMenu.nib/classes.nib,
	  English.lproj/MainMenu.nib/info.nib,
	  English.lproj/MainMenu.nib/objects.nib,
	  English.lproj/MyDocument.nib/classes.nib,
	  English.lproj/MyDocument.nib/info.nib,
	  English.lproj/MyDocument.nib/objects.nib: Skeleton for MacOSX
	  player, using Cocoa and ObjC for the GUI and linking to our C++
	  engine.

	  Wildly incomplete, but it links, runs, and prints error
	  messages:-)

2003-09-03 23:54  jack

	* .cvsignore, include/.cvsignore, include/ambulant/.cvsignore,
	  include/ambulant/lib/.cvsignore,
	  include/ambulant/lib/unix/.cvsignore,
	  include/ambulant/net/.cvsignore, src/.cvsignore,
	  src/libambulant/.cvsignore, src/player_unix/.cvsignore,
	  third_party_packages/.cvsignore: Added Makefile.in and other
	  auxiliary files.

2003-09-03 23:49  jack

	* README-CVS: Added missing "aclocal" step.

2003-09-03 23:44  jack

	* README-CVS: Removing all files that can be regenerated
	  (Makefile.in, automake cruft).

2003-09-03 17:06  jack

	* third_party_packages/Makefile.am: Forgot to check these in.

2003-09-03 16:47  jack

	* INSTALL, Makefile.am, README, configure.in,
	  include/ambulant/Makefile.am, src/Makefile.am,
	  src/player_unix/Makefile.am: Lots of little tweaks to make the
	  disttribution tarfile actually build.

	  This is the 0.0 release.

2003-09-03 16:15  jack

	* configure.in: Get rid of debug output and added quotes around
	  assignment.

2003-09-02 23:18  jack

	* Documentation/Design/text/objects.html: Re-generated.

2003-09-02 23:17  jack

	* src/libambulant/lib/unix/: unix_event_processor.cpp,
	  unix_timer.cpp: Missing newlines.

2003-09-02 23:10  jack

	* configure.in: Added missing quotes.

2003-09-02 22:54  jack

	* .cvsignore, configure.in: Added a --with-expat=pathtoexpat
	  configure option.

2003-09-02 21:48  jack

	* src/libambulant/.cvsignore: Added .lo, .la and .libs

2003-09-02 21:46  jack

	* include/: .cvsignore, ambulant/.cvsignore,
	  ambulant/lib/.cvsignore, ambulant/lib/unix/.cvsignore,
	  ambulant/net/.cvsignore: Adding Makefile to cvsignore

2003-09-02 17:04  jack

	* INSTALL, configure.in, src/libambulant/Makefile.am: Make dynamic
	  library and install it too.

2003-09-02 16:32  jack

	* src/libambulant/Makefile.am: Install the library too.

2003-09-02 16:27  jack

	* Makefile.am, configure.in, Documentation/Design/text/todo.txt,
	  include/Makefile.am, include/ambulant/Makefile.am,
	  include/ambulant/lib/Makefile.am,
	  include/ambulant/lib/unix/Makefile.am,
	  include/ambulant/net/Makefile.am: Added the various Makefile.am's
	  that are needed to make distributions work. Unfinished.

2003-09-02 13:57  jack

	* include/ambulant/common/: player.h, skeleton.h: More debug output
	  bites the dust.

2003-09-02 13:55  jack

	* Documentation/Design/text/todo.txt: Added more bugs

2003-09-02 13:50  jack

	* Documentation/Design/text/todo.txt: First stab at a todo list.

2003-09-02 13:31  jack

	* src/libambulant/: common/player.cpp, common/skeleton.cpp,
	  lib/delta_timer.cpp: Put more debug output behind AM_DBG
	  constructs

2003-09-02 12:26  jack

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: Various tweaks to make this
	  compile. It could be Daniel forgot to check some stuff in before
	  his vacation...

2003-09-02 12:11  jack

	* src/libambulant/lib/unix/unix_event_processor.cpp: Use the new
	  logging protocol.

2003-09-02 09:18  anadelt

	* Documentation/Design/text/objects.txt: Add some short comments on
	  refcounted objects.

2003-09-01 18:43  anadelt

	* include/ambulant/common/smil_handler.h: Do not use std::pair
	  template since it seems to fails for some implementations.  Jack,
	  could you please try this simplified form and update me?

2003-09-01 16:23  jack

	* Documentation/Design/models/: timeline.graffle, timeline.pdf:
	  Updated to the current state of things.

2003-09-01 16:07  anadelt

	* include/ambulant/common/smil_handler.h: Revert to the original
	  version of this module.  Also, define smil xmlns as a string.

2003-09-01 15:57  jack

	* Documentation/Design/text/: Makefile, auxobjects.html,
	  auxobjects.txt, objects.html, objects.txt, overall.html,
	  overall.txt: Updated to the current state of affairs, as far as I
	  could.

	  There are a couple of places where Kleanthis will have to supply
	  text.

2003-09-01 13:43  jack

	* Documentation/Design/text/remarks.txt: Added a note we need a URL
	  handling package.

2003-09-01 08:58  anadelt

	* src/libambulant/lib/logger.cpp: Set the default logger's output
	  format to show time, level and message.

2003-09-01 08:55  anadelt

	* include/ambulant/lib/asb.h,
	  src/libambulant/lib/win32/win32_asb.cpp,
	  include/ambulant/lib/win32/win32_asb.h: Add a sleep_msec
	  function. Seconds is a too large unit for the mm domain.

2003-08-31 14:23  dbenden

	* include/ambulant/net/datasource.h,
	  src/libambulant/net/datasource.cpp: layout

2003-08-31 11:33  anadelt

	* include/ambulant/common/smil_handler.h,
	  include/ambulant/lib/logger.h, include/ambulant/lib/node.h,
	  include/ambulant/lib/node_navigator.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/logger.cpp, src/libambulant/lib/node.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/win32/win32_error.cpp,
	  src/libambulant/lib/win32/win32_event_processor.cpp,
	  src/libambulant/lib/win32/win32_thread.cpp: Remove
	  lib::app_logger global reference.  Remove old logging interface.
	  Sync code with the above.  Remove logger template specializations
	  just in case it passes Jack's compiler (gcc?).  Mark unreferenced
	  formal arguments (detail).  Remove assignments from conditional
	  expressions (detail).  Make explicit that the asignment operator
	  cannot be used with certain classes (detail).

2003-08-29 18:12  anadelt

	* include/ambulant/common/smil_handler.h,
	  include/ambulant/lib/logger.h,
	  src/libambulant/lib/delta_timer.cpp,
	  src/libambulant/lib/tree_builder.cpp,
	  src/libambulant/lib/win32/win32_error.cpp,
	  src/libambulant/lib/win32/win32_event_processor.cpp: Simplify the
	  logging of objects defining operator<< /end of this thread for
	  now

2003-08-29 17:44  anadelt

	* include/ambulant/lib/logger.h, src/libambulant/lib/logger.cpp:
	  Make the root or appl logger accessible also through a global
	  variable defined in namespace lib.  So, lazzy clients or clients
	  without special demands are able to write:
	  app_logger->debug("this"); app_logger->error("that")

2003-08-29 16:54  anadelt

	* include/ambulant/common/smil_handler.h: Remove the  address of
	  operator from register_handler local macros.

2003-08-29 13:58  jack

	* include/ambulant/lib/: colors.h, logger.h: Minor tweaks for unix.

2003-08-29 13:56  jack

	* src/libambulant/Makefile.am: Adapted for the new files.

2003-08-29 12:03  anadelt

	* src/libambulant/common/timeline_builder.cpp: Undef IGNORE (ignore
	  signal) pre-processor symbol if WIN32 is defined.  Global macros
	  are always a headache.

2003-08-29 11:55  anadelt

	* src/libambulant/common/player.cpp: Include ambulant/lib/asb.h
	  instead of unistd.h and use lib::sleep(secs) instead of
	  sleep(secs).

2003-08-29 11:53  anadelt

	* include/ambulant/lib/asb.h: Give access through the namespace lib
	  to unistd functions.	Currently only sleep(secs).

2003-08-29 10:57  anadelt

	* src/libambulant/lib/logger.cpp: Transfer template to the header.

2003-08-29 10:55  anadelt

	* include/ambulant/: common/region_eval.h, common/region_node.h,
	  common/smil_handler.h, lib/gtypes.h, lib/logger.h, lib/node.h,
	  lib/nscontext.h, lib/sax_handler.h, lib/tree_builder.h,
	  lib/vnode.h: Details

2003-08-28 17:06  anadelt

	* include/ambulant/lib/logger.h, src/libambulant/lib/logger.cpp: A
	  new logger design. We keep also the previous global interface.
	  This time has the correct interface and can evolve more smoothly
	  if needed.  The top level interface of the new logger is similar
	  to the one established by the popular  log4j package.

2003-08-28 10:02  anadelt

	* include/ambulant/lib/expat_parser.h: Detail

2003-08-28 09:52  anadelt

	* src/libambulant/lib/tree_builder.cpp: Detail

2003-08-28 09:50  anadelt

	* include/ambulant/lib/callback.h,
	  include/ambulant/lib/delta_timer.h,
	  include/ambulant/lib/tree_builder.h,
	  src/libambulant/lib/delta_timer.cpp: Refactoring plus remove
	  inline code from delta timer.

2003-08-27 23:43  anadelt

	* src/libambulant/lib/win32/: win32_asb.cpp, win32_error.cpp,
	  win32_event_processor.cpp, win32_factory.cpp, win32_thread.cpp:
	  Win32 specific lib objects implementations.

2003-08-27 23:42  anadelt

	* include/ambulant/lib/win32/win32_asb.h: Win32 interface for
	  meeting ambulant standard base (ASB) compatibility.

2003-08-27 23:40  anadelt

	* include/ambulant/lib/win32/: win32_timer.h, win32_error.h,
	  win32_event_processor.h, win32_mtsync.h, win32_thread.h: Pass the
	  implementation to source files in the cases that make sense.

2003-08-27 22:10  anadelt

	* include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/tree_builder.h,
	  src/libambulant/lib/expat_parser.cpp,
	  src/libambulant/lib/tree_builder.cpp: Transfer tree_builder and
	  expat_parser adapter implementation code to source files.

2003-08-27 21:44  anadelt

	* include/ambulant/common/parse_attrs.h: Add parse color functions.

2003-08-27 21:38  anadelt

	* src/libambulant/lib/logger.cpp: Promote this basic logger
	  implementation to lib.

2003-08-27 21:37  anadelt

	* src/libambulant/: common/smil_handler.cpp, lib/colors.cpp:
	  Tranfer smil_handler and color to lib.

2003-08-27 21:36  anadelt

	* src/libambulant/lib/node.cpp: Node implementation.

2003-08-27 21:35  anadelt

	* include/ambulant/lib/: node.h, node_iterator.h: Transfer  most
	  node implementation code to a source file.  We don't need node
	  vistors to be public, at least not now, so transfer them as a
	  private detail in node source file.

2003-08-26 16:25  jack

	* src/libambulant/Makefile.am: Added all the new files to the
	  library.

2003-08-26 16:03  jack

	* include/ambulant/lib/event_processor.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp: Minor tweaks

2003-08-26 15:50  jack

	* include/ambulant/common/: player.h, skeleton.h, timelines.h: Use
	  machine-independent mtsync.h in stead of unix_mtsync.h.

2003-08-26 15:42  jack

	* include/ambulant/lib/abstract_mtsync.h,
	  include/ambulant/lib/mtsync.h,
	  include/ambulant/lib/unix/unix_mtsync.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_mtsync.cpp: Handle cricital_section
	  different than the other machine-dependent implementations,
	  because we want to have static copies of these.

	  abstract_mtsync.h now declares the class
	  abstract_critical_section, unix::critical_section uses this as a
	  baseclass and critical_section is a subclass of
	  unix::critical_section.

	  The windows code still needs fixing, of course.

2003-08-26 15:25  jack

	* src/libambulant/: common/player.cpp, common/region.cpp,
	  common/skeleton.cpp, common/timeline_builder.cpp,
	  lib/unix/unix_event_processor.cpp, lib/unix/unix_mtsync.cpp,
	  lib/unix/unix_thread.cpp, lib/unix/unix_timer.cpp: Restructured
	  namespace usage according to Kleanthis' suggestions.

2003-08-26 14:59  jack

	* Documentation/Design/text/overall.txt: Documented namespace
	  usage.

2003-08-26 14:56  jack

	* src/libambulant/lib/unix/unix_event_processor.cpp: Made debug
	  output optional.

2003-08-26 14:38  jack

	* include/ambulant/lib/unix/unix_mtsync.h,
	  src/libambulant/lib/unix/unix_mtsync.cpp: Counting semaphores
	  were created with count-0 but unlocked. Fixed.

	  Added a count() method to return the current count.

2003-08-26 14:37  jack

	* src/libambulant/common/timelines.cpp: Aded various const's.

2003-08-26 14:35  jack

	* include/ambulant/common/timelines.h: m_cur_end_pos wasn't
	  initialized, causing problems on some machines.  Fixed.

2003-08-25 17:33  jack

	* include/ambulant/common/player.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/skeleton.cpp,
	  src/libambulant/lib/unix/unix_event_processor.cpp: - Got rid of
	  the event_processor.start() method: start the thread implicitly
	  in the event_processor constructor.

	  - Use the abstract event processor and the factory function
	  whereever applicable.

	  The critical_section objects haven't been tackled yet: the
	  factory function solution doesn't work for them (they're
	  statically allocated).  Will fix this tomorrow.

2003-08-25 17:05  jack

	* include/ambulant/lib/unix/unix_thread.h: Yet another #undef unix

2003-08-25 16:59  dbenden

	* src/libambulant/net/datasource.cpp: This time with unbuffered
	  file io

2003-08-25 16:58  jack

	* include/ambulant/lib/event_processor.h,
	  include/ambulant/lib/mtsync.h, include/ambulant/lib/timer.h,
	  src/libambulant/lib/unix/unix_event_processor.cpp,
	  src/libambulant/lib/unix/unix_mtsync.cpp,
	  src/libambulant/lib/unix/unix_thread.cpp,
	  src/libambulant/lib/unix/unix_timer.cpp,
	  include/ambulant/lib/unix/unix_event_processor.h,
	  include/ambulant/lib/unix/unix_mtsync.h,
	  include/ambulant/lib/unix/unix_thread.h,
	  include/ambulant/lib/unix/unix_timer.h: Splitting sourcecode and
	  declarations for lib/unix.  Adding factory functions for
	  event_processor, timer and mtsync.  Windows factory functions
	  remain tbd.

2003-08-25 16:58  dbenden

	* include/ambulant/net/datasource.h: This time with unbuffered file
	  IO

2003-08-25 16:56  dbenden

	* include/ambulant/lib/unix/unix_timer.h: Added the right include
	  for gettimeofday, to work on Linux

2003-08-25 14:15  jack

	* include/ambulant/lib/unix/unix_timer.h: Timer should be in
	  milliseconds.

2003-08-25 11:59  dbenden

	* src/libambulant/net/datasource.cpp: datasource now uses the
	  standard C file IO instead of the C++

2003-08-25 11:58  dbenden

	* include/ambulant/net/datasource.h: datasource uses now the
	  standard C file IO instead of the C++

2003-08-22 17:40  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timeline_builder.cpp,
	  src/libambulant/common/timelines.cpp: Started on removing debug
	  output (can be re-enabled with the preprocessor) and making all
	  output go through the logging interface.

2003-08-22 16:39  dbenden

	* src/libambulant/net/datasource.cpp: Fixed the segmentation fault.

2003-08-22 16:05  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Fixed a logic error: the
	  length of the event->dependency map is *not* the right value for
	  the map entry.

	  With this fix the MMS scheduler seems to work.

2003-08-22 15:39  jack

	* src/libambulant/common/timelines.cpp,
	  include/ambulant/common/timelines.h: Print the dependency number
	  when dumping the timeline graph. This greatly facilitates
	  understanding what goes on:-)

2003-08-22 15:31  jack

	* src/libambulant/common/timelines.cpp: Fire the PLAYDONE event if
	  the play was not done because the STOP arrived earlier.

2003-08-22 15:07  dbenden

	* src/libambulant/net/datasource.cpp: added the ref count code

2003-08-22 15:06  dbenden

	* include/ambulant/net/datasource.h: Both passive and active
	  datasources are now ref counted

2003-08-22 00:13  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Fixed a design flaw: the
	  external events should go through the normal event processing,
	  not have their side effects when the action is executed.

	  Also fixed a problem with playstop being done before preroll or
	  play, by setting the renderer to a magic value at stop time.

	  There is still a problem in that if this is the case the
	  presentation hangs.

2003-08-21 16:55  dbenden

	* src/libambulant/net/datasource.cpp: active and passive
	  datasources are added, but untested.

2003-08-21 16:54  dbenden

	* include/ambulant/net/datasource.h: active and passive datasources
	  are now included, but untested.

2003-08-20 17:07  jack

	* src/libambulant/common/player.cpp: Forgot to start the event
	  processor. Fixed.

2003-08-20 17:07  jack

	* src/libambulant/common/timeline_builder.cpp: Removed the debug
	  call to dump().

2003-08-20 17:06  jack

	* src/libambulant/common/timelines.cpp: If a preroll hasn't been
	  done yet when we want to play an external node we do the preroll
	  ourselves. Consequently, a preroll when the region is already
	  created is no longer an error.

2003-08-20 17:05  jack

	* include/ambulant/common/player.h: We must use the unix event
	  processor, for now.

2003-08-20 16:52  jack

	* include/ambulant/common/timeline_builder.h,
	  src/libambulant/common/player.cpp,
	  src/libambulant/common/timeline_builder.cpp: Added a
	  timeline_builder object, which creates the timeline objects for a
	  given SMIL tree. It is currently pretty much hardwired to handle
	  only MMS trees (and even that is incomplete, delays are always
	  set to 2).

	  The player object now uses the builder to create the timeline.

	  For the moment testing the player has been disabled, because
	  although the timeline seems to be more-or-less correct it hangs
	  when you try to play it.

2003-08-20 16:48  jack

	* include/ambulant/common/timelines.h: Added missing STOP_PLAY
	  event.

2003-08-20 15:55  jack

	* src/libambulant/common/region.cpp,
	  src/libambulant/common/timelines.cpp,
	  include/ambulant/common/region.h,
	  include/ambulant/common/timelines.h: Added const in a few places.

2003-08-20 15:15  dbenden

	* src/libambulant/common/player.cpp: Added #include<unistd.h> so it
	  compiles on linux

2003-08-20 13:53  jack

	* include/ambulant/common/skeleton.h,
	  src/libambulant/common/skeleton.cpp: Implemented a skeleton
	  active/passive class combo, plus the code to test it.

	  It is meant as an example right now, but it may be useable as a
	  base class for our active/passive objects.

2003-08-20 11:47  jack

	* include/ambulant/common/player.h,
	  src/libambulant/common/player.cpp: Split player into a header and
	  a source file, and re-fixed some bugs I thought I had fixed
	  yesterday (probably stayed behind on the laptop).

2003-08-20 10:34  jack

	* src/libambulant/common/timelines.cpp: The start() callback wasn't
	  stored, so the callback never happened.  Fixed.

2003-08-19 16:54  jack

	* include/ambulant/common/player.h: Skeleton player object.

2003-08-19 12:09  dbenden

	* src/libambulant/net/datasource.cpp: removed the segmentation
	  fault feature

2003-08-19 12:08  dbenden

	* include/ambulant/net/datasource.h: tweaks

2003-08-19 11:57  jack

	* src/libambulant/common/: region.cpp, timelines.cpp: Implemented
	  interaction between timeslines and active regions. Everything
	  seems to work for the test code, but the final callback from the
	  active_timeline to its caller isn't tested yet.

2003-08-18 17:35  jack

	* include/ambulant/common/timelines.h: Implemented interaction
	  between timeslines and active regions. Everything seems to work
	  for the test code, but the final callback from the
	  active_timeline to its caller isn't tested yet.

2003-08-18 16:08  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Moved the active_int_action
	  and active_ext_action classes to the implementation file, they
	  have no business in the interface definition.

2003-08-18 15:55  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Fixed printing of
	  active_action objects.

2003-08-18 15:44  jack

	* include/ambulant/common/region.h,
	  include/ambulant/common/timelines.h,
	  src/libambulant/common/region.cpp,
	  src/libambulant/common/timelines.cpp: Started on interface for
	  active_region objects (renderers), and on the code in
	  active_timeline to support them.

	  Moved timeline boilerplate stuff (the xxx_TIMELINE events) to the
	  timeline implementation in stead of doing it in the caller.

	  Augmented the start() call with an optional callback event
	  argument, to be fired when the timeline finishes.

2003-08-18 14:39  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Cleaned up the interface,
	  changed some names to better ones, moved things around.

2003-08-18 13:25  jack

	* include/ambulant/common/timelines.h,
	  src/libambulant/common/timelines.cpp: Splitting code out of
	  timelines.h and moving it to timelines.cpp.  Unfinished, but it
	  still works.

2003-08-15 15:50  dbenden

	* src/libambulant/net/datasource.cpp: Added a simple but working
	  buffer for use with datasource

2003-08-15 15:48  dbenden

	* include/ambulant/net/datasource.h: added a simple but working
	  buffer for use with datasource

2003-08-15 15:45  jack

	* configure.in: Added the real test for -pthread to configure.in:
	  it turns out MacOSX g++ does not like the -pthread flag.

2003-08-15 14:35  jack

	* configure.in: C++ needs the "-pthread" option on Linux. For now,
	  we add this manually, we need to use an autoconf macro later.

2003-08-15 13:06  dbenden

	* include/ambulant/lib/unix/unix_mtsync.h: Unix is a predefined
	  preprocessor symbol on Linux. Undefine.

2003-08-14 00:06  jack

	* include/ambulant/common/timelines.h: Fixed the problem with
	  active_int_event and active_ext_event by using a vector of
	  pointers in stead of a vector of objects.  Garbage collection TBD
	  (of course:-).

	  Made active_int_event a friend of active_timeline so it can get
	  at the event_processor.

	  Things are now starting to roll, but external PLAY events don't
	  cause a PLAY_DONE yet.

2003-08-13 17:28  jack

	* include/ambulant/common/timelines.h: Apparently I don't
	  understand how C++ virtual functions work: I have the same
	  problems with printing actions as with firing them. Checking the
	  code in on a branch anyway.

2003-08-13 17:13  jack

	* include/ambulant/common/timelines.h: Creation of dependencies and
	  actions implemented. Trying to run the timeline still crashes,
	  though.

	  Also finally worked out where to put the "const" in various
	  cases.

	  Refcounting still incomplete.

2003-08-13 12:43  jack

	* include/ambulant/common/timelines.h: Added code to dump passive
	  timelines in a readable format.

2003-08-12 23:33  jack

	* include/ambulant/common/timelines.h: Fixed code to compile again.
	  The event to index mapping should now work.

2003-08-12 16:46  jack

	* include/ambulant/common/timelines.h: Broken, but checking it in
	  on a branch so I can experiment further at home/.

2003-08-12 15:56  jack

	* include/ambulant/common/timelines.h: Forgot to add the refcount
	  calls.

2003-08-12 15:49  jack

	* include/ambulant/common/timelines.h: Started on the code to
	  convert the easy-to-build passive timeline datastructure to the
	  efficient-to-execute passive timeline datastructures.

	  Unfinished, but it doesn't seem to creash anything.

2003-08-12 15:48  jack

	* include/ambulant/lib/unix/unix_event_processor.h: Forgot to add
	  this file to CVS.

2003-08-12 14:00  jack

	* include/ambulant/lib/: event_processor.h, refcount.h,
	  unix/unix_mtsync.h, unix/unix_thread.h: Converted unix code and
	  test case to Kleanthis' new architecture.

2003-08-12 10:32  anadelt

	* include/ambulant/lib/timer.h: Add a c-runtime based simple timer
	  that may be used by all plaforms.  It has limitations but should
	  work for all the common cases.

2003-08-12 09:15  anadelt

	* include/ambulant/lib/delta_timer.h: Borrow instead of acquire a
	  timer reference.

2003-08-12 09:12  anadelt

	* include/ambulant/lib/: thread.h, event_processor.h, mtsync.h,
	  win32/win32_event_processor.h, win32/win32_mtsync.h,
	  win32/win32_thread.h: Structuring machine-dependent code. First
	  sketch of a common interface.  Also, implement a first simple
	  scheme for event priorities.	Multiple inheritance involving
	  threads (for example event processor) presents some problems
	  indicating that the related design needs review.

2003-08-11 20:45  anadelt

	* include/ambulant/common/timelines.h: Fix a minor bug:
	  m_node_transitions cannot be defined as const and be set by a
	  method other than the constructor.  (even then to be meaningful
	  should have been defined as a const reference not a const value).

2003-08-11 20:40  anadelt

	* include/ambulant/lib/unix/unix_timer.h: Simplify timing related
	  code.  Sync unix timing code with the common infrastructure.	Add
	  a note that the unix timer should be changed to use msecs since
	  currently is implemented using the  time() function which returns
	  integral secs.

2003-08-11 20:37  anadelt

	* include/ambulant/lib/win32/: win32_event_processor.h,
	  win32_timer.h: Simplify timing related code.	Sync win32 timing
	  code with the common infrastructure.

2003-08-11 20:35  anadelt

	* include/ambulant/lib/callback.h: Simplify timing related code.  A
	  callback is now an event not a timeout_event (which does not
	  exist any more).

2003-08-11 20:34  anadelt

	* include/ambulant/lib/delta_timer.h: Simplify timing related code.
	  The delta timer uses the timer time type instead of being a
	  template.  Also, holds timeout events in a std::pair structure.

2003-08-11 20:30  anadelt

	* include/ambulant/lib/timer.h: Simplify timing related code.  For
	  now the timer uses an unsigned int to hold time. Assumed units
	  are msecs. We can generalize later if we want to.

2003-08-11 20:27  anadelt

	* include/ambulant/lib/event.h: Simplify timing related code.
	  Remove timeout event class. It complicates things without any
	  real benefit.  To schedule an event we may pass the timeout value
	  as a second argument.

2003-08-11 16:58  jack

	* include/ambulant/common/timelines.h: Moved timeline_event into
	  the detail namesapce.  Fixed active_timeline constructor.

2003-08-11 15:54  jack

	* include/ambulant/lib/unix/: unix_mtsync.h, unix_thread.h,
	  unix_timer.h: Got the unix-specific timer and event code to a
	  state where it at least has a resemblance to working.

2003-08-11 15:26  jack

	* include/ambulant/common/timelines.h: Stupid error: used the wrong
	  include guard name.

2003-08-11 09:53  dbenden

	* include/ambulant/net/datasource.h: Eerste probeersel datasourse.h
	  CVS
	  ---------------------------------------------------------------------s

2003-08-08 15:15  jack

	* include/ambulant/common/: region.h, timelines.h: Timeline design
	  now passes through the compiler without errors, and running it
	  doesn't crash anything. Half way there:-)

2003-08-08 13:17  anadelt

	* include/ambulant/common/smil_handler.h: The skeleton of a SMIL
	  document sax handler.  A separate entity, the reader, will read
	  the document from any data source, fit an XML parser configured
	  to notify this handler which is responsible to build the DOM and
	  any other data structures needed.

2003-08-07 15:45  anadelt

	* include/ambulant/lib/vnode.h: A "virtual" node construct that may
	  be used to implement various tree related constructs without the
	  need to change the original DOM.

2003-08-07 15:37  anadelt

	* include/ambulant/lib/colors.h: Some simple color related stuff.

2003-08-06 22:27  anadelt

	* include/ambulant/lib/: node.h, node_navigator.h: Add a member
	  function to locate a node given its relative path (xpath like).
	  and a function for locating the root node.

2003-08-06 22:24  anadelt

	* include/ambulant/common/parse_attrs.h: Attribute parsing
	  functions that need to be implemented using a regex package or
	  other means.

2003-08-06 11:31  anadelt

	* include/ambulant/lib/: node.h, node_iterator.h: Implement a
	  simple attribute collector node visitor and use it to create a
	  map of ids to nodes.	This way we can access nodes by their ids.

2003-08-06 10:18  anadelt

	* include/ambulant/common/region_dim.h: Include math.h

2003-08-06 10:17  anadelt

	* include/ambulant/common/region_node.h: A region represented as a
	  node.  This repesentation allows for building layout trees for
	  region evaluation and allows regions to participate as richer
	  constructs in a tree of plain nodes.

2003-08-06 10:14  anadelt

	* include/ambulant/lib/node.h: Nodes will be used as the base for
	  building more rich entities and therefore promote destructor to
	  virtual.  We would like to be able to destruct these more rich
	  constructs through a base (node) pointer.

2003-08-05 15:45  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added a
	  note about including by full path.

2003-08-05 15:44  jack

	* Documentation/Design/text/Makefile: Make the html files from the
	  ReST files. This Makefile only works for me, but that doesn't
	  really matter for the moment.

2003-08-04 19:31  anadelt

	* include/ambulant/net/datasource.h: Use paths relative to
	  "include" or <current>

2003-08-04 19:30  anadelt

	* include/ambulant/lib/win32/win32_event_processor.h: Use path
	  relative to "include" (ambulant/lib/logger.h instead of
	  lib/logger.h.)

2003-08-04 19:27  anadelt

	* include/ambulant/lib/callback.h: Remove path from include
	  directives since the included files are in the same directory.

2003-08-04 19:26  anadelt

	* include/ambulant/lib/expat_parser.h: Remove ms specific pragma
	  comment (lib, ...)

2003-08-04 16:36  jack

	* Documentation/Design/text/overall.txt,
	  include/ambulant/common/region_dim.h,
	  include/ambulant/common/region_eval.h,
	  include/ambulant/common/timelines.h,
	  include/ambulant/lib/callback.h,
	  include/ambulant/lib/delta_timer.h, include/ambulant/lib/event.h,
	  include/ambulant/lib/expat_parser.h,
	  include/ambulant/lib/gtypes.h, include/ambulant/lib/logger.h,
	  include/ambulant/lib/node.h,
	  include/ambulant/lib/node_iterator.h,
	  include/ambulant/lib/node_navigator.h,
	  include/ambulant/lib/nscontext.h,
	  include/ambulant/lib/refcount.h,
	  include/ambulant/lib/sax_handler.h,
	  include/ambulant/lib/sax_types.h,
	  include/ambulant/lib/string_util.h, include/ambulant/lib/timer.h,
	  include/ambulant/lib/tree_builder.h,
	  include/ambulant/lib/unix/unix_mtsync.h,
	  include/ambulant/lib/unix/unix_thread.h,
	  include/ambulant/lib/unix/unix_timer.h,
	  include/ambulant/lib/win32/win32_error.h,
	  include/ambulant/lib/win32/win32_event_processor.h,
	  include/ambulant/lib/win32/win32_mtsync.h,
	  include/ambulant/lib/win32/win32_thread.h,
	  include/ambulant/lib/win32/win32_timer.h,
	  include/ambulant/net/connection.h,
	  include/ambulant/net/datasource.h, include/ambulant/net/socket.h,
	  include/ambulant/net/url.h, src/libambulant/Makefile.am: Big
	  reorganisation: Documentation/Design/include is now purely for
	  documentary purposes, souce code should use include.

	  Files moved: - test files have gone to Tests/designtests - source
	  files have gone to src/libambulant

	  All other .h files have been copied to include/ambulant. The ones
	  in the document tree will be cleaned up to be API only.

	  All include statements now have the form #include
	  "ambulant/lib/xxxx.h"

	  The unix Makefile.am's have been fixed, you may have to remove
	  your Makefile.in's and rerun automake/configure.

	  The windows projects haven't been touched, yet.

2003-07-28 15:50  jack

	* third_party_packages/: expat.h.patch, readme.txt: Expat 1.95.6
	  needs a patch to run on MacOSX. Luckily I remembered coming
	  across this with Python:-)

2003-07-28 15:05  jack

	* Documentation/Design/text/overall.txt: Added a note that we need
	  to standardise on the defines that we use to test on for
	  platform-specific code.

2003-07-28 14:25  jack

	* Makefile.am, configure.in, Documentation/Design/text/overall.txt:
	  Moved skeleton structure to the main ambulant directory
	  (manually, in the repository) and fixed it up.

	  Added Tests/designtests to the things to be built.

2003-07-28 14:21  jack

	* third_party_packages/: .cvsignore, readme.txt: Added cvsignore
	  file Refined notes on expat

2003-07-28 13:47  jack

	* third_party_packages/readme.txt: Added a directory to hold third
	  party packages, plus a readme file that shows the packages here,
	  plus exact version info, plus URL.

2003-07-20 18:38  anadelt

	* Documentation/Design/models/callback.pdf: The UML model of the
	  currently implemented callback template.

2003-07-20 18:17  anadelt

	* Documentation/Design/models/event_processor.pdf: The static UML
	  model of the currently implemented event processor.

2003-07-17 14:46  sjoerd

	* Documentation/Design/README.txt: Converted CR to LF.

2003-07-04 17:11  jack

	* Documentation/Design/README.txt: Slight rewording.

2003-07-04 17:10  jack

	* Documentation/Design/README.txt: Added a file with suggested
	  reading instructions.

2003-07-04 17:04  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html, overall.txt: Lots of tweaks to make these documents
	  more-or-less fit for consumption by third parties (Frances and
	  Daniel, really).

2003-07-04 16:56  jack

	* Documentation/Design/models/: datasource.graffle, datasource.pdf,
	  renderer.graffle, renderer.pdf, timeline.graffle, timeline.pdf:
	  Updated the various models and added two for timeline and
	  document scheduler.

2003-07-04 16:10  anadelt

	* Documentation/Design/text/objects.txt: Add a comment on event
	  processor.  The rest of the sections marked as "question" need a
	  more complete model of the application than the one I have. I
	  will return to these.

2003-07-04 14:56  anadelt

	* Documentation/Design/text/overall.txt: Add my comments on
	  sections marked as questions.

2003-07-01 15:52  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html, overall.txt: Renamed data sink to active region
	  Added a question about generic active/passive classes

2003-07-01 15:49  jack

	* Documentation/Design/models/: datasource.graffle, datasource.pdf,
	  renderer.graffle, renderer.pdf: First stab at some models. The
	  .graffle files are the OmniGraffle source documents, the pdfs are
	  the output.

2003-06-23 12:10  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added a
	  note on having a global playback engine object.

2003-06-23 11:52  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html: Added some ideas on the event processor.

2003-06-20 14:06  jack

	* Documentation/Design/text/overall.txt: Added a section on
	  relationship between various objects (especially node, renderer
	  and subregion).

2003-06-20 14:05  jack

	* Documentation/Design/text/: objects.html, objects.txt: Added a
	  note on subregion positioning.

2003-06-20 13:05  jack

	* Documentation/Design/text/: objects.html, objects.txt: Elaborated
	  on regions, data sinks and renderers.

2003-06-20 13:04  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added a
	  section on terminology Added a note on source code convention for
	  C++ templates

2003-06-16 17:18  anadelt

	* src/: .cvsignore, Ambulant-win32.sln: Add console instead of mfc.
	  If anybody needs mfc can simply add it to the solution.

2003-06-16 17:17  anadelt

	* src/player_wincon/: .cvsignore, player_wincon.vcproj: A win32
	  console envirnoment.	A console environment is most of the times
	  most convenient for developing and experimenting.  Later a plain
	  win32 or an mfc wrapper may be needed. But even then you need a
	  clean parallel environment for testing new designs.

2003-06-16 17:06  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added
	  Kleanthis' note on when to use refcounting and when not.

2003-06-16 17:01  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added a
	  section on source code conventions.

2003-06-16 14:26  jack

	* Documentation/Design/text/: objects.html, objects.txt: Updated
	  with some of the new ideas on data source objects, and with a lot
	  of questions.

2003-06-11 15:09  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html, overall.txt, remarks.txt: Added various notes,
	  restructured things a bit.

2003-06-11 14:25  jack

	* Documentation/Design/text/remarks.txt: Added a section on
	  RTP/RTSP support.

2003-06-10 15:18  jack

	* src/: Ambulant-win32.sln, libambulant/libambulant_win32.vcproj:
	  Renamed libambulant.vcproj to libambulant_win32.vcproj

2003-06-10 15:08  jack

	* INSTALL: Updated the installation notes.

2003-06-10 15:06  jack

	* src/: Ambulant-wince.vcw, libambulant/libambulant_wince.vcp,
	  player_wince/MainFrm.cpp, player_wince/MainFrm.h,
	  player_wince/ReadMe.txt, player_wince/StdAfx.cpp,
	  player_wince/StdAfx.h, player_wince/newres.h,
	  player_wince/player_wince.cpp, player_wince/player_wince.h,
	  player_wince/player_wince.rc, player_wince/player_wince.vcp,
	  player_wince/player_winceDoc.cpp, player_wince/player_winceDoc.h,
	  player_wince/player_winceView.cpp,
	  player_wince/player_winceView.h, player_wince/resource.h,
	  player_wince/res/Cmdbar.bmp, player_wince/res/player_wince.ico,
	  player_wince/res/player_wince.rc2: Added support for Windows CE
	  builds (using Embedded Visual C++ 4.0).

2003-06-10 14:42  jack

	* src/player_mfc/: MainFrm.cpp, MainFrm.h, ReadMe.txt, resource.h,
	  stdafx.cpp, stdafx.h, res/Toolbar.bmp: Renamed player_win32 to
	  player_mfc, as per Kleanthis' suggestion.

2003-06-10 14:38  jack

	* src/Ambulant-win32.sln: Renamed solution file to
	  ambulant_win32.sln.

2003-06-09 12:26  anadelt

	* Documentation/Design/text/remarks.txt: Remove section on design
	  schema.

2003-06-09 12:26  anadelt

	* Documentation/Design/text/sdd-schema.txt: Design schema based on
	  IEEE Std 1016-1998.

2003-06-08 22:46  anadelt

	* Documentation/Design/text/remarks.txt: Add a remark concerning
	  application's XML Parser and Regex support.

2003-06-06 17:14  jack

	* .cvsignore, INSTALL, README, src/.cvsignore,
	  src/libambulant/.cvsignore, src/player_unix/.cvsignore: Minimal
	  info in INSTALL and README, and added cvsignore files.

2003-06-06 17:07  jack

	* AUTHORS, COPYING, ChangeLog, INSTALL, Makefile.am, NEWS, README,
	  configure.in, src/Makefile.am, src/libambulant/Makefile.am,
	  src/libambulant/get_version.cpp, src/player_unix/Makefile.am:
	  Initial revision

2003-06-06 17:07  jack

	* AUTHORS, COPYING, ChangeLog, INSTALL, Makefile.am, NEWS, README,
	  configure.in, src/Makefile.am, src/libambulant/Makefile.am,
	  src/libambulant/get_version.cpp, src/player_unix/Makefile.am:
	  keleton ambulant layout.

2003-06-05 11:26  anadelt

	* Documentation/Design/text/remarks.txt: Add a remark and a
	  proposal for Exceptions and Assertions usage in our code.  Also
	  add the headers of two important subjects I would like to make my
	  remarks/proposal.  They concern the design entities/objects
	  documentation and stem from my experience using the IEEE std for
	  software design together with UML.

2003-06-02 09:32  anadelt

	* Documentation/Design/text/remarks.txt: Add a remark for code
	  organization.

2003-05-21 17:35  jack

	* Documentation/Design/text/: overall.html, overall.txt: Added
	  notes on what was discussed during the May 21 meeting. This needs
	  to be fleshed out.

2003-05-21 17:20  jack

	* Documentation/Design/text/README: Quick note on the contents of
	  this directory.

2003-05-20 16:13  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html, overall.txt: next version.

2003-05-09 15:43  jack

	* Documentation/Design/text/: objects.html, objects.txt,
	  overall.html, overall.txt: - added note on bound methods - added
	  note on garbage collection - update ReST constructs to actually
	  work - checked in generated HTML too.

2003-04-29 15:58  jack

	* Documentation/Design/text/overall.txt: Added notes on missing
	  bits.

2003-04-29 15:50  jack

	* Documentation/Design/text/: objects.txt, overall.txt: More
	  thoughts.

2003-04-28 17:32  jack

	* Documentation/Design/text/: objects.txt, overall.txt: Added more
	  stuff, including the results of the first session with Sjoerd.

2003-04-28 16:52  jack

	* Documentation/Design/text/objects.txt: Oops, changed to unix
	  linefeeds.

2003-04-28 16:51  jack

	* Documentation/Design/text/objects.txt: Initial revision

2003-04-28 16:51  jack

	* Documentation/Design/text/objects.txt: [no log message]

