<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>GstRTSPMedia</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.76.1">
<link rel="home" href="index.html" title="GStreamer RTSP Server Reference Manual">
<link rel="up" href="ch01.html" title="">
<link rel="prev" href="GstRTSPMediaMapping.html" title="GstRTSPMediaMapping">
<link rel="next" href="GstRTSPAuth.html" title="GstRTSPAuth">
<meta name="generator" content="GTK-Doc V1.18 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="GstRTSPMediaMapping.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch01.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">GStreamer RTSP Server Reference Manual</th>
<td><a accesskey="n" href="GstRTSPAuth.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts">
<a href="#GstRTSPMedia.synopsis" class="shortcut">Top</a>
                   | 
                  <a href="#GstRTSPMedia.description" class="shortcut">Description</a>
                   | 
                  <a href="#GstRTSPMedia.object-hierarchy" class="shortcut">Object Hierarchy</a>
                   | 
                  <a href="#GstRTSPMedia.properties" class="shortcut">Properties</a>
                   | 
                  <a href="#GstRTSPMedia.signals" class="shortcut">Signals</a>
</td></tr>
</table>
<div class="refentry">
<a name="GstRTSPMedia"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2><span class="refentrytitle"><a name="GstRTSPMedia.top_of_page"></a>GstRTSPMedia</span></h2>
<p>GstRTSPMedia</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<a name="GstRTSPMedia.synopsis"></a><h2>Synopsis</h2>
<pre class="synopsis">struct              <a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream">GstRTSPMediaStream</a>;
struct              <a class="link" href="GstRTSPMedia.html#GstRTSPMedia-struct" title="struct GstRTSPMedia">GstRTSPMedia</a>;
struct              <a class="link" href="GstRTSPMedia.html#GstRTSPMediaClass" title="struct GstRTSPMediaClass">GstRTSPMediaClass</a>;
struct              <a class="link" href="GstRTSPMedia.html#GstRTSPMediaTrans" title="struct GstRTSPMediaTrans">GstRTSPMediaTrans</a>;
<span class="returnvalue">gboolean</span>            (<a class="link" href="GstRTSPMedia.html#GstRTSPSendFunc" title="GstRTSPSendFunc ()">*GstRTSPSendFunc</a>)                  (<em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">guint8</span> channel</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">gboolean</span>            (<a class="link" href="GstRTSPMedia.html#GstRTSPSendListFunc" title="GstRTSPSendListFunc ()">*GstRTSPSendListFunc</a>)              (<em class="parameter"><code><span class="type">GstBufferList</span> *blist</code></em>,
                                                         <em class="parameter"><code><span class="type">guint8</span> channel</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
<span class="returnvalue">void</span>                (<a class="link" href="GstRTSPMedia.html#GstRTSPKeepAliveFunc" title="GstRTSPKeepAliveFunc ()">*GstRTSPKeepAliveFunc</a>)             (<em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);
enum                <a class="link" href="GstRTSPMedia.html#GstRTSPMediaStatus" title="enum GstRTSPMediaStatus">GstRTSPMediaStatus</a>;
<a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="returnvalue">GstRTSPMedia</span></a> *      <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-new" title="gst_rtsp_media_new ()">gst_rtsp_media_new</a>                  (<em class="parameter"><code><span class="type">void</span></code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-set-shared" title="gst_rtsp_media_set_shared ()">gst_rtsp_media_set_shared</a>           (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> shared</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-is-shared" title="gst_rtsp_media_is_shared ()">gst_rtsp_media_is_shared</a>            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-set-reusable" title="gst_rtsp_media_set_reusable ()">gst_rtsp_media_set_reusable</a>         (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> reusable</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-is-reusable" title="gst_rtsp_media_is_reusable ()">gst_rtsp_media_is_reusable</a>          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-set-protocols" title="gst_rtsp_media_set_protocols ()">gst_rtsp_media_set_protocols</a>        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstRTSPLowerTrans</span> protocols</code></em>);
<span class="returnvalue">GstRTSPLowerTrans</span>   <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-get-protocols" title="gst_rtsp_media_get_protocols ()">gst_rtsp_media_get_protocols</a>        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-set-eos-shutdown" title="gst_rtsp_media_set_eos_shutdown ()">gst_rtsp_media_set_eos_shutdown</a>     (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> eos_shutdown</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-is-eos-shutdown" title="gst_rtsp_media_is_eos_shutdown ()">gst_rtsp_media_is_eos_shutdown</a>      (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-prepare" title="gst_rtsp_media_prepare ()">gst_rtsp_media_prepare</a>              (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-is-prepared" title="gst_rtsp_media_is_prepared ()">gst_rtsp_media_is_prepared</a>          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-unprepare" title="gst_rtsp_media_unprepare ()">gst_rtsp_media_unprepare</a>            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">guint</span>               <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-n-streams" title="gst_rtsp_media_n_streams ()">gst_rtsp_media_n_streams</a>            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="returnvalue">GstRTSPMediaStream</span></a> * <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-get-stream" title="gst_rtsp_media_get_stream ()">gst_rtsp_media_get_stream</a>          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> idx</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-seek" title="gst_rtsp_media_seek ()">gst_rtsp_media_seek</a>                 (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstRTSPTimeRange</span> *range</code></em>);
<span class="returnvalue">gchar</span> *             <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-get-range-string" title="gst_rtsp_media_get_range_string ()">gst_rtsp_media_get_range_string</a>     (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> play</code></em>);
<span class="returnvalue">GstFlowReturn</span>       <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-stream-rtp" title="gst_rtsp_media_stream_rtp ()">gst_rtsp_media_stream_rtp</a>           (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>);
<span class="returnvalue">GstFlowReturn</span>       <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-stream-rtcp" title="gst_rtsp_media_stream_rtcp ()">gst_rtsp_media_stream_rtcp</a>          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>);
<span class="returnvalue">gboolean</span>            <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-set-state" title="gst_rtsp_media_set_state ()">gst_rtsp_media_set_state</a>            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstState</span> state</code></em>,
                                                         <em class="parameter"><code><span class="type">GArray</span> *transports</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-remove-elements" title="gst_rtsp_media_remove_elements ()">gst_rtsp_media_remove_elements</a>      (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);
<span class="returnvalue">void</span>                <a class="link" href="GstRTSPMedia.html#gst-rtsp-media-trans-cleanup" title="gst_rtsp_media_trans_cleanup ()">gst_rtsp_media_trans_cleanup</a>        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaTrans" title="struct GstRTSPMediaTrans"><span class="type">GstRTSPMediaTrans</span></a> *trans</code></em>);
</pre>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.object-hierarchy"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">
  GObject
   +----GstRTSPMedia
</pre>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.properties"></a><h2>Properties</h2>
<pre class="synopsis">
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia--eos-shutdown" title='The "eos-shutdown" property'>eos-shutdown</a>"             <span class="type">gboolean</span>              : Read / Write
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia--protocols" title='The "protocols" property'>protocols</a>"                <span class="type">GstRTSPLowerTrans</span>     : Read / Write
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia--reusable" title='The "reusable" property'>reusable</a>"                 <span class="type">gboolean</span>              : Read / Write
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia--shared" title='The "shared" property'>shared</a>"                   <span class="type">gboolean</span>              : Read / Write
</pre>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.signals"></a><h2>Signals</h2>
<pre class="synopsis">
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia-new-state" title='The "new-state" signal'>new-state</a>"                                      : <code class="literal">Run Last</code>
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia-prepared" title='The "prepared" signal'>prepared</a>"                                       : <code class="literal">Run Last</code>
  "<a class="link" href="GstRTSPMedia.html#GstRTSPMedia-unprepared" title='The "unprepared" signal'>unprepared</a>"                                     : <code class="literal">Run Last</code>
</pre>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.description"></a><h2>Description</h2>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.details"></a><h2>Details</h2>
<div class="refsect2">
<a name="GstRTSPMediaStream"></a><h3>struct GstRTSPMediaStream</h3>
<pre class="programlisting">struct GstRTSPMediaStream {
  GstPad       *srcpad;
  GstElement   *payloader;
  gboolean      prepared;

  /* pads on the rtpbin */
  GstPad       *recv_rtcp_sink;
  GstPad       *recv_rtp_sink;
  GstPad       *send_rtp_sink;
  GstPad       *send_rtp_src;
  GstPad       *send_rtcp_src;

  /* the RTPSession object */
  GObject      *session;

  /* sinks used for sending and receiving RTP and RTCP, they share
   * sockets */
  GstElement   *udpsrc[2];
  GstElement   *udpsink[2];
  /* for TCP transport */
  GstElement   *appsrc[2];
  GstElement   *appsink[2];

  GstElement   *tee[2];
  GstElement   *selector[2];

  /* server ports for sending/receiving */
  GstRTSPRange  server_port;

  /* the caps of the stream */
  gulong        caps_sig;
  GstCaps      *caps;

  /* transports we stream to */
  GList        *transports;

  /* to filter out duplicate destinations in case multiudpsink is too old to do
   * this for us */
  gboolean      filter_duplicates;
  GList        *destinations;
};
</pre>
<p>
The definition of a media stream. The streams are identified by <em class="parameter"><code>id</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.srcpad"></a>srcpad</code></em>;</span></p></td>
<td>the srcpad of the stream</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.payloader"></a>payloader</code></em>;</span></p></td>
<td>the payloader of the format</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gboolean</span> <em class="structfield"><code><a name="GstRTSPMediaStream.prepared"></a>prepared</code></em>;</span></p></td>
<td>if the stream is prepared for streaming</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.recv-rtcp-sink"></a>recv_rtcp_sink</code></em>;</span></p></td>
<td>sinkpad for RTCP buffers</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.recv-rtp-sink"></a>recv_rtp_sink</code></em>;</span></p></td>
<td>sinkpad for RTP buffers</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.send-rtp-sink"></a>send_rtp_sink</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.send-rtp-src"></a>send_rtp_src</code></em>;</span></p></td>
<td>srcpad for RTP buffers</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstPad</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.send-rtcp-src"></a>send_rtcp_src</code></em>;</span></p></td>
<td>srcpad for RTCP buffers</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GObject</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.session"></a>session</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.udpsrc"></a>udpsrc</code></em>[2];</span></p></td>
<td>the udp source elements for RTP/RTCP</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.udpsink"></a>udpsink</code></em>[2];</span></p></td>
<td>the udp sink elements for RTP/RTCP</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.appsrc"></a>appsrc</code></em>[2];</span></p></td>
<td>the app source elements for RTP/RTCP</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.appsink"></a>appsink</code></em>[2];</span></p></td>
<td>the app sink elements for RTP/RTCP</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.tee"></a>tee</code></em>[2];</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstElement</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.selector"></a>selector</code></em>[2];</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstRTSPRange</span> <em class="structfield"><code><a name="GstRTSPMediaStream.server-port"></a>server_port</code></em>;</span></p></td>
<td>the server ports for this stream</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gulong</span> <em class="structfield"><code><a name="GstRTSPMediaStream.caps-sig"></a>caps_sig</code></em>;</span></p></td>
<td>the signal id for detecting caps</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstCaps</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.caps"></a>caps</code></em>;</span></p></td>
<td>the caps of the stream</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GList</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.transports"></a>transports</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gboolean</span> <em class="structfield"><code><a name="GstRTSPMediaStream.filter-duplicates"></a>filter_duplicates</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GList</span> *<em class="structfield"><code><a name="GstRTSPMediaStream.destinations"></a>destinations</code></em>;</span></p></td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia-struct"></a><h3>struct GstRTSPMedia</h3>
<pre class="programlisting">struct GstRTSPMedia;</pre>
<p>
A class that contains the GStreamer element along with a list of
<a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> objects that can produce data.
</p>
<p>
This object is usually created from a <a class="link" href="GstRTSPMediaFactory.html" title="GstRTSPMediaFactory"><span class="type">GstRTSPMediaFactory</span></a>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMediaClass"></a><h3>struct GstRTSPMediaClass</h3>
<pre class="programlisting">struct GstRTSPMediaClass {
  GObjectClass  parent_class;

  /* thread for the mainloop */
  GMainContext *context;
  GMainLoop    *loop;
  GThread      *thread;

  /* vmethods */
  gboolean     (*handle_message)  (GstRTSPMedia *media, GstMessage *message);
  gboolean     (*unprepare)       (GstRTSPMedia *media);

  /* signals */
  gboolean     (*prepared)        (GstRTSPMedia *media);
  gboolean     (*unprepared)      (GstRTSPMedia *media);

  gboolean     (*new_state)       (GstRTSPMedia *media, GstState state);
};
</pre>
<p>
The RTSP media class
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><span class="type">GObjectClass</span> <em class="structfield"><code><a name="GstRTSPMediaClass.parent-class"></a>parent_class</code></em>;</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GMainContext</span> *<em class="structfield"><code><a name="GstRTSPMediaClass.context"></a>context</code></em>;</span></p></td>
<td>the main context for dispatching messages</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GMainLoop</span> *<em class="structfield"><code><a name="GstRTSPMediaClass.loop"></a>loop</code></em>;</span></p></td>
<td>the mainloop for message.</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GThread</span> *<em class="structfield"><code><a name="GstRTSPMediaClass.thread"></a>thread</code></em>;</span></p></td>
<td>the thread dispatching messages.</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstRTSPMediaClass.handle-message"></a>handle_message</code></em> ()</span></p></td>
<td>handle a message</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstRTSPMediaClass.unprepare"></a>unprepare</code></em> ()</span></p></td>
<td>the default implementation sets the pipeline's state
to GST_STATE_NULL.</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstRTSPMediaClass.prepared"></a>prepared</code></em> ()</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstRTSPMediaClass.unprepared"></a>unprepared</code></em> ()</span></p></td>
<td></td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code><a name="GstRTSPMediaClass.new-state"></a>new_state</code></em> ()</span></p></td>
<td></td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMediaTrans"></a><h3>struct GstRTSPMediaTrans</h3>
<pre class="programlisting">struct GstRTSPMediaTrans {
  guint idx;

  GstRTSPSendFunc      send_rtp;
  GstRTSPSendFunc      send_rtcp;
  GstRTSPSendListFunc  send_rtp_list;
  GstRTSPSendListFunc  send_rtcp_list;
  gpointer             user_data;
  GDestroyNotify       notify;

  GstRTSPKeepAliveFunc keep_alive;
  gpointer             ka_user_data;
  GDestroyNotify       ka_notify;
  gboolean             active;
  gboolean             timeout;

  GstRTSPTransport    *transport;

  GObject             *rtpsource;
};
</pre>
<p>
A Transport description for stream <em class="parameter"><code>idx</code></em>
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><span class="type">guint</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.idx"></a>idx</code></em>;</span></p></td>
<td>a stream index</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="GstRTSPMedia.html#GstRTSPSendFunc" title="GstRTSPSendFunc ()"><span class="type">GstRTSPSendFunc</span></a> <em class="structfield"><code><a name="GstRTSPMediaTrans.send-rtp"></a>send_rtp</code></em>;</span></p></td>
<td>callback for sending RTP messages</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="GstRTSPMedia.html#GstRTSPSendFunc" title="GstRTSPSendFunc ()"><span class="type">GstRTSPSendFunc</span></a> <em class="structfield"><code><a name="GstRTSPMediaTrans.send-rtcp"></a>send_rtcp</code></em>;</span></p></td>
<td>callback for sending RTCP messages</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="GstRTSPMedia.html#GstRTSPSendListFunc" title="GstRTSPSendListFunc ()"><span class="type">GstRTSPSendListFunc</span></a> <em class="structfield"><code><a name="GstRTSPMediaTrans.send-rtp-list"></a>send_rtp_list</code></em>;</span></p></td>
<td>callback for sending RTP messages</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="GstRTSPMedia.html#GstRTSPSendListFunc" title="GstRTSPSendListFunc ()"><span class="type">GstRTSPSendListFunc</span></a> <em class="structfield"><code><a name="GstRTSPMediaTrans.send-rtcp-list"></a>send_rtcp_list</code></em>;</span></p></td>
<td>callback for sending RTCP messages</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gpointer</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.user-data"></a>user_data</code></em>;</span></p></td>
<td>user data passed in the callbacks</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GDestroyNotify</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.notify"></a>notify</code></em>;</span></p></td>
<td>free function for the user_data.</td>
</tr>
<tr>
<td><p><span class="term"><a class="link" href="GstRTSPMedia.html#GstRTSPKeepAliveFunc" title="GstRTSPKeepAliveFunc ()"><span class="type">GstRTSPKeepAliveFunc</span></a> <em class="structfield"><code><a name="GstRTSPMediaTrans.keep-alive"></a>keep_alive</code></em>;</span></p></td>
<td>keep alive callback</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gpointer</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.ka-user-data"></a>ka_user_data</code></em>;</span></p></td>
<td>data passed to <em class="parameter"><code>keep_alive</code></em>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GDestroyNotify</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.ka-notify"></a>ka_notify</code></em>;</span></p></td>
<td>called when <em class="parameter"><code>ka_user_data</code></em> is freed</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gboolean</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.active"></a>active</code></em>;</span></p></td>
<td>if we are actively sending</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">gboolean</span> <em class="structfield"><code><a name="GstRTSPMediaTrans.timeout"></a>timeout</code></em>;</span></p></td>
<td>if we timed out</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GstRTSPTransport</span> *<em class="structfield"><code><a name="GstRTSPMediaTrans.transport"></a>transport</code></em>;</span></p></td>
<td>a transport description</td>
</tr>
<tr>
<td><p><span class="term"><span class="type">GObject</span> *<em class="structfield"><code><a name="GstRTSPMediaTrans.rtpsource"></a>rtpsource</code></em>;</span></p></td>
<td>the receiver rtp source object</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPSendFunc"></a><h3>GstRTSPSendFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            (*GstRTSPSendFunc)                  (<em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>,
                                                         <em class="parameter"><code><span class="type">guint8</span> channel</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPSendListFunc"></a><h3>GstRTSPSendListFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            (*GstRTSPSendListFunc)              (<em class="parameter"><code><span class="type">GstBufferList</span> *blist</code></em>,
                                                         <em class="parameter"><code><span class="type">guint8</span> channel</code></em>,
                                                         <em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPKeepAliveFunc"></a><h3>GstRTSPKeepAliveFunc ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                (*GstRTSPKeepAliveFunc)             (<em class="parameter"><code><span class="type">gpointer</span> user_data</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMediaStatus"></a><h3>enum GstRTSPMediaStatus</h3>
<pre class="programlisting">typedef enum {
  GST_RTSP_MEDIA_STATUS_UNPREPARED = 0,
  GST_RTSP_MEDIA_STATUS_PREPARING  = 1,
  GST_RTSP_MEDIA_STATUS_PREPARED   = 2,
  GST_RTSP_MEDIA_STATUS_ERROR      = 3
} GstRTSPMediaStatus;
</pre>
<p>
The state of the media pipeline.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><a name="GST-RTSP-MEDIA-STATUS-UNPREPARED:CAPS"></a><span class="term"><code class="literal">GST_RTSP_MEDIA_STATUS_UNPREPARED</code></span></p></td>
<td>media pipeline not prerolled
</td>
</tr>
<tr>
<td><p><a name="GST-RTSP-MEDIA-STATUS-PREPARING:CAPS"></a><span class="term"><code class="literal">GST_RTSP_MEDIA_STATUS_PREPARING</code></span></p></td>
<td>media pipeline is prerolling
</td>
</tr>
<tr>
<td><p><a name="GST-RTSP-MEDIA-STATUS-PREPARED:CAPS"></a><span class="term"><code class="literal">GST_RTSP_MEDIA_STATUS_PREPARED</code></span></p></td>
<td>media pipeline is prerolled
</td>
</tr>
<tr>
<td><p><a name="GST-RTSP-MEDIA-STATUS-ERROR:CAPS"></a><span class="term"><code class="literal">GST_RTSP_MEDIA_STATUS_ERROR</code></span></p></td>
<td>media pipeline is in error
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-new"></a><h3>gst_rtsp_media_new ()</h3>
<pre class="programlisting"><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="returnvalue">GstRTSPMedia</span></a> *      gst_rtsp_media_new                  (<em class="parameter"><code><span class="type">void</span></code></em>);</pre>
<p>
Create a new <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> instance. The <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> object contains the
element to produde RTP data for one or more related (audio/video/..) 
streams.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a new <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> object.</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-set-shared"></a><h3>gst_rtsp_media_set_shared ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_set_shared           (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> shared</code></em>);</pre>
<p>
Set or unset if the pipeline for <em class="parameter"><code>media</code></em> can be shared will multiple clients.
When <em class="parameter"><code>shared</code></em> is <code class="literal">TRUE</code>, client requests for this media will share the media
pipeline.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>shared</code></em> :</span></p></td>
<td>the new value</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-is-shared"></a><h3>gst_rtsp_media_is_shared ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_is_shared            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Check if the pipeline for <em class="parameter"><code>media</code></em> can be shared between multiple clients.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the media can be shared between clients.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-set-reusable"></a><h3>gst_rtsp_media_set_reusable ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_set_reusable         (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> reusable</code></em>);</pre>
<p>
Set or unset if the pipeline for <em class="parameter"><code>media</code></em> can be reused after the pipeline has
been unprepared.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>reusable</code></em> :</span></p></td>
<td>the new value</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-is-reusable"></a><h3>gst_rtsp_media_is_reusable ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_is_reusable          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Check if the pipeline for <em class="parameter"><code>media</code></em> can be reused after an unprepare.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the media can be reused</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-set-protocols"></a><h3>gst_rtsp_media_set_protocols ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_set_protocols        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstRTSPLowerTrans</span> protocols</code></em>);</pre>
<p>
Configure the allowed lower transport for <em class="parameter"><code>media</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>protocols</code></em> :</span></p></td>
<td>the new flags</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-get-protocols"></a><h3>gst_rtsp_media_get_protocols ()</h3>
<pre class="programlisting"><span class="returnvalue">GstRTSPLowerTrans</span>   gst_rtsp_media_get_protocols        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Get the allowed protocols of <em class="parameter"><code>media</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a <span class="type">GstRTSPLowerTrans</span>
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-set-eos-shutdown"></a><h3>gst_rtsp_media_set_eos_shutdown ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_set_eos_shutdown     (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> eos_shutdown</code></em>);</pre>
<p>
Set or unset if an EOS event will be sent to the pipeline for <em class="parameter"><code>media</code></em> before
it is unprepared.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>eos_shutdown</code></em> :</span></p></td>
<td>the new value</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-is-eos-shutdown"></a><h3>gst_rtsp_media_is_eos_shutdown ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_is_eos_shutdown      (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Check if the pipeline for <em class="parameter"><code>media</code></em> will send an EOS down the pipeline before
unpreparing.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> if the media will send EOS before unpreparing.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-prepare"></a><h3>gst_rtsp_media_prepare ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_prepare              (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Prepare <em class="parameter"><code>media</code></em> for streaming. This function will create the pipeline and
other objects to manage the streaming.
</p>
<p>
It will preroll the pipeline and collect vital information about the streams
such as the duration.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> on success.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-is-prepared"></a><h3>gst_rtsp_media_is_prepared ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_is_prepared          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-unprepare"></a><h3>gst_rtsp_media_unprepare ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_unprepare            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Unprepare <em class="parameter"><code>media</code></em>. After this call, the media should be prepared again before
it can be used again. If the media is set to be non-reusable, a new instance
must be created.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> on success.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-n-streams"></a><h3>gst_rtsp_media_n_streams ()</h3>
<pre class="programlisting"><span class="returnvalue">guint</span>               gst_rtsp_media_n_streams            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Get the number of streams in this media.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The number of streams.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-get-stream"></a><h3>gst_rtsp_media_get_stream ()</h3>
<pre class="programlisting"><a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="returnvalue">GstRTSPMediaStream</span></a> * gst_rtsp_media_get_stream          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">guint</span> idx</code></em>);</pre>
<p>
Retrieve the stream with index <em class="parameter"><code>idx</code></em> from <em class="parameter"><code>media</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>idx</code></em> :</span></p></td>
<td>the stream index</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>the <a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> at index <em class="parameter"><code>idx</code></em> or <code class="literal">NULL</code> when a stream with
that index did not exist.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-seek"></a><h3>gst_rtsp_media_seek ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_seek                 (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstRTSPTimeRange</span> *range</code></em>);</pre>
<p>
Seek the pipeline to <em class="parameter"><code>range</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>range</code></em> :</span></p></td>
<td>a <span class="type">GstRTSPTimeRange</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> on success.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-get-range-string"></a><h3>gst_rtsp_media_get_range_string ()</h3>
<pre class="programlisting"><span class="returnvalue">gchar</span> *             gst_rtsp_media_get_range_string     (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">gboolean</span> play</code></em>);</pre>
<p>
Get the current range as a string.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>play</code></em> :</span></p></td>
<td>for the PLAY request</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>The range as a string, <code class="function">g_free()</code> after usage.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-stream-rtp"></a><h3>gst_rtsp_media_stream_rtp ()</h3>
<pre class="programlisting"><span class="returnvalue">GstFlowReturn</span>       gst_rtsp_media_stream_rtp           (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>);</pre>
<p>
Handle an RTP buffer for the stream. This method is usually called when a
message has been received from a client using the TCP transport.
</p>
<p>
This function takes ownership of <em class="parameter"><code>buffer</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a <span class="type">GstBuffer</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a GstFlowReturn.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-stream-rtcp"></a><h3>gst_rtsp_media_stream_rtcp ()</h3>
<pre class="programlisting"><span class="returnvalue">GstFlowReturn</span>       gst_rtsp_media_stream_rtcp          (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a> *stream</code></em>,
                                                         <em class="parameter"><code><span class="type">GstBuffer</span> *buffer</code></em>);</pre>
<p>
Handle an RTCP buffer for the stream. This method is usually called when a
message has been received from a client using the TCP transport.
</p>
<p>
This function takes ownership of <em class="parameter"><code>buffer</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html#GstRTSPMediaStream" title="struct GstRTSPMediaStream"><span class="type">GstRTSPMediaStream</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>buffer</code></em> :</span></p></td>
<td>a <span class="type">GstBuffer</span>
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>a GstFlowReturn.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-set-state"></a><h3>gst_rtsp_media_set_state ()</h3>
<pre class="programlisting"><span class="returnvalue">gboolean</span>            gst_rtsp_media_set_state            (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>,
                                                         <em class="parameter"><code><span class="type">GstState</span> state</code></em>,
                                                         <em class="parameter"><code><span class="type">GArray</span> *transports</code></em>);</pre>
<p>
Set the state of <em class="parameter"><code>media</code></em> to <em class="parameter"><code>state</code></em> and for the transports in <em class="parameter"><code>transports</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>state</code></em> :</span></p></td>
<td>the target state of the media</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>transports</code></em> :</span></p></td>
<td>a <span class="type">GArray</span> of <a class="link" href="GstRTSPMedia.html#GstRTSPMediaTrans" title="struct GstRTSPMediaTrans"><span class="type">GstRTSPMediaTrans</span></a> pointers</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span> :</span></p></td>
<td>
<code class="literal">TRUE</code> on success.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-remove-elements"></a><h3>gst_rtsp_media_remove_elements ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_remove_elements      (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *media</code></em>);</pre>
<p>
Remove all elements and the pipeline controlled by <em class="parameter"><code>media</code></em>.
</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody><tr>
<td><p><span class="term"><em class="parameter"><code>media</code></em> :</span></p></td>
<td>a <a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a>
</td>
</tr></tbody>
</table></div>
</div>
<hr>
<div class="refsect2">
<a name="gst-rtsp-media-trans-cleanup"></a><h3>gst_rtsp_media_trans_cleanup ()</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                gst_rtsp_media_trans_cleanup        (<em class="parameter"><code><a class="link" href="GstRTSPMedia.html#GstRTSPMediaTrans" title="struct GstRTSPMediaTrans"><span class="type">GstRTSPMediaTrans</span></a> *trans</code></em>);</pre>
</div>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.property-details"></a><h2>Property Details</h2>
<div class="refsect2">
<a name="GstRTSPMedia--eos-shutdown"></a><h3>The <code class="literal">"eos-shutdown"</code> property</h3>
<pre class="programlisting">  "eos-shutdown"             <span class="type">gboolean</span>              : Read / Write</pre>
<p>Send an EOS event to the pipeline before unpreparing.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia--protocols"></a><h3>The <code class="literal">"protocols"</code> property</h3>
<pre class="programlisting">  "protocols"                <span class="type">GstRTSPLowerTrans</span>     : Read / Write</pre>
<p>Allowed lower transport protocols.</p>
<p>Default value: GST_RTSP_LOWER_TRANS_UDP|GST_RTSP_LOWER_TRANS_TCP</p>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia--reusable"></a><h3>The <code class="literal">"reusable"</code> property</h3>
<pre class="programlisting">  "reusable"                 <span class="type">gboolean</span>              : Read / Write</pre>
<p>If this media pipeline can be reused after an unprepare.</p>
<p>Default value: FALSE</p>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia--shared"></a><h3>The <code class="literal">"shared"</code> property</h3>
<pre class="programlisting">  "shared"                   <span class="type">gboolean</span>              : Read / Write</pre>
<p>If this media pipeline can be shared.</p>
<p>Default value: FALSE</p>
</div>
</div>
<div class="refsect1">
<a name="GstRTSPMedia.signal-details"></a><h2>Signal Details</h2>
<div class="refsect2">
<a name="GstRTSPMedia-new-state"></a><h3>The <code class="literal">"new-state"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *gstrtspmedia,
                                                        <span class="type">gpointer</span>      user_data)         : <code class="literal">Run Last</code></pre>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia-prepared"></a><h3>The <code class="literal">"prepared"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *gstrtspmedia,
                                                        <span class="type">gpointer</span>      user_data)         : <code class="literal">Run Last</code></pre>
</div>
<hr>
<div class="refsect2">
<a name="GstRTSPMedia-unprepared"></a><h3>The <code class="literal">"unprepared"</code> signal</h3>
<pre class="programlisting"><span class="returnvalue">void</span>                user_function                      (<a class="link" href="GstRTSPMedia.html" title="GstRTSPMedia"><span class="type">GstRTSPMedia</span></a> *gstrtspmedia,
                                                        <span class="type">gpointer</span>      user_data)         : <code class="literal">Run Last</code></pre>
</div>
</div>
</div>
<div class="footer">
<hr>
          Generated by GTK-Doc V1.18</div>
</body>
</html>